{"version":3,"mappings":"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","names":["iconGridStyle","skeletons","IconList","React","__vitePreload","IconPicker","onIconSelected","trans","useTrans","value","setValue","jsxs","jsx","TextField","e","AnimatePresence","Suspense","m","opacityAnimation","_","index","Skeleton","IconPickerDialog","Dialog","DialogHeader","Trans","DialogBody","IconPickerWrapper","close","useDialogContext","useAvailableRoutes","data","useQuery","commonAdminQueries","route","MenuItemForm","formPathPrefix","hideRoleAndPermissionFields","children","prefixName","name","Fragment","FormTextField","message","IconDialogTrigger","DestinationSelector","TargetSelect","RoleSelector","PermissionSelector","SubscriptionStatusSelector","buttonProps","watch","useFormContext","fieldName","watchedItemIcon","Icon","createSvgIconFromTree","DialogTrigger","iconTree","IconButton","EditIcon","form","currentType","previousType","usePrevious","useValueLists","categories","selectedCategory","routeItems","useEffect","FormSelect","Option","category","item","Item","roles","FormChipField","_a","r","c","role","permissionQuery","groupedPermissions","useMemo","buildPermissionList","groupName","items","Section","prettyName","permission","billing","useSettings"],"ignoreList":[],"sources":["../../../common/foundation/resources/client/ui/icon-picker/icon-grid-style.ts","../../../common/foundation/resources/client/ui/icon-picker/icon-picker.tsx","../../../common/foundation/resources/client/ui/icon-picker/icon-picker-dialog.tsx","../../../common/foundation/resources/client/admin/settings/pages/menu-settings/use-available-routes.ts","../../../common/foundation/resources/client/admin/menus/menu-item-form.tsx"],"sourcesContent":["export const iconGridStyle = {\n  grid: 'flex flex-wrap gap-24',\n  button:\n    'flex flex-col items-center rounded hover:bg-hover h-90 aspect-square',\n};\n","import React, {Suspense} from 'react';\nimport {iconGridStyle} from '@common/ui/icon-picker/icon-grid-style';\nimport {Skeleton} from '@ui/skeleton/skeleton';\nimport {useTrans} from '@ui/i18n/use-trans';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '@ui/animation/opacity-animation';\nimport {TextField} from '@ui/forms/input-field/text-field/text-field';\nimport {IconTree} from '@ui/icons/create-svg-icon';\n\nconst skeletons = [...Array(60).keys()];\n\nconst IconList = React.lazy(() => import('./icon-list'));\n\ninterface IconListProps {\n  onIconSelected: (icon: IconTree[] | null) => void;\n}\nexport default function IconPicker({onIconSelected}: IconListProps) {\n  const {trans} = useTrans();\n  const [value, setValue] = React.useState('');\n\n  return (\n    <div className=\"py-4\">\n      <TextField\n        className=\"mb-20\"\n        value={value}\n        onChange={e => {\n          setValue(e.target.value);\n        }}\n        placeholder={trans({message: 'Search icons...'})}\n      />\n      <AnimatePresence mode=\"wait\">\n        <Suspense\n          fallback={\n            <m.div {...opacityAnimation} className={iconGridStyle.grid}>\n              {skeletons.map((_, index) => (\n                <div className={iconGridStyle.button} key={index}>\n                  <Skeleton variant=\"rect\" />\n                </div>\n              ))}\n            </m.div>\n          }\n        >\n          <m.div {...opacityAnimation} className={iconGridStyle.grid}>\n            <IconList searchQuery={value} onIconSelected={onIconSelected} />\n          </m.div>\n        </Suspense>\n      </AnimatePresence>\n    </div>\n  );\n}\n","import React from 'react';\nimport IconPicker from './icon-picker';\nimport {Trans} from '@ui/i18n/trans';\nimport {Dialog} from '@ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '@ui/overlays/dialog/dialog-body';\nimport {useDialogContext} from '@ui/overlays/dialog/dialog-context';\n\nexport function IconPickerDialog() {\n  return (\n    <Dialog size=\"w-850\" className=\"min-h-dialog\">\n      <DialogHeader>\n        <Trans message=\"Select icon\" />\n      </DialogHeader>\n      <DialogBody>\n        <IconPickerWrapper />\n      </DialogBody>\n    </Dialog>\n  );\n}\n\nfunction IconPickerWrapper() {\n  const {close} = useDialogContext();\n  return (\n    <IconPicker\n      onIconSelected={value => {\n        close(value);\n      }}\n    />\n  );\n}\n","import {commonAdminQueries} from '@common/admin/common-admin-queries';\nimport {MenuItemConfig} from '@common/menus/menu-config';\nimport {useQuery} from '@tanstack/react-query';\n\nexport function useAvailableRoutes(): Partial<MenuItemConfig>[] {\n  const {data} = useQuery(commonAdminQueries.settings.menuEditorConfig());\n\n  if (!data?.config) return [];\n\n  return data.config.available_routes.map(route => {\n    return {\n      id: route,\n      label: route,\n      action: route,\n      type: 'route',\n      target: '_self',\n    };\n  });\n}\n","import {commonAdminQueries} from '@common/admin/common-admin-queries';\nimport {\n  buildPermissionList,\n  prettyName,\n} from '@common/auth/ui/permission-selector';\nimport {MenuItemConfig} from '@common/menus/menu-config';\nimport {useQuery} from '@tanstack/react-query';\nimport {ButtonBaseProps} from '@ui/buttons/button-base';\nimport {IconButton} from '@ui/buttons/icon-button';\nimport {FormChipField} from '@ui/forms/input-field/chip-field/form-chip-field';\nimport {FormTextField} from '@ui/forms/input-field/text-field/text-field';\nimport {Item} from '@ui/forms/listbox/item';\nimport {Section} from '@ui/forms/listbox/section';\nimport {FormSelect, Option} from '@ui/forms/select/select';\nimport {message} from '@ui/i18n/message';\nimport {Trans} from '@ui/i18n/trans';\nimport {useTrans} from '@ui/i18n/use-trans';\nimport {createSvgIconFromTree, IconTree} from '@ui/icons/create-svg-icon';\nimport {EditIcon} from '@ui/icons/material/Edit';\nimport {DialogTrigger} from '@ui/overlays/dialog/dialog-trigger';\nimport {useSettings} from '@ui/settings/use-settings';\nimport {usePrevious} from '@ui/utils/hooks/use-previous';\nimport {Fragment, ReactNode, useEffect, useMemo} from 'react';\nimport {useFormContext} from 'react-hook-form';\nimport {useValueLists} from '../../http/value-lists';\nimport {IconPickerDialog} from '../../ui/icon-picker/icon-picker-dialog';\nimport {useAvailableRoutes} from '../settings/pages/menu-settings/use-available-routes';\n\ninterface NameProps {\n  prefixName: (name: string) => string;\n}\n\ninterface MenuItemFormProps {\n  formPathPrefix?: string;\n  hideRoleAndPermissionFields?: boolean;\n  children?: ReactNode;\n}\nexport function MenuItemForm({\n  formPathPrefix,\n  hideRoleAndPermissionFields,\n  children,\n}: MenuItemFormProps) {\n  const {trans} = useTrans();\n  const prefixName = (name: string): string => {\n    return formPathPrefix ? `${formPathPrefix}.${name}` : name;\n  };\n\n  return (\n    <Fragment>\n      <FormTextField\n        className=\"mb-20\"\n        name={prefixName('label')}\n        label={<Trans message=\"Label\" />}\n        placeholder={trans(message('No label...'))}\n        startAppend={<IconDialogTrigger prefixName={prefixName} />}\n      />\n      {children}\n      <DestinationSelector prefixName={prefixName} />\n      <TargetSelect prefixName={prefixName} />\n      {!hideRoleAndPermissionFields && (\n        <Fragment>\n          <RoleSelector prefixName={prefixName} />\n          <PermissionSelector prefixName={prefixName} />\n          <SubscriptionStatusSelector prefixName={prefixName} />\n        </Fragment>\n      )}\n    </Fragment>\n  );\n}\n\ninterface IconDialogTriggerProps extends ButtonBaseProps, NameProps {}\nfunction IconDialogTrigger({\n  prefixName,\n  ...buttonProps\n}: IconDialogTriggerProps) {\n  const {watch, setValue} = useFormContext<MenuItemConfig>();\n  const fieldName = prefixName('icon') as 'icon';\n  const watchedItemIcon = watch(fieldName);\n  const Icon = watchedItemIcon && createSvgIconFromTree(watchedItemIcon);\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={(iconTree?: IconTree[] | null) => {\n        // null will be set explicitly if icon is cleared via icon picker\n        if (iconTree || iconTree === null) {\n          setValue(fieldName, iconTree, {\n            shouldDirty: true,\n          });\n        }\n      }}\n    >\n      <IconButton\n        className=\"text-muted icon-sm\"\n        variant=\"outline\"\n        size=\"md\"\n        {...buttonProps}\n      >\n        {Icon ? <Icon /> : <EditIcon />}\n      </IconButton>\n      <IconPickerDialog />\n    </DialogTrigger>\n  );\n}\n\nfunction DestinationSelector({prefixName}: NameProps) {\n  const form = useFormContext<MenuItemConfig>();\n  const currentType = form.watch(prefixName('type') as 'type');\n  const previousType = usePrevious(currentType);\n  const {data} = useValueLists(['menuItemCategories']);\n  const categories = data?.menuItemCategories || [];\n  const selectedCategory = categories.find(c => c.type === currentType);\n  const {trans} = useTrans();\n  const routeItems = useAvailableRoutes();\n\n  // clear \"action\" field when \"type\" field changes\n  useEffect(() => {\n    if (\n      previousType &&\n      previousType !== currentType &&\n      form.getValues(prefixName('type') as 'type')\n    ) {\n      form.setValue(prefixName('action') as 'action', '');\n    }\n  }, [currentType, previousType, form, prefixName]);\n\n  return (\n    <Fragment>\n      <FormSelect\n        className=\"mb-20\"\n        name={prefixName('type')}\n        selectionMode=\"single\"\n        label={<Trans message=\"Link type\" />}\n      >\n        <Option value=\"link\">\n          <Trans message=\"External link\" />\n        </Option>\n        <Option value=\"route\">\n          <Trans message=\"Site page\" />\n        </Option>\n        {categories.map(category => (\n          <Option key={category.type} value={category.type}>\n            {category.name}\n          </Option>\n        ))}\n      </FormSelect>\n      {currentType === 'link' && (\n        <FormTextField\n          className=\"mb-20\"\n          required\n          type=\"url\"\n          name={prefixName('action')}\n          placeholder={trans({message: 'Enter a url...'})}\n          label={<Trans message=\"Url\" />}\n        />\n      )}\n      {currentType === 'route' && (\n        <FormSelect\n          className=\"mb-20\"\n          required\n          items={routeItems}\n          name={prefixName('action')}\n          label={<Trans message=\"Page\" />}\n          searchPlaceholder={trans(message('Search pages'))}\n          showSearchField\n          selectionMode=\"single\"\n        >\n          {item => (\n            <Item value={item.id} key={item.id}>\n              {item.label}\n            </Item>\n          )}\n        </FormSelect>\n      )}\n      {selectedCategory && (\n        <FormSelect\n          className=\"mb-20\"\n          required\n          items={selectedCategory.items}\n          name={prefixName('action')}\n          showSearchField\n          searchPlaceholder={trans(message('Search...'))}\n          selectionMode=\"single\"\n          label={<Trans message={selectedCategory.name} />}\n        >\n          {item => (\n            <Item value={item.action}>\n              <Trans message={item.label} />\n            </Item>\n          )}\n        </FormSelect>\n      )}\n    </Fragment>\n  );\n}\n\nfunction RoleSelector({prefixName}: NameProps) {\n  const {data} = useValueLists(['roles']);\n  const roles = data?.roles || [];\n  const {trans} = useTrans();\n\n  return (\n    <FormChipField\n      className=\"my-20\"\n      placeholder={trans({message: 'Add role...'})}\n      label={<Trans message=\"Only show if user has role\" />}\n      name={prefixName('roles')}\n      chipSize=\"sm\"\n      suggestions={roles}\n      valueKey=\"id\"\n      displayWith={c => roles.find(r => r.id === c.id)?.name}\n    >\n      {role => (\n        <Item value={role.id} key={role.id} capitalizeFirst>\n          <Trans message={role.name} />\n        </Item>\n      )}\n    </FormChipField>\n  );\n}\n\nfunction PermissionSelector({prefixName}: NameProps) {\n  const permissionQuery = useQuery(commonAdminQueries.permissions.index());\n  const {trans} = useTrans();\n\n  const groupedPermissions = useMemo(() => {\n    return buildPermissionList(permissionQuery.data?.permissions || [], []);\n  }, [permissionQuery.data?.permissions]);\n\n  return (\n    <FormChipField\n      label={<Trans message=\"Only show if user has permissions\" />}\n      placeholder={trans({message: 'Add permission...'})}\n      chipSize=\"sm\"\n      suggestions={groupedPermissions}\n      name={prefixName('permissions')}\n      valueKey=\"name\"\n    >\n      {({groupName, items}) => (\n        <Section label={prettyName(groupName)} key={groupName}>\n          {items.map(permission => (\n            <Item\n              key={permission.name}\n              value={permission.name}\n              description={<Trans message={permission.description} />}\n            >\n              <Trans message={permission.display_name || permission.name} />\n            </Item>\n          ))}\n        </Section>\n      )}\n    </FormChipField>\n  );\n}\n\nfunction SubscriptionStatusSelector({prefixName}: NameProps) {\n  const {billing} = useSettings();\n  if (!billing.enable) return null;\n  return (\n    <FormSelect\n      selectionMode=\"single\"\n      className=\"mt-20\"\n      label={<Trans message=\"Subscription status\" />}\n      name={prefixName('subscriptionStatus')}\n    >\n      <Item value=\"subscribed\">\n        <Trans message=\"Only show if user is subscribed\" />\n      </Item>\n      <Item value=\"unsubscribed\">\n        <Trans message=\"Only show if user is not subscribed\" />\n      </Item>\n      <Item value={null}>\n        <Trans message=\"Always show\" />\n      </Item>\n    </FormSelect>\n  );\n}\n\nfunction TargetSelect({prefixName}: NameProps) {\n  return (\n    <FormSelect\n      className=\"mt-20\"\n      selectionMode=\"single\"\n      name={prefixName('target')}\n      label={<Trans message=\"Open link in\" />}\n    >\n      <Option value=\"_self\">\n        <Trans message=\"Same window\" />\n      </Option>\n      <Option value=\"_blank\">\n        <Trans message=\"New window\" />\n      </Option>\n    </FormSelect>\n  );\n}\n"],"file":"assets/menu-item-form-CRqvoUKU.js"}