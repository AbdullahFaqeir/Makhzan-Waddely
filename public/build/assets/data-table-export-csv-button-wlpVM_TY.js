import{an as d,ao as c,k as u,a7 as m,j as o,M as p,Q as x,T as a,R as g,B as h,r as l,J as f,D as j}from"./main-TIUJvpaR.js";import{F as D}from"./FileDownload-pojohXY8.js";import{d as C}from"./download-file-from-url-BVaKcxRP.js";import{D as v}from"./dialog-footer-yCpPZGPO.js";function w(e){return d({mutationFn:s=>y(e,s),onError:s=>c(s)})}function y(e,s){return u.post(e,s).then(t=>t.data)}function E(){const{close:e}=m();return o.jsxs(p,{children:[o.jsx(x,{children:o.jsx(a,{message:"Csv export"})}),o.jsx(g,{children:o.jsx(a,{message:`Your request is being processed. We'll email you when the report is ready to download. In
            certain cases, it might take a little longer, depending on the number of items beings
            exported and the volume of activity.`})}),o.jsx(v,{children:o.jsx(h,{variant:"flat",color:"primary",onClick:e,children:o.jsx(a,{message:"Got it"})})})]})}function B({endpoint:e,payload:s}){const[t,n]=l.useState(!1),r=w(e);return o.jsxs(l.Fragment,{children:[o.jsx(f,{variant:"outline",color:"primary",size:"sm",className:"flex-shrink-0",disabled:r.isPending,onClick:()=>{r.mutate(s,{onSuccess:i=>{i.downloadPath?C(i.downloadPath):n(!0)}})},children:o.jsx(D,{})}),o.jsx(j,{type:"modal",isOpen:t,onOpenChange:n,children:o.jsx(E,{})})]})}export{B as D};
