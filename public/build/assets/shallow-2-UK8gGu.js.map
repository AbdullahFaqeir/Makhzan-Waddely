{"version":3,"file":"shallow-2-UK8gGu.js","sources":["../../../node_modules/zustand/esm/vanilla/shallow.mjs","../../../node_modules/zustand/esm/react/shallow.mjs"],"sourcesContent":["const isIterable = (obj) => Symbol.iterator in obj;\nconst hasIterableEntries = (value) => (\n  // HACK: avoid checking entries type\n  \"entries\" in value\n);\nconst compareEntries = (valueA, valueB) => {\n  const mapA = valueA instanceof Map ? valueA : new Map(valueA.entries());\n  const mapB = valueB instanceof Map ? valueB : new Map(valueB.entries());\n  if (mapA.size !== mapB.size) {\n    return false;\n  }\n  for (const [key, value] of mapA) {\n    if (!mapB.has(key) || !Object.is(value, mapB.get(key))) {\n      return false;\n    }\n  }\n  return true;\n};\nconst compareIterables = (valueA, valueB) => {\n  const iteratorA = valueA[Symbol.iterator]();\n  const iteratorB = valueB[Symbol.iterator]();\n  let nextA = iteratorA.next();\n  let nextB = iteratorB.next();\n  while (!nextA.done && !nextB.done) {\n    if (!Object.is(nextA.value, nextB.value)) {\n      return false;\n    }\n    nextA = iteratorA.next();\n    nextB = iteratorB.next();\n  }\n  return !!nextA.done && !!nextB.done;\n};\nfunction shallow(valueA, valueB) {\n  if (Object.is(valueA, valueB)) {\n    return true;\n  }\n  if (typeof valueA !== \"object\" || valueA === null || typeof valueB !== \"object\" || valueB === null) {\n    return false;\n  }\n  if (Object.getPrototypeOf(valueA) !== Object.getPrototypeOf(valueB)) {\n    return false;\n  }\n  if (isIterable(valueA) && isIterable(valueB)) {\n    if (hasIterableEntries(valueA) && hasIterableEntries(valueB)) {\n      return compareEntries(valueA, valueB);\n    }\n    return compareIterables(valueA, valueB);\n  }\n  return compareEntries(\n    { entries: () => Object.entries(valueA) },\n    { entries: () => Object.entries(valueB) }\n  );\n}\n\nexport { shallow };\n","import React from 'react';\nimport { shallow } from 'zustand/vanilla/shallow';\n\nfunction useShallow(selector) {\n  const prev = React.useRef(void 0);\n  return (state) => {\n    const next = selector(state);\n    return shallow(prev.current, next) ? prev.current : prev.current = next;\n  };\n}\n\nexport { useShallow };\n"],"names":["isIterable","obj","hasIterableEntries","value","compareEntries","valueA","valueB","mapA","mapB","key","compareIterables","iteratorA","iteratorB","nextA","nextB","shallow","useShallow","selector","prev","React","state","next"],"mappings":"wCAAA,MAAMA,EAAcC,GAAQ,OAAO,YAAYA,EACzCC,EAAsBC,GAE1B,YAAaA,EAETC,EAAiB,CAACC,EAAQC,IAAW,CACzC,MAAMC,EAAOF,aAAkB,IAAMA,EAAS,IAAI,IAAIA,EAAO,SAAS,EAChEG,EAAOF,aAAkB,IAAMA,EAAS,IAAI,IAAIA,EAAO,SAAS,EACtE,GAAIC,EAAK,OAASC,EAAK,KACrB,MAAO,GAET,SAAW,CAACC,EAAKN,CAAK,IAAKI,EACzB,GAAI,CAACC,EAAK,IAAIC,CAAG,GAAK,CAAC,OAAO,GAAGN,EAAOK,EAAK,IAAIC,CAAG,CAAC,EACnD,MAAO,GAGX,MAAO,EACT,EACMC,EAAmB,CAACL,EAAQC,IAAW,CAC3C,MAAMK,EAAYN,EAAO,OAAO,QAAQ,EAAC,EACnCO,EAAYN,EAAO,OAAO,QAAQ,EAAC,EACzC,IAAIO,EAAQF,EAAU,KAAI,EACtBG,EAAQF,EAAU,KAAI,EAC1B,KAAO,CAACC,EAAM,MAAQ,CAACC,EAAM,MAAM,CACjC,GAAI,CAAC,OAAO,GAAGD,EAAM,MAAOC,EAAM,KAAK,EACrC,MAAO,GAETD,EAAQF,EAAU,KAAI,EACtBG,EAAQF,EAAU,KAAI,CACxB,CACA,MAAO,CAAC,CAACC,EAAM,MAAQ,CAAC,CAACC,EAAM,IACjC,EACA,SAASC,EAAQV,EAAQC,EAAQ,CAC/B,OAAI,OAAO,GAAGD,EAAQC,CAAM,EACnB,GAEL,OAAOD,GAAW,UAAYA,IAAW,MAAQ,OAAOC,GAAW,UAAYA,IAAW,MAG1F,OAAO,eAAeD,CAAM,IAAM,OAAO,eAAeC,CAAM,EACzD,GAELN,EAAWK,CAAM,GAAKL,EAAWM,CAAM,EACrCJ,EAAmBG,CAAM,GAAKH,EAAmBI,CAAM,EAClDF,EAAeC,EAAQC,CAAM,EAE/BI,EAAiBL,EAAQC,CAAM,EAEjCF,EACL,CAAE,QAAS,IAAM,OAAO,QAAQC,CAAM,CAAC,EACvC,CAAE,QAAS,IAAM,OAAO,QAAQC,CAAM,CAAC,CAC3C,CACA,CCjDA,SAASU,EAAWC,EAAU,CAC5B,MAAMC,EAAOC,EAAM,OAAO,MAAM,EAChC,OAAQC,GAAU,CAChB,MAAMC,EAAOJ,EAASG,CAAK,EAC3B,OAAOL,EAAQG,EAAK,QAASG,CAAI,EAAIH,EAAK,QAAUA,EAAK,QAAUG,CACrE,CACF","x_google_ignoreList":[0,1]}