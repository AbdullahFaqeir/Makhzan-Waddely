{"version":3,"file":"billing-queries-F2MY7m0o.js","sources":["../../../common/foundation/resources/client/billing/billing-queries.ts"],"sourcesContent":["import {Invoice} from '@common/billing/invoice';\nimport {Product} from '@common/billing/product';\nimport {PaginatedBackendResponse} from '@common/http/backend-response/pagination-response';\nimport {get} from '@common/http/queries-file-helpers';\nimport {queryOptions} from '@tanstack/react-query';\nimport {getBootstrapData} from '@ui/bootstrap-data/bootstrap-data-store';\n\nexport const billingQueries = {\n  products: {\n    invalidateKey: ['billing', 'products'],\n    index: (loader?: 'landingPage' | 'pricingPage') => {\n      const key = ['billing', 'products', 'index'];\n      if (loader) {\n        key.push(loader);\n      }\n      return queryOptions<{products: Product[]}>({\n        queryKey: key,\n        queryFn: () =>\n          get<PaginatedBackendResponse<Product>>('billing/products').then(\n            r => ({\n              products: r.pagination.data,\n            }),\n          ),\n        initialData: () => {\n          if (loader) {\n            // @ts-ignore\n            return getBootstrapData().loaders?.[loader];\n          }\n        },\n      });\n    },\n    get: (productId: number | string) =>\n      queryOptions<{product: Product}>({\n        queryKey: ['billing', 'products', 'get', productId],\n        queryFn: () => get<{product: Product}>(`billing/products/${productId}`),\n      }),\n  },\n  invoices: {\n    invalidateKey: ['billing', 'invoices'],\n    index: (userId: number) =>\n      queryOptions<{invoices: Invoice[]}>({\n        queryKey: ['billing', 'invoices', 'index', userId],\n        queryFn: () => get('billing/invoices', {userId}),\n      }),\n  },\n};\n"],"names":["billingQueries","loader","key","queryOptions","get","r","_a","getBootstrapData","productId","userId"],"mappings":"uDAOO,MAAMA,EAAiB,CAC5B,SAAU,CACR,cAAe,CAAC,UAAW,UAAU,EACrC,MAAQC,GAA2C,CACjD,MAAMC,EAAM,CAAC,UAAW,WAAY,OAAO,EAC3C,OAAID,GACFC,EAAI,KAAKD,CAAM,EAEVE,EAAoC,CACzC,SAAUD,EACV,QAAS,IACPE,EAAuC,kBAAkB,EAAE,KACzDC,IAAM,CACJ,SAAUA,EAAE,WAAW,IAAA,EACzB,EAEJ,YAAa,IAAM,OACjB,GAAIJ,EAEF,OAAOK,EAAAC,EAAA,EAAmB,UAAnB,YAAAD,EAA6BL,EAExC,CAAA,CACD,CACH,EACA,IAAMO,GACJL,EAAiC,CAC/B,SAAU,CAAC,UAAW,WAAY,MAAOK,CAAS,EAClD,QAAS,IAAMJ,EAAwB,oBAAoBI,CAAS,EAAE,CAAA,CACvE,CAAA,EAEL,SAAU,CACR,cAAe,CAAC,UAAW,UAAU,EACrC,MAAQC,GACNN,EAAoC,CAClC,SAAU,CAAC,UAAW,WAAY,QAASM,CAAM,EACjD,QAAS,IAAML,EAAI,mBAAoB,CAAC,OAAAK,EAAO,CAAA,CAChD,CAAA,CAEP"}