{"version":3,"file":"update-user-details-tab-BQfkALsO.js","sources":["../../../common/foundation/resources/client/admin/users/update-user-page/update-user-details-tab.tsx"],"sourcesContent":["import {UpdateUserPayload} from '@common/admin/users/requests/user-update-user';\nimport {UpdateUserForm} from '@common/admin/users/update-user-page/update-user-form';\nimport {UpdateUserPageUser} from '@common/admin/users/update-user-page/update-user-page-user';\nimport {UserRoleSection} from '@common/admin/users/update-user-page/user-role-section';\nimport {useResendVerificationEmail} from '@common/auth/requests/use-resend-verification-email';\nimport {Button} from '@ui/buttons/button';\nimport {FormTextField} from '@ui/forms/input-field/text-field/text-field';\nimport {FormSwitch} from '@ui/forms/toggle/switch';\nimport {Trans} from '@ui/i18n/trans';\nimport {useSettings} from '@ui/settings/use-settings';\nimport {useForm} from 'react-hook-form';\nimport {useOutletContext} from 'react-router';\n\nexport function Component() {\n  const user = useOutletContext() as UpdateUserPageUser;\n  const form = useForm<UpdateUserPayload>({\n    defaultValues: {\n      name: user.name ?? '',\n      roles: user.roles,\n      email_verified_at: !!user.email_verified_at,\n    },\n  });\n\n  return (\n    <UpdateUserForm form={form}>\n      <FormTextField\n        name=\"name\"\n        label={<Trans message=\"Name\" />}\n        className=\"mb-24\"\n      />\n      <EmailConfirmSection user={user} />\n      <UserRoleSection />\n    </UpdateUserForm>\n  );\n}\n\ninterface EmailConfirmSectionProps {\n  user: UpdateUserPageUser;\n}\nfunction EmailConfirmSection({user}: EmailConfirmSectionProps) {\n  const resendConfirmationEmail = useResendVerificationEmail();\n  const {require_email_confirmation} = useSettings();\n  return (\n    <div className=\"mb-44\">\n      <FormSwitch\n        className=\"mb-30\"\n        disabled={!require_email_confirmation}\n        name=\"email_verified_at\"\n        description={\n          <Trans message=\"Whether email address has been confirmed. User will not be able to login until address is confirmed, unless confirmation is disabled from settings page.\" />\n        }\n      >\n        <Trans message=\"Email confirmed\" />\n      </FormSwitch>\n      <Button\n        size=\"xs\"\n        variant=\"outline\"\n        color=\"primary\"\n        disabled={\n          !require_email_confirmation ||\n          resendConfirmationEmail.isPending ||\n          !!user.email_verified_at\n        }\n        onClick={() => {\n          resendConfirmationEmail.mutate({email: user.email});\n        }}\n      >\n        <Trans message=\"Resend email\" />\n      </Button>\n    </div>\n  );\n}\n"],"names":["Component","user","useOutletContext","form","useForm","jsxs","UpdateUserForm","jsx","FormTextField","Trans","EmailConfirmSection","UserRoleSection","resendConfirmationEmail","useResendVerificationEmail","require_email_confirmation","useSettings","FormSwitch","Button"],"mappings":"4fAaO,SAASA,GAAY,CAC1B,MAAMC,EAAOC,EAAA,EACPC,EAAOC,EAA2B,CACtC,cAAe,CACb,KAAMH,EAAK,MAAQ,GACnB,MAAOA,EAAK,MACZ,kBAAmB,CAAC,CAACA,EAAK,iBAAA,CAC5B,CACD,EAED,OACEI,OAACC,GAAe,KAAAH,EACd,SAAA,CAAAI,EAAAA,IAACC,EAAA,CACC,KAAK,OACL,MAAOD,EAAAA,IAACE,EAAA,CAAM,QAAQ,MAAA,CAAO,EAC7B,UAAU,OAAA,CAAA,EAEZF,MAACG,GAAoB,KAAAT,EAAY,QAChCU,EAAA,CAAA,CAAgB,CAAA,EACnB,CAEJ,CAKA,SAASD,EAAoB,CAAC,KAAAT,GAAiC,CAC7D,MAAMW,EAA0BC,EAAA,EAC1B,CAAC,2BAAAC,CAAA,EAA8BC,EAAA,EACrC,OACEV,EAAAA,KAAC,MAAA,CAAI,UAAU,QACb,SAAA,CAAAE,EAAAA,IAACS,EAAA,CACC,UAAU,QACV,SAAU,CAACF,EACX,KAAK,oBACL,YACEP,EAAAA,IAACE,EAAA,CAAM,QAAQ,0JAAA,CAA2J,EAG5K,SAAAF,EAAAA,IAACE,EAAA,CAAM,QAAQ,iBAAA,CAAkB,CAAA,CAAA,EAEnCF,EAAAA,IAACU,EAAA,CACC,KAAK,KACL,QAAQ,UACR,MAAM,UACN,SACE,CAACH,GACDF,EAAwB,WACxB,CAAC,CAACX,EAAK,kBAET,QAAS,IAAM,CACbW,EAAwB,OAAO,CAAC,MAAOX,EAAK,MAAM,CACpD,EAEA,SAAAM,EAAAA,IAACE,EAAA,CAAM,QAAQ,cAAA,CAAe,CAAA,CAAA,CAChC,EACF,CAEJ"}