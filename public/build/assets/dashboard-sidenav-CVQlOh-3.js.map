{"version":3,"file":"dashboard-sidenav-CVQlOh-3.js","sources":["../../../common/foundation/resources/client/ui/dashboard-layout/dashboard-sidenav.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport {m} from 'framer-motion';\nimport {cloneElement, ReactElement, useContext} from 'react';\nimport {DashboardLayoutContext} from './dashboard-layout-context';\n\nexport interface DashboardSidenavChildrenProps {\n  className?: string;\n  isCompactMode?: boolean;\n  isOverlayMode?: boolean;\n}\n\nexport interface SidenavProps {\n  className?: string;\n  children: ReactElement<DashboardSidenavChildrenProps>;\n  position?: 'left' | 'right';\n  size?: 'sm' | 'md' | 'lg' | string;\n  mode?: 'overlay';\n  // absolute will place sidenav between navbar/footer, fixed will overlay it over nav/footer.\n  overlayPosition?: 'absolute' | 'fixed';\n  display?: 'flex' | 'block';\n  overflow?: string;\n  forceClosed?: boolean;\n}\nexport function DashboardSidenav({\n  className,\n  position,\n  children,\n  size = 'md',\n  mode,\n  overlayPosition = 'fixed',\n  display = 'flex',\n  overflow = 'overflow-hidden',\n  forceClosed = false,\n}: SidenavProps) {\n  const {\n    isMobileMode,\n    leftSidenavStatus,\n    setLeftSidenavStatus,\n    rightSidenavStatus,\n    setRightSidenavStatus,\n  } = useContext(DashboardLayoutContext);\n  const isOverlayMode = isMobileMode || mode === 'overlay';\n  let status = position === 'left' ? leftSidenavStatus : rightSidenavStatus;\n  // on mobile always overlay full size sidebar, instead of compact\n  if (isOverlayMode && status === 'compact') {\n    status = 'open';\n  }\n\n  const variants = {\n    open: {\n      display,\n      width: getAnimateSize(status === 'compact' ? 'compact' : size) as any,\n    },\n    closed: {\n      width: 0,\n      transitionEnd: {\n        display: 'none',\n      },\n    },\n  };\n\n  const sizeClassName = getSizeClassName(\n    status === 'compact' ? 'compact' : size,\n  );\n\n  return (\n    <m.div\n      variants={variants}\n      initial={false}\n      animate={forceClosed || status === 'closed' ? 'closed' : 'open'}\n      transition={{type: 'tween', duration: 0.15}}\n      onClick={e => {\n        // close sidenav when user clicks a link or button on mobile\n        const target = e.target as HTMLElement;\n        if (isMobileMode && (target.closest('button') || target.closest('a'))) {\n          setLeftSidenavStatus('closed');\n          setRightSidenavStatus('closed');\n        }\n      }}\n      className={clsx(\n        className,\n        position === 'left'\n          ? 'dashboard-grid-sidenav-left'\n          : 'dashboard-grid-sidenav-right',\n        overflow,\n        sizeClassName,\n        isOverlayMode && `${overlayPosition} bottom-0 top-0 z-20 shadow-2xl`,\n        isOverlayMode && position === 'left' && 'left-0',\n        isOverlayMode && position === 'right' && 'right-0',\n      )}\n    >\n      {cloneElement<DashboardSidenavChildrenProps>(children, {\n        className: clsx(\n          children.props.className,\n          'w-full h-full overflow-y-auto compact-scrollbar',\n          status === 'compact' && 'hidden-scrollbar',\n        ),\n        isCompactMode: status === 'compact',\n        isOverlayMode,\n      })}\n    </m.div>\n  );\n}\n\nfunction getSizeClassName(size: SidenavProps['size'] | 'compact'): string {\n  switch (size) {\n    case 'compact':\n      return 'w-60';\n    case 'sm':\n      return 'w-224';\n    case 'md':\n      return 'w-240';\n    case 'lg':\n      return 'w-288';\n    case 'xl':\n      return 'w-340';\n    default:\n      return size || '';\n  }\n}\n\nfunction getAnimateSize(size: SidenavProps['size'] | 'compact') {\n  switch (size) {\n    case 'compact':\n      return 60;\n    case 'sm':\n      return 224;\n    case 'md':\n      return 240;\n    case 'lg':\n      return 288;\n    case 'xl':\n      return 340;\n    default:\n      return size ? parseInt(size.replace(/^\\D+/g, '')) : null;\n  }\n}\n"],"names":["DashboardSidenav","className","position","children","size","mode","overlayPosition","display","overflow","forceClosed","isMobileMode","leftSidenavStatus","setLeftSidenavStatus","rightSidenavStatus","setRightSidenavStatus","useContext","DashboardLayoutContext","isOverlayMode","status","variants","getAnimateSize","sizeClassName","getSizeClassName","jsx","m","e","target","clsx"],"mappings":"kHAuBO,SAASA,EAAiB,CAC/B,UAAAC,EACA,SAAAC,EACA,SAAAC,EACA,KAAAC,EAAO,KACP,KAAAC,EACA,gBAAAC,EAAkB,QAClB,QAAAC,EAAU,OACV,SAAAC,EAAW,kBACX,YAAAC,EAAc,EAChB,EAAiB,CACf,KAAM,CACJ,aAAAC,EACA,kBAAAC,EACA,qBAAAC,EACA,mBAAAC,EACA,sBAAAC,CAAA,EACEC,EAAAA,WAAWC,CAAsB,EAC/BC,EAAgBP,GAAgBL,IAAS,UAC/C,IAAIa,EAAShB,IAAa,OAASS,EAAoBE,EAEnDI,GAAiBC,IAAW,YAC9BA,EAAS,QAGX,MAAMC,EAAW,CACf,KAAM,CACJ,QAAAZ,EACA,MAAOa,EAAeF,IAAW,UAAY,UAAYd,CAAI,CAAA,EAE/D,OAAQ,CACN,MAAO,EACP,cAAe,CACb,QAAS,MAAA,CACX,CACF,EAGIiB,EAAgBC,EACpBJ,IAAW,UAAY,UAAYd,CAAA,EAGrC,OACEmB,EAAAA,IAACC,EAAE,IAAF,CACC,SAAAL,EACA,QAAS,GACT,QAASV,GAAeS,IAAW,SAAW,SAAW,OACzD,WAAY,CAAC,KAAM,QAAS,SAAU,GAAA,EACtC,QAASO,GAAK,CAEZ,MAAMC,EAASD,EAAE,OACbf,IAAiBgB,EAAO,QAAQ,QAAQ,GAAKA,EAAO,QAAQ,GAAG,KACjEd,EAAqB,QAAQ,EAC7BE,EAAsB,QAAQ,EAElC,EACA,UAAWa,EACT1B,EACAC,IAAa,OACT,8BACA,+BACJM,EACAa,EACAJ,GAAiB,GAAGX,CAAe,kCACnCW,GAAiBf,IAAa,QAAU,SACxCe,GAAiBf,IAAa,SAAW,SAAA,EAG1C,wBAA4CC,EAAU,CACrD,UAAWwB,EACTxB,EAAS,MAAM,UACf,kDACAe,IAAW,WAAa,kBAAA,EAE1B,cAAeA,IAAW,UAC1B,cAAAD,CAAA,CACD,CAAA,CAAA,CAGP,CAEA,SAASK,EAAiBlB,EAAgD,CACxE,OAAQA,EAAA,CACN,IAAK,UACH,MAAO,OACT,IAAK,KACH,MAAO,QACT,IAAK,KACH,MAAO,QACT,IAAK,KACH,MAAO,QACT,IAAK,KACH,MAAO,QACT,QACE,OAAOA,GAAQ,EAAA,CAErB,CAEA,SAASgB,EAAehB,EAAwC,CAC9D,OAAQA,EAAA,CACN,IAAK,UACH,MAAO,IACT,IAAK,KACH,MAAO,KACT,IAAK,KACH,MAAO,KACT,IAAK,KACH,MAAO,KACT,IAAK,KACH,MAAO,KACT,QACE,OAAOA,EAAO,SAASA,EAAK,QAAQ,QAAS,EAAE,CAAC,EAAI,IAAA,CAE1D"}