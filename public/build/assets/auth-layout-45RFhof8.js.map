{"version":3,"file":"auth-layout-45RFhof8.js","sources":["../../../common/foundation/resources/client/auth/guards/guest-route.tsx","../../../common/foundation/resources/client/auth/ui/auth-layout/auth-bg.svg","../../../common/foundation/resources/client/auth/ui/auth-layout/auth-layout-footer.tsx","../../../common/foundation/resources/client/auth/ui/auth-layout/auth-layout.tsx"],"sourcesContent":["import {ReactElement} from 'react';\nimport {Navigate, Outlet, useLocation} from 'react-router';\nimport {useSettingsPreviewMode} from '../../admin/settings/preview/use-settings-preview-mode';\nimport {useAuth} from '../use-auth';\n\ninterface GuestRouteProps {\n  children: ReactElement;\n}\nexport function GuestRoute({children}: GuestRouteProps) {\n  const {isLoggedIn, getRedirectUri} = useAuth();\n  const {isInsideSettingsPreview: isAppearanceEditorActive} =\n    useSettingsPreviewMode();\n  const redirectUri = getRedirectUri();\n  const {pathname} = useLocation();\n\n  if (isLoggedIn && !isAppearanceEditorActive) {\n    // prevent recursive redirects\n    if (redirectUri !== pathname) {\n      return <Navigate to={redirectUri} replace />;\n    }\n  }\n\n  return children || <Outlet />;\n}\n","export default \"__VITE_ASSET__CmbvpwkF__\"","import {Link} from 'react-router';\nimport {CustomMenu} from '@common/menus/custom-menu';\nimport {useSettings} from '@ui/settings/use-settings';\n\nexport function AuthLayoutFooter() {\n  const {branding} = useSettings();\n  return (\n    <div className=\"mt-auto flex items-center gap-30 pb-32 pt-42 text-sm text-muted\">\n      <Link className=\"transition-colors hover:text-fg-base\" to=\"/\">\n        Â© {branding.site_name}\n      </Link>\n      <CustomMenu\n        menu=\"auth-page-footer\"\n        orientation=\"horizontal\"\n        itemClassName=\"hover:text-fg-base transition-colors\"\n      />\n    </div>\n  );\n}\n","import {useTrans} from '@ui/i18n/use-trans';\nimport {useSettings} from '@ui/settings/use-settings';\nimport {useIsDarkMode} from '@ui/themes/use-is-dark-mode';\nimport {ReactNode} from 'react';\nimport {Link} from 'react-router';\nimport authBgSvg from './auth-bg.svg';\nimport {AuthLayoutFooter} from './auth-layout-footer';\n\ninterface AuthPageProps {\n  heading?: ReactNode;\n  message?: ReactNode;\n  children: ReactNode;\n}\nexport function AuthLayout({heading, children, message}: AuthPageProps) {\n  const {branding} = useSettings();\n  const isDarkMode = useIsDarkMode();\n  const {trans} = useTrans();\n\n  return (\n    <main\n      className=\"flex h-screen flex-col items-center overflow-y-auto bg-alt px-14 pt-70 dark:bg md:px-10vw\"\n      style={{backgroundImage: isDarkMode ? undefined : `url(\"${authBgSvg}\")`}}\n    >\n      <Link\n        to=\"/\"\n        className=\"mb-40 block flex-shrink-0\"\n        aria-label={trans({message: 'Go to homepage'})}\n      >\n        <img\n          src={isDarkMode ? branding.logo_light : branding?.logo_dark}\n          className=\"m-auto block h-42 w-auto\"\n          alt=\"\"\n        />\n      </Link>\n      <div className=\"mx-auto w-full max-w-440 rounded-panel bg-elevated px-40 pb-32 pt-40 shadow md:shadow-xl\">\n        {heading && <h1 className=\"mb-20 text-xl\">{heading}</h1>}\n        {children}\n      </div>\n      {message && <div className=\"mt-36 text-sm\">{message}</div>}\n      <AuthLayoutFooter />\n    </main>\n  );\n}\n"],"names":["GuestRoute","children","isLoggedIn","getRedirectUri","useAuth","isAppearanceEditorActive","useSettingsPreviewMode","redirectUri","pathname","useLocation","jsx","Navigate","Outlet","authBgSvg","AuthLayoutFooter","branding","useSettings","jsxs","Link","CustomMenu","AuthLayout","heading","message","isDarkMode","useIsDarkMode","trans","useTrans"],"mappings":"+GAQO,SAASA,EAAW,CAAC,SAAAC,GAA4B,CACtD,KAAM,CAAC,WAAAC,EAAY,eAAAC,CAAA,EAAkBC,EAAA,EAC/B,CAAC,wBAAyBC,CAAA,EAC9BC,EAAA,EACIC,EAAcJ,EAAA,EACd,CAAC,SAAAK,CAAA,EAAYC,EAAA,EAEnB,OAAIP,GAAc,CAACG,GAEbE,IAAgBC,EACXE,EAAAA,IAACC,EAAA,CAAS,GAAIJ,EAAa,QAAO,GAAC,EAIvCN,SAAaW,EAAA,EAAO,CAC7B,CCvBA,MAAAC,EAAe,wDCIR,SAASC,GAAmB,CACjC,KAAM,CAAC,SAAAC,CAAA,EAAYC,EAAA,EACnB,OACEC,EAAAA,KAAC,MAAA,CAAI,UAAU,kEACb,SAAA,CAAAA,EAAAA,KAACC,EAAA,CAAK,UAAU,uCAAuC,GAAG,IAAI,SAAA,CAAA,KACzDH,EAAS,SAAA,EACd,EACAL,EAAAA,IAACS,EAAA,CACC,KAAK,mBACL,YAAY,aACZ,cAAc,sCAAA,CAAA,CAChB,EACF,CAEJ,CCLO,SAASC,EAAW,CAAC,QAAAC,EAAS,SAAApB,EAAU,QAAAqB,GAAyB,CACtE,KAAM,CAAC,SAAAP,CAAA,EAAYC,EAAA,EACbO,EAAaC,EAAA,EACb,CAAC,MAAAC,CAAA,EAASC,EAAA,EAEhB,OACET,EAAAA,KAAC,OAAA,CACC,UAAU,4FACV,MAAO,CAAC,gBAAiBM,EAAa,OAAY,QAAQV,CAAS,IAAA,EAEnE,SAAA,CAAAH,EAAAA,IAACQ,EAAA,CACC,GAAG,IACH,UAAU,4BACV,aAAYO,EAAM,CAAC,QAAS,iBAAiB,EAE7C,SAAAf,EAAAA,IAAC,MAAA,CACC,IAAKa,EAAaR,EAAS,WAAaA,GAAA,YAAAA,EAAU,UAClD,UAAU,2BACV,IAAI,EAAA,CAAA,CACN,CAAA,EAEFE,EAAAA,KAAC,MAAA,CAAI,UAAU,2FACZ,SAAA,CAAAI,GAAWX,EAAAA,IAAC,KAAA,CAAG,UAAU,gBAAiB,SAAAW,EAAQ,EAClDpB,CAAA,EACH,EACCqB,GAAWZ,EAAAA,IAAC,MAAA,CAAI,UAAU,gBAAiB,SAAAY,EAAQ,QACnDR,EAAA,CAAA,CAAiB,CAAA,CAAA,CAAA,CAGxB"}