import{w as h,aA as f,a8 as y,r as b,al as w,j as e,a3 as l,T as s,x as T,a5 as F,B as C}from"./main-TIUJvpaR.js";import{F as N}from"./permission-selector-CHlyRAPq.js";import{S as m}from"./section-helper-C7SXMwEZ.js";import{F as S}from"./select-T49HzTXy.js";import"./accordion-CabB8onw.js";import"./switch-Bj7wwiPq.js";import"./list-DlNGU0yW.js";import"./uc-first-pSl3nM3z.js";function q(){var r;const{trans:c}=h(),[p]=f(),{watch:a,setValue:x}=y(),u=a("type"),g=a("default"),n=a("internal"),d=a("guests"),o=((r=b.useContext(w).roles)==null?void 0:r.types)??[],i=o.find(t=>t.type===u),j=(i==null?void 0:i.permission_type)??"users";return e.jsxs(e.Fragment,{children:[e.jsx(l,{label:e.jsx(s,{message:"Name"}),name:"name",className:"mb-20",required:!0}),e.jsx(l,{label:e.jsx(s,{message:"Description"}),name:"description",inputElementType:"textarea",placeholder:c(T("Role description...")),rows:4,className:"mb-20"}),o.length&&!p.get("type")?e.jsx(S,{label:e.jsx(s,{message:"Type"}),name:"type",selectionMode:"single",className:"mb-20",description:e.jsx(s,{message:"Whether this role will be assigned to users globally on the site or only within workspaces."}),children:o.map(t=>e.jsx(F,{value:t.type,children:e.jsx(s,{...t.label})},t.type))}):null,n&&g&&e.jsx(m,{title:e.jsx(s,{message:"Default role"}),description:e.jsx(s,{message:"This role will be assigned to new users, if they have no other roles."})}),n&&d&&e.jsx(m,{title:e.jsx(s,{message:"Guests role"}),description:e.jsx(s,{message:"Non logged in users will be assigned this role."})}),e.jsxs("div",{className:"mb-14 mt-30 flex items-end justify-between gap-12",children:[e.jsx("h2",{className:"text-lg font-medium",children:e.jsx(s,{message:"Permissions"})}),e.jsx(C,{variant:"outline",size:"xs",onClick:()=>x("permissions",[]),children:e.jsx(s,{message:"Remove all"})})]}),e.jsx(N,{name:"permissions",type:j})]})}export{q as Component};
