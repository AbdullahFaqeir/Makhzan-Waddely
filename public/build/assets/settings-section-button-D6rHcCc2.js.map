{"version":3,"file":"settings-section-button-D6rHcCc2.js","sources":["../../../common/foundation/resources/client/admin/settings/layout/settings-with-preview.tsx","../../../common/foundation/resources/client/admin/settings/layout/settings-section-button.tsx"],"sourcesContent":["import {commonAdminQueries} from '@common/admin/common-admin-queries';\nimport {AdminSettings} from '@common/admin/settings/admin-settings';\nimport {settingsPreviewPageId} from '@common/admin/settings/layout/settings-constants';\nimport {\n  SettingsForm,\n  SettingsPageHeader,\n} from '@common/admin/settings/layout/settings-layout';\nimport {\n  SettingsPageState,\n  SettingsPageStoreProvider,\n  useSettingsPageStore,\n} from '@common/admin/settings/layout/settings-page-store';\nimport {queryClient} from '@common/http/query-client';\nimport {Button} from '@ui/buttons/button';\nimport {IconButton} from '@ui/buttons/icon-button';\nimport {Item} from '@ui/forms/listbox/item';\nimport {message} from '@ui/i18n/message';\nimport {MessageDescriptor} from '@ui/i18n/message-descriptor';\nimport {Trans} from '@ui/i18n/trans';\nimport {ArrowDropDownIcon} from '@ui/icons/material/ArrowDropDown';\nimport {CloseFullscreenIcon} from '@ui/icons/material/CloseFullscreen';\nimport {OpenInFullIcon} from '@ui/icons/material/OpenInFull';\nimport {Menu, MenuTrigger} from '@ui/menu/menu-trigger';\nimport {useSettings} from '@ui/settings/use-settings';\nimport clsx from 'clsx';\nimport {\n  Fragment,\n  ReactElement,\n  ReactNode,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react';\nimport {UseFormReturn} from 'react-hook-form';\nimport {BlockerFunction} from 'react-router';\n\nconst PreviewSize = {\n  real: {\n    label: message('Actual size (100%)'),\n    width: null,\n  },\n  desktop: {\n    label: message('Desktop'),\n    width: 1440,\n  },\n  tablet: {\n    label: message('Tablet'),\n    width: 768,\n  },\n  mobile: {\n    label: message('Mobile'),\n    width: 390,\n  },\n};\n\ninterface Props {\n  children: [ReactElement<ContentProps>, ReactElement];\n  title: ReactElement<MessageDescriptor>;\n  gridCols?: string;\n  allowNavigation?: BlockerFunction;\n  defaultRoute?: SettingsPageState['previewRoute'];\n  availableRoutes?: SettingsPageState['availableRoutes'];\n  docsLink?: string;\n}\nexport function SettingsWithPreview({\n  title,\n  children,\n  gridCols,\n  allowNavigation,\n  defaultRoute,\n  availableRoutes,\n  docsLink,\n}: Props) {\n  return (\n    <SettingsPageStoreProvider\n      defaultRoute={defaultRoute}\n      availableRoutes={availableRoutes}\n    >\n      <ExpandableContent>\n        <div\n          className={clsx(\n            'grid h-full flex-auto grid-rows-[auto,auto,1fr] bg-elevated md:rounded-panel md:border',\n            gridCols ?? 'grid-cols-1 @5xl/with-preview:grid-cols-[auto,1fr]',\n          )}\n        >\n          <SettingsPageHeader\n            className=\"col-span-full row-[1/2]\"\n            title={title}\n            allowNavigation={allowNavigation}\n            docsLink={docsLink}\n          />\n          {children[0]}\n          {children[1]}\n        </div>\n      </ExpandableContent>\n    </SettingsPageStoreProvider>\n  );\n}\n\ninterface ExpandableContentProps {\n  children: ReactNode;\n}\nfunction ExpandableContent({children}: ExpandableContentProps) {\n  const isFullScreen = useSettingsPageStore(s => s.isFullScreen);\n  return (\n    <section\n      className={clsx(\n        'dashboard-grid-content h-full overflow-y-auto @container/with-preview',\n        isFullScreen && 'fixed inset-8',\n      )}\n    >\n      {children}\n    </section>\n  );\n}\n\ninterface ContentProps {\n  children: ReactNode;\n  width?: string;\n}\nfunction Content({children, width}: ContentProps) {\n  return (\n    <div\n      className={clsx(\n        'compact-scrollbar col-[1/2] row-[2/-1] h-full flex-shrink-0 overflow-y-auto p-24 @container/settings-form',\n        width ?? 'w-full @5xl/with-preview:w-440',\n      )}\n    >\n      {children}\n    </div>\n  );\n}\n\ninterface FormProps {\n  form: UseFormReturn<AdminSettings>;\n  children: ReactNode;\n  mergePreviewSettings?: boolean;\n}\nfunction Form({form, children, mergePreviewSettings}: FormProps) {\n  const setValues = useSettingsPageStore(s => s.preview.setValues);\n\n  useEffect(() => {\n    // reset setting to the ones that are saved. This will happen\n    // when navigating between different settings pages or tabs.\n    const currentAdminSettings = queryClient.getQueryData<AdminSettings>(\n      commonAdminQueries.settings.index.queryKey,\n    );\n    if (currentAdminSettings) {\n      setValues(currentAdminSettings, {merge: mergePreviewSettings});\n    }\n\n    // update settings in preview when any form value changes\n    const subscription = form.watch(values => {\n      setValues(values as AdminSettings, {merge: mergePreviewSettings});\n    });\n    return () => subscription.unsubscribe();\n  }, [form, setValues]);\n\n  return <SettingsForm form={form}>{children}</SettingsForm>;\n}\n\nfunction PreviewContainer() {\n  const [selectedSize, setSelectedSize] =\n    useState<keyof typeof PreviewSize>('desktop');\n\n  const [containerSize, setContainerSize] = useState({\n    width: 0,\n    height: 0,\n  });\n\n  const contentWidth = PreviewSize[selectedSize].width;\n  const setIframeWindow = useSettingsPageStore(s => s.setIframeWindow);\n  const [scaledContentHeight, setScaledContentHeight] = useState(0);\n  const [scale, setScale] = useState(1);\n\n  useEffect(() => {\n    if (!containerSize) return;\n\n    const scaleFactor = contentWidth\n      ? Math.min(containerSize.width / contentWidth, 1)\n      : 1;\n    const scaledHeight = containerSize.height / scaleFactor;\n    setScaledContentHeight(scaledHeight);\n\n    const newScale = contentWidth\n      ? Math.min(containerSize.width / contentWidth, 1)\n      : 1;\n\n    setScale(newScale);\n  }, [contentWidth, containerSize]);\n\n  const src = useSettingsPreviewSrc();\n\n  const rigisterContainerHeightObserver = useCallback((el: HTMLDivElement) => {\n    if (!el) return;\n    const resizeObserver = new ResizeObserver(entries => {\n      setContainerSize(entries[0].contentRect);\n    });\n\n    resizeObserver.observe(el);\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, []);\n\n  return (\n    <div className=\"col-[2/-1] row-[2/-1] hidden grid-rows-subgrid border-l @5xl/with-preview:grid\">\n      {src ? (\n        <Fragment>\n          <PreviewHeader size={selectedSize} onSizeChange={setSelectedSize} />\n          <div className=\"col-[1/-1] row-[2/-1] mx-24 mb-24 flex flex-col overflow-hidden rounded-panel border\">\n            <PreviewToolbar src={src} />\n            <div\n              ref={rigisterContainerHeightObserver}\n              className=\"height-container relative flex-auto bg-alt\"\n            >\n              <div\n                className=\"absolute left-0 right-0 mx-auto origin-top-left bg\"\n                style={{\n                  width: contentWidth ? `${contentWidth}px` : '100%',\n                  height: scaledContentHeight\n                    ? `${scaledContentHeight}px`\n                    : '100%',\n                  transform: `scale(${scale})`,\n                }}\n              >\n                <iframe\n                  src={src}\n                  className=\"h-full w-full shadow\"\n                  ref={el => setIframeWindow(el?.contentWindow ?? null)}\n                />\n              </div>\n            </div>\n          </div>\n        </Fragment>\n      ) : (\n        <div className=\"col-[1/-1] row-[2/-1] m-auto rounded-panel border px-28 py-14\">\n          <Trans message=\"No preview available\" />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport function useSettingsPreviewSrc(): string | null {\n  const {base_url} = useSettings();\n  const uri = useSettingsPageStore(s => s.previewRoute);\n\n  // allow empty string or / as homepage\n  if (uri == null) {\n    return null;\n  }\n\n  const url = new URL(`${base_url}/${uri.replace(/^\\//, '')}`);\n  url.searchParams.set('settingsPreview', 'true');\n  return url.toString();\n}\n\ninterface PreviewHeaderProps {\n  size?: keyof typeof PreviewSize;\n  onSizeChange?: (size: keyof typeof PreviewSize) => void;\n  padding?: string;\n  className?: string;\n}\nfunction PreviewHeader({\n  size,\n  onSizeChange,\n  padding,\n  className,\n}: PreviewHeaderProps) {\n  const setPreviewRoute = useSettingsPageStore(s => s.setPreviewRoute);\n  const activeRoute = useSettingsPageStore(s => s.previewRoute)!;\n  const availableRoutes = Object.values(\n    useSettingsPageStore(s => s.availableRoutes),\n  );\n  return (\n    <div\n      className={clsx(\n        'col-[1/-1] row-[1/2] flex items-center gap-12',\n        padding ?? 'px-24 pb-12 pt-24',\n        className,\n      )}\n    >\n      {!!availableRoutes?.length && (\n        <MenuTrigger\n          selectionMode=\"single\"\n          selectedValue={activeRoute}\n          onSelectionChange={value => setPreviewRoute(value as string)}\n        >\n          <Button variant=\"outline\" endIcon={<ArrowDropDownIcon />} size=\"xs\">\n            <Trans\n              {...availableRoutes.find(page => page.route === activeRoute)!\n                .label}\n            />\n          </Button>\n          <Menu>\n            {availableRoutes.map(page => (\n              <Item key={page.route} value={page.route}>\n                <Trans {...page.label} />\n              </Item>\n            ))}\n          </Menu>\n        </MenuTrigger>\n      )}\n\n      <div className=\"ml-auto w-0\" />\n      {!!onSizeChange && !!size && (\n        <MenuTrigger\n          selectionMode=\"single\"\n          selectedValue={size}\n          onSelectionChange={value =>\n            onSizeChange(value as keyof typeof PreviewSize)\n          }\n        >\n          <Button variant=\"outline\" endIcon={<ArrowDropDownIcon />} size=\"xs\">\n            <Trans {...PreviewSize[size].label} />\n          </Button>\n          <Menu>\n            {Object.entries(PreviewSize).map(([value, item]) => (\n              <Item key={value} value={value}>\n                <Trans {...item.label} />\n              </Item>\n            ))}\n          </Menu>\n        </MenuTrigger>\n      )}\n      <FullScreenToogleButton />\n    </div>\n  );\n}\n\nfunction FullScreenToogleButton() {\n  const isFullScreen = useSettingsPageStore(s => s.isFullScreen);\n  const setIsFullScreen = useSettingsPageStore(s => s.setIsFullScreen);\n  return (\n    <IconButton\n      variant=\"outline\"\n      size=\"xs\"\n      onClick={() => setIsFullScreen(!isFullScreen)}\n    >\n      {isFullScreen ? <CloseFullscreenIcon /> : <OpenInFullIcon />}\n    </IconButton>\n  );\n}\n\ninterface PreviewToolbarProps {\n  src: string;\n}\nfunction PreviewToolbar({src}: PreviewToolbarProps) {\n  const parts = new URL(src);\n  // remove query params and protocol\n  const previewUrl = `${parts.host}${parts.pathname !== '/' ? parts.pathname : ''}`;\n  // remove query params only\n  const previewSrc = `${parts.protocol}//${previewUrl}`;\n  return (\n    <div className=\"flex items-center gap-4 border-b px-12 py-10\">\n      <div className=\"mr-auto flex items-center gap-4\">\n        <div className=\"size-8 rounded-full bg-chip\" />\n        <div className=\"size-8 rounded-full bg-chip\" />\n        <div className=\"size-8 rounded-full bg-chip\" />\n      </div>\n      <a\n        href={previewSrc}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        className={clsx(\n          'mr-auto block max-w-384 flex-auto rounded-panel border border-divider-lighter px-40 py-4 text-center text-xs text-muted hover:text-primary',\n          previewSrc.includes(settingsPreviewPageId) && 'pointer-events-none',\n        )}\n      >\n        {previewUrl}\n      </a>\n    </div>\n  );\n}\n\nSettingsWithPreview.Preview = PreviewContainer;\nSettingsWithPreview.PreviewHeader = PreviewHeader;\nSettingsWithPreview.Content = Content;\nSettingsWithPreview.Form = Form;\n","import {ButtonBase, ButtonBaseProps} from '@ui/buttons/button-base';\nimport {ArrowDropDownIcon} from '@ui/icons/material/ArrowDropDown';\nimport clsx from 'clsx';\nimport {forwardRef, ReactNode} from 'react';\n\ninterface Props extends ButtonBaseProps {\n  startIcon?: ReactNode;\n  endIcon?: ReactNode;\n  description?: ReactNode;\n  radius?: string;\n  size?: 'md' | 'lg';\n}\nexport const SettingsSectionButton = forwardRef<HTMLButtonElement, Props>(\n  (\n    {\n      startIcon,\n      children,\n      className,\n      description,\n      endIcon,\n      size = 'md',\n      radius = 'rounded-input',\n      ...other\n    },\n    ref,\n  ) => {\n    return (\n      <ButtonBase\n        ref={ref}\n        display=\"flex\"\n        className={clsx(\n          size === 'md' ? 'h-42' : 'h-[58px]',\n          radius,\n          'relative mb-10 w-full items-center gap-10',\n          'border bg px-14 hover:bg-hover',\n          className,\n          other.disabled && 'pointer-events-none opacity-50',\n        )}\n        variant={null}\n        {...other}\n      >\n        {startIcon}\n        <span className=\"block min-w-0\">\n          <span className=\"block text-sm\">{children}</span>\n          {description && (\n            <span className=\"block overflow-hidden overflow-ellipsis whitespace-nowrap text-xs text-muted\">\n              {description}\n            </span>\n          )}\n        </span>\n        <div className=\"ml-auto\">\n          {endIcon ?? (\n            <ArrowDropDownIcon aria-hidden className=\"text-muted icon-sm\" />\n          )}\n        </div>\n      </ButtonBase>\n    );\n  },\n);\n"],"names":["PreviewSize","message","SettingsWithPreview","title","children","gridCols","allowNavigation","defaultRoute","availableRoutes","docsLink","jsx","SettingsPageStoreProvider","ExpandableContent","jsxs","clsx","SettingsPageHeader","isFullScreen","useSettingsPageStore","Content","width","Form","form","mergePreviewSettings","setValues","s","useEffect","currentAdminSettings","queryClient","commonAdminQueries","subscription","values","SettingsForm","PreviewContainer","selectedSize","setSelectedSize","useState","containerSize","setContainerSize","contentWidth","setIframeWindow","scaledContentHeight","setScaledContentHeight","scale","setScale","scaleFactor","scaledHeight","newScale","src","useSettingsPreviewSrc","rigisterContainerHeightObserver","useCallback","el","resizeObserver","entries","Fragment","PreviewHeader","PreviewToolbar","Trans","base_url","useSettings","uri","url","size","onSizeChange","padding","className","setPreviewRoute","activeRoute","MenuTrigger","value","Button","ArrowDropDownIcon","page","Menu","Item","item","FullScreenToogleButton","setIsFullScreen","IconButton","CloseFullscreenIcon","OpenInFullIcon","parts","previewUrl","previewSrc","settingsPreviewPageId","SettingsSectionButton","forwardRef","startIcon","description","endIcon","radius","other","ref","ButtonBase"],"mappings":"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"}