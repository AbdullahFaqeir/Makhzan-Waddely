import{b5 as y,ap as x,aq as f,ax as n,ce as u,aJ as h,x as j,k as P,aF as v,a3 as b,j as t,B as C,T as i,cK as q,aa as B}from"./main-BdzhGpqn.js";import{D as E}from"./paginated-resources-CKb8WiSB.js";import{A as T}from"./article-editor-page-BNG4j-K_.js";import{P as F}from"./page-meta-tags-D80XLRfF.js";import{u as I}from"./use-required-params-B4etqSDS.js";import{u as K}from"./useSuspenseQuery-DRZs9XPp.js";import{B as Q,a as p}from"./breadcrumb-DXXuqeGE.js";import"./Undo-Xek1O0L9.js";import"./Code-ClKzos1n.js";import"./color-picker-dialog-PoRfERyQ.js";import"./dialog-footer-DL2JkwrZ.js";import"./file-upload-provider-Cq9bpz4o.js";import"./uploaded-file-BYIHeonQ.js";import"./pretty-bytes-bO14ePu9.js";import"./get-image-size-iUxUXrDd.js";import"./use-active-upload-DEBAs0lx.js";import"./open-upload-window-DBvxFCUj.js";import"./shallow-DE7pCYeO.js";import"./MoreVert-BJhX_Lfk.js";import"./select-l28gQBMg.js";import"./Link-JJQq45pr.js";import"./datatable-page-with-header-layout-T5QYry_g.js";import"./dashboard-layout-context-DDiFtkN0.js";import"./use-toggle-dashboard-left-sidebar-Dzdho4R0.js";import"./ArrowBack-V0Wwapyg.js";import"./core-BIhDZ78P.js";import"./Edit-AfuLMjS-.js";import"./dashboard-sidenav-DvKGfXRN.js";import"./default-meta-tags-COcZMir0.js";import"./useEffectEvent-D8HiMrwe.js";import"./ChevronRight-C9FQjnQQ.js";import"./MoreHoriz-uyJcPOJk.js";function S(o){const{pageId:e}=y(),a=`custom-pages/${e}`;return x({mutationFn:s=>D(s,a),onError:s=>f(s),onSuccess:async()=>{await n.invalidateQueries({queryKey:u.customPages.invalidateKey}),await n.invalidateQueries({queryKey:E(a)}),h(j("Page updated"))}})}function D(o,e){return P.put(`${e}`,o).then(a=>a.data)}function ct(){const{pageId:o}=I(["pageId"]),e=K(u.customPages.get(o)),a=e.data.page,s=v(),m=S(),r=b({defaultValues:{title:a.title,slug:a.slug,body:a.body}}),d=()=>{m.mutate(r.getValues(),{onSuccess:()=>s("../..",{relative:"path"})})},c=t.jsx(C,{variant:"flat",color:"primary",size:"xs",onClick:()=>d(),disabled:m.isPending,children:t.jsx(i,{message:"Save"})}),l=t.jsxs(Q,{size:"xl",children:[t.jsx(p,{to:"../..",relative:"path",children:t.jsx(i,{message:"Custom pages"})}),t.jsx(p,{children:t.jsx(i,{message:"Edit"})})]});return t.jsxs(t.Fragment,{children:[t.jsx(F,{query:e}),t.jsx(q,{...r,children:t.jsx(T,{title:l,saveButton:c,imageUploadType:B.articleImages,initialContent:a.body,onChange:g=>{r.setValue("body",g,{shouldDirty:!0})}})})]})}export{ct as Component};
