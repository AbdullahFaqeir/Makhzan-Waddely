{"version":3,"file":"use-datatable-query-CxfVxFSv.js","sources":["../../../common/foundation/resources/client/core/global-loading-progress.tsx","../../../common/foundation/resources/client/datatable/filters/panels/boolean-filter-panel.tsx","../../../common/foundation/resources/client/datatable/filters/add-filter-dialog.tsx","../../../common/foundation/resources/client/datatable/filters/add-filter-button.tsx","../../../common/foundation/resources/client/datatable/data-table-header.tsx","../../../common/foundation/resources/client/datatable/data-table-pagination-footer.tsx","../../../common/foundation/resources/client/datatable/filters/utils/use-datatable-search-params.ts","../../../common/foundation/resources/client/datatable/page/data-table-emty-state-message.tsx","../../../common/foundation/resources/client/datatable/requests/use-datatable-query.ts"],"sourcesContent":["import {UseQueryResult} from '@tanstack/react-query';\nimport {TopProgressBar} from '@ui/progress/top-progress-bar';\nimport {useEffect, useState} from 'react';\n\ninterface Props {\n  query: UseQueryResult<unknown>;\n}\nexport function GlobalLoadingProgress({query}: Props) {\n  const [bar] = useState(() => new TopProgressBar());\n  const isLoading = query.isFetching;\n\n  useEffect(() => {\n    if (isLoading) {\n      bar.show();\n    } else {\n      bar.hide();\n    }\n    return () => {\n      if (!isLoading) {\n        bar.hide();\n      }\n    };\n  }, [isLoading, bar]);\n\n  return null;\n}\n","import {FilterPanelProps} from './filter-panel-props';\nimport {FilterBooleanToggleControl} from '@common/datatable/filters/backend-filter';\n\nexport function BooleanFilterPanel({\n  filter,\n}: FilterPanelProps<FilterBooleanToggleControl>) {\n  // Toggling accordion in the dialog will already apply boolean filter, no need for any extra fields here\n  return null;\n}\n","import { ChipFieldFilterPanel } from '@common/datatable/filters/panels/chip-field-filter-panel';\nimport { Accordion, AccordionItem } from '@ui/accordion/accordion';\nimport { Button } from '@ui/buttons/button';\nimport { Form } from '@ui/forms/form';\nimport { Checkbox } from '@ui/forms/toggle/checkbox';\nimport { Trans } from '@ui/i18n/trans';\nimport { Dialog } from '@ui/overlays/dialog/dialog';\nimport { DialogBody } from '@ui/overlays/dialog/dialog-body';\nimport { useDialogContext } from '@ui/overlays/dialog/dialog-context';\nimport { DialogHeader } from '@ui/overlays/dialog/dialog-header';\nimport clsx from 'clsx';\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport {\n  BackendFilter,\n  CustomFilterControl,\n  DatePickerFilterControl,\n  FilterBooleanToggleControl,\n  FilterChipFieldControl,\n  FilterControlType,\n  FilterOperator,\n  FilterSelectControl,\n  FilterSelectModelControl,\n  FilterTextInputControl,\n} from './backend-filter';\nimport { useBackendFilterUrlParams } from './backend-filter-url-params';\nimport { BooleanFilterPanel } from './panels/boolean-filter-panel';\nimport { DateRangeFilterPanel } from './panels/date-range-filter-panel';\nimport { InputFilterPanel } from './panels/input-filter-panel';\nimport { NormalizedModelFilterPanel } from './panels/normalized-model-filter-panel';\nimport { SelectFilterPanel } from './panels/select-filter-panel';\n\nexport interface FilterItemFormValue<T = any> {\n  value: T;\n  operator?: FilterOperator;\n}\n\ninterface AddFilterDialogProps {\n  filters: BackendFilter[];\n}\nexport function AddFilterDialog({filters}: AddFilterDialogProps) {\n  const {decodedFilters} = useBackendFilterUrlParams(filters);\n  const {formId} = useDialogContext();\n\n  // expand currently active filters\n  const [expandedFilters, setExpandedFilters] = useState<(string | number)[]>(\n    () => {\n      return decodedFilters.map(f => f.key);\n    },\n  );\n\n  const clearButton = (\n    <Button\n      size=\"xs\"\n      variant=\"outline\"\n      className=\"mr-auto\"\n      onClick={() => {\n        setExpandedFilters([]);\n      }}\n    >\n      <Trans message=\"Clear\" />\n    </Button>\n  );\n\n  const applyButton = (\n    <Button\n      size=\"xs\"\n      variant=\"flat\"\n      color=\"primary\"\n      className=\"ml-auto\"\n      type=\"submit\"\n      form={formId}\n    >\n      <Trans message=\"Apply\" />\n    </Button>\n  );\n\n  return (\n    <Dialog className=\"min-w-[300px]\" maxWidth=\"max-w-400\" size=\"auto\">\n      <DialogHeader\n        padding=\"px-14 py-10\"\n        leftAdornment={clearButton}\n        rightAdornment={applyButton}\n      >\n        <Trans message=\"Filter\" />\n      </DialogHeader>\n      <DialogBody padding=\"p-0\">\n        <FilterList\n          filters={filters}\n          expandedFilters={expandedFilters}\n          setExpandedFilters={setExpandedFilters}\n        />\n      </DialogBody>\n    </Dialog>\n  );\n}\n\ninterface FilterListProps {\n  filters: BackendFilter[];\n  expandedFilters: (string | number)[];\n  setExpandedFilters: (value: (string | number)[]) => void;\n}\nfunction FilterList({\n  filters,\n  expandedFilters,\n  setExpandedFilters,\n}: FilterListProps) {\n  const {decodedFilters, replaceAll} = useBackendFilterUrlParams(filters);\n\n  // either get value and operator from url params if filter is active, or get defaults from filter config\n  const defaultValues: Record<string, FilterItemFormValue> = {};\n  filters.forEach(filter => {\n    const appliedFilter = decodedFilters.find(f => f.key === filter.key);\n    defaultValues[filter.key] =\n      appliedFilter?.value !== undefined\n        ? // there might be some extra keys set on filter besides\n          // \"value\" and \"operator\", so add the whole object to form\n          appliedFilter\n        : {\n            value: filter.control.defaultValue,\n            operator: filter.defaultOperator,\n          };\n  });\n  const form = useForm<Record<string, FilterItemFormValue>>({defaultValues});\n  const {formId, close} = useDialogContext();\n\n  return (\n    <Form\n      form={form}\n      id={formId}\n      onSubmit={formValue => {\n        const filterValue = Object.entries(formValue)\n          // remove undefined and non-expanded filters, so \"clear\" button will correctly remove active filters\n          .filter(\n            ([key, fieldValue]) =>\n              expandedFilters.includes(key) && fieldValue !== undefined,\n          )\n          .map(([key, fieldValue]) => ({\n            key,\n            ...fieldValue, // value and operator from form\n          }));\n\n        replaceAll(filterValue);\n        close();\n      }}\n    >\n      <Accordion\n      size=\"md\"\n        mode=\"multiple\"\n        expandedValues={expandedFilters}\n        onExpandedChange={setExpandedFilters}\n      >\n        {filters.map(filter => (\n          <AccordionItem\n            startIcon={\n              <Checkbox checked={expandedFilters.includes(filter.key)} />\n            }\n            key={filter.key}\n            value={filter.key}\n            label={<Trans {...filter.label} />}\n            bodyClassName=\"max-h-288 overflow-y-auto compact-scrollbar\"\n          >\n            {filter.description && (\n              <div\n                className={clsx(\n                  'text-xs text-muted',\n                  // boolean filter will have nothing in the panel, no need to add margin\n                  filter.control.type !== FilterControlType.BooleanToggle &&\n                    'mb-14',\n                )}\n              >\n                <Trans {...filter.description} />\n              </div>\n            )}\n            <AddFilterDialogPanel filter={filter} />\n          </AccordionItem>\n        ))}\n      </Accordion>\n    </Form>\n  );\n}\n\ninterface ActiveFilterPanelProps {\n  filter: BackendFilter;\n}\nexport function AddFilterDialogPanel({filter}: ActiveFilterPanelProps) {\n  switch (filter.control.type) {\n    case FilterControlType.Select:\n      return (\n        <SelectFilterPanel\n          filter={filter as BackendFilter<FilterSelectControl>}\n        />\n      );\n    case FilterControlType.ChipField:\n      return (\n        <ChipFieldFilterPanel\n          filter={filter as BackendFilter<FilterChipFieldControl>}\n        />\n      );\n    case FilterControlType.DateRangePicker:\n      return (\n        <DateRangeFilterPanel\n          filter={filter as BackendFilter<DatePickerFilterControl>}\n        />\n      );\n    case FilterControlType.SelectModel:\n      return (\n        <NormalizedModelFilterPanel\n          filter={filter as BackendFilter<FilterSelectModelControl>}\n        />\n      );\n    case FilterControlType.Input:\n      return (\n        <InputFilterPanel\n          filter={filter as BackendFilter<FilterTextInputControl>}\n        />\n      );\n    case FilterControlType.BooleanToggle:\n      return (\n        <BooleanFilterPanel\n          filter={filter as BackendFilter<FilterBooleanToggleControl>}\n        />\n      );\n    case 'custom':\n      const CustomComponent = filter.control.panel;\n      return (\n        <CustomComponent\n          filter={filter as BackendFilter<CustomFilterControl>}\n        />\n      );\n    default:\n      return null;\n  }\n}\n","import {Button, ButtonProps} from '@ui/buttons/button';\nimport {IconButton} from '@ui/buttons/icon-button';\nimport {Trans} from '@ui/i18n/trans';\nimport {FilterAltIcon} from '@ui/icons/material/FilterAlt';\nimport {DialogTrigger} from '@ui/overlays/dialog/dialog-trigger';\nimport {useIsMobileMediaQuery} from '@ui/utils/hooks/is-mobile-media-query';\nimport {ReactElement} from 'react';\nimport {AddFilterDialog} from './add-filter-dialog';\nimport {BackendFilter} from './backend-filter';\n\ninterface AddFilterButtonProps {\n  filters: BackendFilter[];\n  icon?: ReactElement;\n  color?: ButtonProps['color'];\n  variant?: ButtonProps['variant'];\n  disabled?: boolean;\n  size?: ButtonProps['size'];\n  className?: string;\n}\nexport function AddFilterButton({\n  filters,\n  icon = <FilterAltIcon />,\n  color = 'primary',\n  variant = 'outline',\n  size = 'sm',\n  disabled,\n  className,\n}: AddFilterButtonProps) {\n  const isMobile = useIsMobileMediaQuery();\n\n  const desktopButton = (\n    <Button\n      variant={variant}\n      color={color}\n      startIcon={icon}\n      disabled={disabled}\n      size={size}\n      className={className}\n    >\n      <Trans message=\"Filter\" />\n    </Button>\n  );\n\n  const mobileButton = (\n    <IconButton\n      color={color}\n      size=\"sm\"\n      variant={variant}\n      disabled={disabled}\n      className={className}\n    >\n      {icon}\n    </IconButton>\n  );\n\n  return (\n    <DialogTrigger type=\"popover\">\n      {isMobile ? mobileButton : desktopButton}\n      <AddFilterDialog filters={filters} />\n    </DialogTrigger>\n  );\n}\n","import {TextField} from '@ui/forms/input-field/text-field/text-field';\nimport {message} from '@ui/i18n/message';\nimport {MessageDescriptor} from '@ui/i18n/message-descriptor';\nimport {Trans} from '@ui/i18n/trans';\nimport {useTrans} from '@ui/i18n/use-trans';\nimport {SearchIcon} from '@ui/icons/material/Search';\nimport {AnimatePresence} from 'framer-motion';\nimport {ComponentPropsWithoutRef, ReactNode} from 'react';\nimport {AddFilterButton} from './filters/add-filter-button';\nimport {BackendFilter} from './filters/backend-filter';\n\ninterface Props {\n  actions?: ReactNode;\n  filters?: BackendFilter[];\n  filtersLoading?: boolean;\n  searchPlaceholder?: MessageDescriptor;\n  searchValue?: string;\n  onSearchChange: (value: string) => void;\n  selectedItems?: (string | number)[];\n  selectedActions?: ReactNode;\n}\nexport function DataTableHeader(props: Props) {\n  return (\n    <AnimatePresence initial={false} mode=\"wait\">\n      {props.selectedItems?.length ? (\n        <SelectedStateDatableHeader {...props} key=\"selected\" />\n      ) : (\n        <DefaultDatatableHeader {...props} key=\"default\" />\n      )}\n    </AnimatePresence>\n  );\n}\n\nfunction DefaultDatatableHeader({\n  searchPlaceholder = message('Type to search...'),\n  searchValue,\n  onSearchChange,\n  actions,\n  filters,\n  filtersLoading,\n}: Props) {\n  const {trans} = useTrans();\n  return (\n    <HeaderLayout>\n      <TextField\n        size=\"sm\"\n        className=\"mr-auto min-w-180 max-w-440 flex-auto\"\n        inputWrapperClassName=\"mr-24 md:mr-0\"\n        placeholder={trans(searchPlaceholder)}\n        startAdornment={<SearchIcon size=\"sm\" />}\n        value={searchValue}\n        onChange={e => {\n          onSearchChange(e.target.value);\n        }}\n      />\n      {filters && (\n        <AddFilterButton filters={filters} disabled={filtersLoading} />\n      )}\n      {actions}\n    </HeaderLayout>\n  );\n}\n\nfunction SelectedStateDatableHeader({selectedActions, selectedItems}: Props) {\n  return (\n    <HeaderLayout data-testid=\"datatable-selected-header\">\n      <div className=\"mr-auto font-medium\">\n        <Trans\n          message=\"[one 1 item|other :count items] selected\"\n          values={{count: selectedItems?.length || 1}}\n        />\n      </div>\n      {selectedActions}\n    </HeaderLayout>\n  );\n}\n\ninterface AnimatedHeaderProps extends ComponentPropsWithoutRef<'div'> {\n  children: ReactNode;\n}\nexport function HeaderLayout({children, ...domProps}: AnimatedHeaderProps) {\n  return (\n    <div\n      className=\"hidden-scrollbar relative mb-24 flex h-42 flex-shrink-0 items-center gap-8 overflow-x-auto md:gap-12\"\n      {...domProps}\n    >\n      {children}\n    </div>\n  );\n}\n","import {UseQueryResult, UseSuspenseQueryResult} from '@tanstack/react-query';\nimport {IconButton} from '@ui/buttons/icon-button';\nimport {Item} from '@ui/forms/listbox/item';\nimport {Select} from '@ui/forms/select/select';\nimport {Trans} from '@ui/i18n/trans';\nimport {useNumberFormatter} from '@ui/i18n/use-number-formatter';\nimport {KeyboardArrowLeftIcon} from '@ui/icons/material/KeyboardArrowLeft';\nimport {KeyboardArrowRightIcon} from '@ui/icons/material/KeyboardArrowRight';\nimport {useIsMobileMediaQuery} from '@ui/utils/hooks/is-mobile-media-query';\nimport clsx from 'clsx';\nimport {\n  hasNextPage,\n  LengthAwarePaginationResponse,\n  PaginatedBackendResponse,\n} from '../http/backend-response/pagination-response';\n\nconst defaultPerPage = 15;\nconst perPageOptions = [{key: 15}, {key: 30}, {key: 60}, {key: 100}];\n\ntype DataTablePaginationFooterProps = {\n  query:\n    | UseQueryResult<PaginatedBackendResponse<unknown>>\n    | UseSuspenseQueryResult<PaginatedBackendResponse<unknown>>;\n  onPerPageChange?: (perPage: number) => void;\n  onPageChange?: (page: number) => void;\n  hideIfOnlyOnePage?: boolean;\n  className?: string;\n};\nexport function DataTablePaginationFooter({\n  query,\n  onPerPageChange,\n  onPageChange,\n  hideIfOnlyOnePage,\n  className,\n}: DataTablePaginationFooterProps) {\n  const isMobile = useIsMobileMediaQuery();\n  const numberFormatter = useNumberFormatter();\n  const pagination = query.data\n    ?.pagination as LengthAwarePaginationResponse<any>;\n  const currentPage = pagination?.current_page ? +pagination.current_page : 1;\n\n  if (\n    !pagination ||\n    (hideIfOnlyOnePage && currentPage == 1 && !hasNextPage(pagination))\n  )\n    return null;\n\n  const perPageSelect = onPerPageChange ? (\n    <Select\n      selectionMode=\"single\"\n      minWidth=\"min-w-auto\"\n      disabled={query.isLoading}\n      labelPosition=\"side\"\n      size=\"xs\"\n      label={<Trans message=\"Items per page\" />}\n      selectedValue={\n        pagination.per_page ? +pagination.per_page : defaultPerPage\n      }\n      onSelectionChange={value => onPerPageChange(value as number)}\n    >\n      {perPageOptions.map(option => (\n        <Item key={option.key} value={option.key}>\n          {option.key}\n        </Item>\n      ))}\n    </Select>\n  ) : null;\n\n  return (\n    <div\n      className={clsx(\n        'flex h-54 select-none items-center justify-end gap-20 px-20',\n        className,\n      )}\n    >\n      {!isMobile && perPageSelect}\n      {pagination.from && pagination.to && 'total' in pagination ? (\n        <div className=\"text-sm\">\n          <Trans\n            message=\":from - :to of :total\"\n            values={{\n              from: pagination.from,\n              to: pagination.to,\n              total: numberFormatter.format(pagination.total),\n            }}\n          />\n        </div>\n      ) : null}\n      <div className=\"text-muted\">\n        <IconButton\n          disabled={query.isFetching || currentPage < 2}\n          onClick={() => {\n            onPageChange?.(currentPage - 1);\n          }}\n        >\n          <KeyboardArrowLeftIcon />\n        </IconButton>\n        <IconButton\n          disabled={query.isFetching || !hasNextPage(pagination)}\n          onClick={() => {\n            onPageChange?.(currentPage + 1);\n          }}\n        >\n          <KeyboardArrowRightIcon />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n","import {SortDescriptor} from '@common/ui/tables/types/sort-descriptor';\nimport {useCallback, useMemo} from 'react';\nimport {useSearchParams} from 'react-router';\n\nexport function useDatatableSearchParams<\n  S extends Record<string, string> = Record<string, string>,\n>(validateFn?: (params: Record<string, string>) => S) {\n  const [searchParams, _setSearchParams] = useSearchParams();\n  const parsedParams = useMemo(() => {\n    return validateFn\n      ? validateFn(Object.fromEntries(searchParams))\n      : (Object.fromEntries(searchParams) as S);\n  }, [searchParams, validateFn]);\n\n  const mergeIntoSearchParams = useCallback(\n    (newParams: Partial<Record<keyof S, string | number>>) => {\n      const merged = {...Object.fromEntries(searchParams), ...newParams};\n\n      // parse params with schema, if schema is provided\n      const parsed = validateFn ? validateFn(merged) : merged;\n\n      _setSearchParams(\n        prev => {\n          for (const key in parsed) {\n            // remove empty values (query='', orderBy='', etc.) and default page from the url\n            if (\n              parsed[key] === '' ||\n              (key === 'page' && parsed[key] == '1') ||\n              (key === 'perPage' && parsed[key] == '15')\n            ) {\n              prev.delete(key);\n            } else {\n              prev.set(key, parsed[key]);\n            }\n          }\n          return prev;\n        },\n        {replace: true},\n      );\n    },\n    [validateFn, searchParams, _setSearchParams],\n  );\n\n  // when setting only search term, remove page so we start from 1st page always on new search\n  const setSearchQuery = useCallback(\n    (query?: string) => {\n      _setSearchParams(\n        prev => {\n          prev.delete('page');\n          prev.delete('perPage');\n          if (query) {\n            prev.set('query', query);\n          } else {\n            prev.delete('query');\n          }\n          return prev;\n        },\n        {replace: true},\n      );\n    },\n    [_setSearchParams],\n  );\n\n  const sortDescriptor: SortDescriptor = useMemo(() => {\n    return {\n      orderBy: parsedParams.orderBy,\n      orderDir: parsedParams.orderDir as 'asc' | 'desc' | undefined,\n    };\n  }, [parsedParams]);\n\n  return {\n    searchParams: parsedParams,\n    mergeIntoSearchParams,\n    setSearchQuery,\n    sortDescriptor,\n    isFiltering: !!(parsedParams.query || parsedParams.filters),\n  };\n}\n","import {Trans} from '@ui/i18n/trans';\nimport {SvgIconProps} from '@ui/icons/svg-icon';\nimport {IllustratedMessage} from '@ui/images/illustrated-message';\nimport {SvgImage} from '@ui/images/svg-image';\nimport {useIsMobileMediaQuery} from '@ui/utils/hooks/is-mobile-media-query';\nimport {cloneElement, ReactElement, ReactNode} from 'react';\n\nexport interface DataTableEmptyStateMessageProps {\n  isFiltering?: boolean;\n  title: ReactNode;\n  filteringTitle?: ReactNode;\n  description?: ReactNode;\n  image?: string;\n  icon?: ReactElement<SvgIconProps>;\n  size?: 'sm' | 'md';\n  className?: string;\n}\nexport function DataTableEmptyStateMessage(\n  props: DataTableEmptyStateMessageProps,\n) {\n  const isMobile = useIsMobileMediaQuery();\n  const {isFiltering, title, filteringTitle, image, icon, className} = props;\n  let size = props.size;\n  if (!size) {\n    size = isMobile ? 'sm' : 'md';\n  }\n\n  // allow user to disable filtering message variation by not passing in \"filteringTitle\"\n  return (\n    <IllustratedMessage\n      className={className}\n      size={size}\n      imageHeight={icon ? 'h-auto' : undefined}\n      image={\n        image ? (\n          <SvgImage src={image} />\n        ) : (\n          cloneElement(icon!, {\n            size: icon!.props.size || 'xl',\n            className: 'text-muted',\n          })\n        )\n      }\n      title={isFiltering && filteringTitle ? filteringTitle : title}\n      description={<Description {...props} />}\n    />\n  );\n}\n\nfunction Description({\n  isFiltering,\n  filteringTitle,\n  description,\n}: DataTableEmptyStateMessageProps) {\n  if (isFiltering) {\n    return filteringTitle ? (\n      <Trans message=\"Try another search query or different filters\" />\n    ) : undefined;\n  } else {\n    return description;\n  }\n}\n","import {PaginatedBackendResponse} from '@common/http/backend-response/pagination-response';\nimport {\n  DefaultError,\n  QueryKey,\n  useQuery,\n  UseQueryOptions,\n  useSuspenseQuery,\n  UseSuspenseQueryOptions,\n} from '@tanstack/react-query';\n\nexport function useDatatableQuery<\n  T = unknown,\n  TError = DefaultError,\n  TQueryKey extends QueryKey = QueryKey,\n  D = unknown,\n>(\n  options: UseQueryOptions<\n    PaginatedBackendResponse<T> & D,\n    TError,\n    PaginatedBackendResponse<T> & D,\n    TQueryKey\n  >,\n) {\n  const query = useQuery(options);\n\n  return {\n    ...query,\n    items: query.data?.pagination.data ?? [],\n    isEmpty:\n      (query.isFetched ||\n        query.isPlaceholderData ||\n        options.enabled === false) &&\n      !query.data?.pagination.data.length,\n  };\n}\n\nexport function useSuspenseDatatableQuery<\n  T = unknown,\n  TError = DefaultError,\n  TQueryKey extends QueryKey = QueryKey,\n  D = unknown,\n>(\n  options: UseSuspenseQueryOptions<\n    PaginatedBackendResponse<T> & D,\n    TError,\n    PaginatedBackendResponse<T> & D,\n    TQueryKey\n  >,\n) {\n  const query = useSuspenseQuery(options);\n\n  return {\n    ...query,\n    items: query.data?.pagination.data ?? [],\n    isEmpty: query.isFetched && !query.data.pagination.data.length,\n  };\n}\n"],"names":["GlobalLoadingProgress","query","bar","useState","TopProgressBar","isLoading","useEffect","BooleanFilterPanel","filter","AddFilterDialog","filters","decodedFilters","useBackendFilterUrlParams","formId","useDialogContext","expandedFilters","setExpandedFilters","f","clearButton","jsx","Button","Trans","applyButton","Dialog","DialogHeader","DialogBody","FilterList","replaceAll","defaultValues","appliedFilter","form","useForm","close","Form","formValue","filterValue","key","fieldValue","Accordion","jsxs","AccordionItem","Checkbox","clsx","FilterControlType","AddFilterDialogPanel","SelectFilterPanel","ChipFieldFilterPanel","DateRangeFilterPanel","NormalizedModelFilterPanel","InputFilterPanel","CustomComponent","AddFilterButton","icon","FilterAltIcon","color","variant","size","disabled","className","isMobile","useIsMobileMediaQuery","desktopButton","mobileButton","IconButton","DialogTrigger","DataTableHeader","props","AnimatePresence","_a","createElement","SelectedStateDatableHeader","DefaultDatatableHeader","searchPlaceholder","message","searchValue","onSearchChange","actions","filtersLoading","trans","useTrans","HeaderLayout","TextField","SearchIcon","e","selectedActions","selectedItems","children","domProps","defaultPerPage","perPageOptions","DataTablePaginationFooter","onPerPageChange","onPageChange","hideIfOnlyOnePage","numberFormatter","useNumberFormatter","pagination","currentPage","hasNextPage","perPageSelect","Select","value","option","Item","KeyboardArrowLeftIcon","KeyboardArrowRightIcon","useDatatableSearchParams","validateFn","searchParams","_setSearchParams","useSearchParams","parsedParams","useMemo","mergeIntoSearchParams","useCallback","newParams","merged","parsed","prev","setSearchQuery","sortDescriptor","DataTableEmptyStateMessage","isFiltering","title","filteringTitle","image","IllustratedMessage","SvgImage","cloneElement","Description","description","useDatatableQuery","options","useQuery","_b"],"mappings":"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"}