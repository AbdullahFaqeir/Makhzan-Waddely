import{w as n,aF as m,ap as u,ar as p,aJ as c,x as d,ax as l,ce as f,k as x,a3 as j,j as t,T as o}from"./main-BdzhGpqn.js";import{B as g,a as i}from"./breadcrumb-DXXuqeGE.js";import{C}from"./crupdate-resource-layout-wC4RWJ3G.js";import{C as P}from"./crupdate-plan-form-C2vMZkRT.js";import"./useEffectEvent-D8HiMrwe.js";import"./ChevronRight-C9FQjnQQ.js";import"./MoreHoriz-uyJcPOJk.js";import"./datatable-page-with-header-layout-T5QYry_g.js";import"./dashboard-layout-context-DDiFtkN0.js";import"./use-toggle-dashboard-left-sidebar-Dzdho4R0.js";import"./permission-selector-EfYsNHkj.js";import"./accordion-DxYXjiZR.js";import"./switch-DFT-JawA.js";import"./list-DRfBegha.js";import"./uc-first-pSl3nM3z.js";import"./formatted-price-DRpdBayZ.js";import"./select-l28gQBMg.js";import"./Add-iOynMxF0.js";function y(e){const{trans:a}=n(),r=m();return u({mutationFn:s=>b(s),onSuccess:()=>{c(a(d("Plan created"))),l.invalidateQueries({queryKey:f.products.invalidateKey}),r("/admin/plans")},onError:s=>p(s,e)})}function b(e){const a={...e,feature_list:e.feature_list.map(r=>r.value)};return x.post("billing/products",a).then(r=>r.data)}function I(){const e=j({defaultValues:{free:!1,recommended:!1}}),a=y(e);return t.jsx(C,{form:e,onSubmit:r=>{a.mutate(r)},title:t.jsxs(g,{size:"xl",children:[t.jsx(i,{to:"/admin/plans",children:t.jsx(o,{message:"Plans"})}),t.jsx(i,{children:t.jsx(o,{message:"New plan"})})]}),isLoading:a.isPending,children:t.jsx(P,{})})}export{I as Component};
