import{aF as p,j as e,r as l,T as i,A as f,e as g,y as x,z as u,az as j,B as h,L as b}from"./main-BdzhGpqn.js";import{b as N}from"./billing-queries-7PHfszbY.js";import{B as y,a as d}from"./breadcrumb-DXXuqeGE.js";import{S as r}from"./skeleton-CTimao-U.js";import{F as v}from"./formatted-price-DRpdBayZ.js";import{B,f as C}from"./billing-cycle-radio-Dpu8n-Kb.js";import{B as k}from"./billing-plan-panel-CqoXwQGC.js";import{u as P}from"./use-billing-user-CsDaiuR1.js";import"./useEffectEvent-D8HiMrwe.js";import"./ChevronRight-C9FQjnQQ.js";import"./MoreHoriz-uyJcPOJk.js";import"./radio-group-Bfz1qRML.js";function D(){const s=p();return e.jsxs(l.Fragment,{children:[e.jsxs(y,{children:[e.jsx(d,{isLink:!0,onSelected:()=>s("/billing"),children:e.jsx(i,{message:"Billing"})}),e.jsx(d,{children:e.jsx(i,{message:"Plans"})})]}),e.jsx("h1",{className:"my-32 text-3xl font-bold md:my-64",children:e.jsx(i,{message:"Change your plan"})}),e.jsx(k,{title:e.jsx(i,{message:"Available plans"}),children:e.jsx(f,{initial:!1,mode:"wait",children:e.jsx(z,{})})})]})}function z(){var c,o;const s=g(N.products.index()),[a,t]=l.useState("monthly");return s.isLoading?e.jsx(S,{},"plan-skeleton"):e.jsxs(l.Fragment,{children:[e.jsx(B,{products:(c=s.data)==null?void 0:c.products,selectedCycle:a,onChange:t,className:"mb-20",size:"md"}),(o=s.data)==null?void 0:o.products.map(n=>{const m=C(a,n.prices);return!m||n.hidden?null:l.createElement(x.div,{...u,key:n.id,className:"justify-between gap-40 border-b py-32 md:flex"},e.jsxs("div",{className:"mb-40 md:mb-0",children:[e.jsx("div",{className:"text-xl font-bold",children:n.name}),e.jsx(v,{price:m,className:"text-lg"}),e.jsx("div",{className:"mt-12 text-base",children:n.description}),e.jsx(F,{plan:n})]}),e.jsx(L,{product:n,price:m}))})]},"plan-list")}function F({plan:s}){return s.feature_list.length?e.jsxs("div",{className:"mt-32",children:[e.jsx("div",{className:"mb-10 text-sm font-semibold",children:e.jsx(i,{message:"What's included"})}),s.feature_list.map(a=>e.jsxs("div",{className:"flex items-center gap-10 text-sm",children:[e.jsx(j,{className:"text-positive",size:"sm"}),e.jsx(i,{message:a})]},a))]}):null}function L({product:s,price:a}){const{subscription:t}=P();return!(t!=null&&t.price)||!(t!=null&&t.product)?null:t.product_id===s.id&&t.price_id===a.id?e.jsxs("div",{className:"flex w-[168px] items-center justify-center gap-10 text-muted",children:[e.jsx(j,{size:"md"}),e.jsx(i,{message:"Current plan"})]}):e.jsx(h,{variant:"flat",color:"primary",className:"w-[168px]",size:"md",elementType:b,to:`/billing/change-plan/${s.id}/${a.id}/confirm`,children:e.jsx(i,{message:"Continue"})})}function S(){return e.jsxs(x.div,{...u,className:"border-b py-32 text-2xl",children:[e.jsx(r,{className:"mb-8"}),e.jsx(r,{className:"mb-14"}),e.jsx(r,{className:"mb-24"}),e.jsx(r,{className:"mb-12"})]},"plan-skeleton")}export{D as Component};
