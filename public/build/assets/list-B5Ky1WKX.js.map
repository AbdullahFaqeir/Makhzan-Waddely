{"version":3,"file":"list-B5Ky1WKX.js","sources":["../../../common/foundation/resources/client/ui/library/list/list.tsx"],"sourcesContent":["import {FocusScope, useFocusManager} from '@react-aria/focus';\nimport {ListItemBase, ListItemBaseProps} from '@ui/list/list-item-base';\nimport clsx from 'clsx';\nimport React, {forwardRef, ReactElement, ReactNode, useState} from 'react';\n\ntype Child = ReactElement<ListItemProps> | ReactElement<ListItemProps>[];\n\ninterface Props {\n  className?: string;\n  padding?: string;\n  children: ReactNode;\n  dataTestId?: string;\n  listRef?: React.RefObject<HTMLUListElement>;\n}\n\nexport function List({\n  children,\n  className,\n  padding,\n  dataTestId,\n  listRef,\n}: Props) {\n  return (\n    <FocusScope>\n      <ul\n        ref={listRef}\n        data-testid={dataTestId}\n        className={clsx(\n          'text-base outline-none sm:text-sm',\n          className,\n          padding ?? 'py-4',\n        )}\n      >\n        {children}\n      </ul>\n    </FocusScope>\n  );\n}\n\ninterface ListItemProps extends ListItemBaseProps {\n  children: ReactNode;\n  onSelected?: () => void;\n  borderRadius?: string;\n}\nexport const ListItem = forwardRef<HTMLDivElement, ListItemProps>(\n  (\n    {\n      children,\n      onSelected,\n      borderRadius = 'rounded',\n      className,\n      ...listItemProps\n    },\n    ref,\n  ) => {\n    const focusManager = useFocusManager();\n    const isSelectable = !!onSelected;\n    const [isActive, setIsActive] = useState(false);\n\n    const onKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n      switch (e.key) {\n        case 'ArrowDown':\n          e.preventDefault();\n          focusManager?.focusNext();\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          focusManager?.focusPrevious();\n          break;\n        case 'Home':\n          e.preventDefault();\n          focusManager?.focusFirst();\n          break;\n        case 'End':\n          e.preventDefault();\n          focusManager?.focusLast();\n          break;\n        case 'Enter':\n        case 'Space':\n          e.preventDefault();\n          onSelected?.();\n          break;\n      }\n    };\n\n    return (\n      <li>\n        <ListItemBase\n          className={clsx(className, borderRadius)}\n          isActive={isActive}\n          isDisabled={listItemProps.isDisabled}\n          {...listItemProps}\n          onFocus={e => {\n            setIsActive((e.target as HTMLElement).matches(':focus-visible'));\n          }}\n          onBlur={() => {\n            setIsActive(false);\n          }}\n          onClick={() => {\n            onSelected?.();\n          }}\n          ref={ref}\n          role={isSelectable ? 'button' : undefined}\n          onKeyDown={isSelectable ? onKeyDown : undefined}\n          tabIndex={isSelectable && !listItemProps.isDisabled ? 0 : undefined}\n        >\n          {children}\n        </ListItemBase>\n      </li>\n    );\n  },\n);\n"],"names":["List","children","className","padding","dataTestId","listRef","FocusScope","jsx","clsx","ListItem","forwardRef","onSelected","borderRadius","listItemProps","ref","focusManager","useFocusManager","isSelectable","isActive","setIsActive","useState","onKeyDown","ListItemBase"],"mappings":"6EAeO,SAASA,EAAK,CACnB,SAAAC,EACA,UAAAC,EACA,QAAAC,EACA,WAAAC,EACA,QAAAC,CACF,EAAU,CACR,aACGC,EAAA,CACC,SAAAC,EAAAA,IAAC,KAAA,CACC,IAAKF,EACL,cAAaD,EACb,UAAWI,EACT,oCACAN,EACAC,GAAW,MAAA,EAGZ,SAAAF,CAAA,CAAA,EAEL,CAEJ,CAOO,MAAMQ,EAAWC,EAAAA,WACtB,CACE,CACE,SAAAT,EACA,WAAAU,EACA,aAAAC,EAAe,UACf,UAAAV,EACA,GAAGW,CAAA,EAELC,IACG,CACH,MAAMC,EAAeC,EAAA,EACfC,EAAe,CAAC,CAACN,EACjB,CAACO,EAAUC,CAAW,EAAIC,EAAAA,SAAS,EAAK,EAExCC,EAAa,GAA2C,CAC5D,OAAQ,EAAE,IAAA,CACR,IAAK,YACH,EAAE,eAAA,EACFN,GAAA,MAAAA,EAAc,YACd,MACF,IAAK,UACH,EAAE,eAAA,EACFA,GAAA,MAAAA,EAAc,gBACd,MACF,IAAK,OACH,EAAE,eAAA,EACFA,GAAA,MAAAA,EAAc,aACd,MACF,IAAK,MACH,EAAE,eAAA,EACFA,GAAA,MAAAA,EAAc,YACd,MACF,IAAK,QACL,IAAK,QACH,EAAE,eAAA,EACFJ,GAAA,MAAAA,IACA,KAAA,CAEN,EAEA,aACG,KAAA,CACC,SAAAJ,EAAAA,IAACe,EAAA,CACC,UAAWd,EAAKN,EAAWU,CAAY,EACvC,SAAAM,EACA,WAAYL,EAAc,WACzB,GAAGA,EACJ,QAAS,GAAK,CACZM,EAAa,EAAE,OAAuB,QAAQ,gBAAgB,CAAC,CACjE,EACA,OAAQ,IAAM,CACZA,EAAY,EAAK,CACnB,EACA,QAAS,IAAM,CACbR,GAAA,MAAAA,GACF,EACA,IAAAG,EACA,KAAMG,EAAe,SAAW,OAChC,UAAWA,EAAeI,EAAY,OACtC,SAAUJ,GAAgB,CAACJ,EAAc,WAAa,EAAI,OAEzD,SAAAZ,CAAA,CAAA,EAEL,CAEJ,CACF"}