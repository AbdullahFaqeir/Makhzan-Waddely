import{w as n,aF as m,ap as p,ar as d,aJ as c,x as l,ax as f,ce as i,k as x,a3 as P,j as e,T as g}from"./main-BdzhGpqn.js";import{u as j}from"./use-required-params-B4etqSDS.js";import{u as y}from"./useSuspenseQuery-DRZs9XPp.js";import{B as C,a as u}from"./breadcrumb-DXXuqeGE.js";import{C as v}from"./crupdate-resource-layout-wC4RWJ3G.js";import{C as b}from"./crupdate-plan-form-C2vMZkRT.js";import"./useEffectEvent-D8HiMrwe.js";import"./ChevronRight-C9FQjnQQ.js";import"./MoreHoriz-uyJcPOJk.js";import"./datatable-page-with-header-layout-T5QYry_g.js";import"./dashboard-layout-context-DDiFtkN0.js";import"./use-toggle-dashboard-left-sidebar-Dzdho4R0.js";import"./permission-selector-EfYsNHkj.js";import"./accordion-DxYXjiZR.js";import"./switch-DFT-JawA.js";import"./list-DRfBegha.js";import"./uc-first-pSl3nM3z.js";import"./formatted-price-DRpdBayZ.js";import"./select-l28gQBMg.js";import"./Add-iOynMxF0.js";function h(s){const{trans:r}=n(),a=m();return p({mutationFn:t=>F(t),onSuccess:()=>{c(r(l("Plan updated"))),f.invalidateQueries({queryKey:i.products.invalidateKey}),a("/admin/plans")},onError:t=>d(t,s)})}function F({id:s,...r}){const a={...r,feature_list:r.feature_list.map(t=>t.value)};return x.put(`billing/products/${s}`,a).then(t=>t.data)}function $(){const{productId:s}=j(["productId"]),r=y(i.products.get(s)),a=P({defaultValues:{...r.data.product,feature_list:r.data.product.feature_list.map(o=>({value:o}))}}),t=h(a);return e.jsx(v,{form:a,onSubmit:o=>{t.mutate(o)},title:e.jsxs(C,{size:"xl",children:[e.jsx(u,{to:"/admin/plans",children:e.jsx(g,{message:"Plans"})}),e.jsx(u,{children:r.data.product.name})]}),isLoading:t.isPending,children:e.jsx(b,{})})}export{$ as Component};
