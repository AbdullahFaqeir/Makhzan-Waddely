{"version":3,"file":"localization-index-QQsMNqFJ.js","sources":["../../../common/foundation/resources/client/admin/translations/around-the-world.svg","../../../common/foundation/resources/client/ui/library/utils/intl/languages.ts","../../../common/foundation/resources/client/admin/translations/create-localization.ts","../../../common/foundation/resources/client/admin/translations/create-localization-dialog.tsx","../../../common/foundation/resources/client/admin/translations/update-localization-dialog.tsx","../../../common/foundation/resources/client/admin/translations/localization-index.tsx"],"sourcesContent":["export default \"__VITE_ASSET__CYrSwz23__\"","import {getCountryList} from '@ui/utils/intl/countries';\nimport memoize from 'nano-memoize';\n\nexport const getLanguageList = memoize((lang: string = 'en') => {\n  const formatter = new Intl.DisplayNames([lang], {type: 'language'});\n  const countries = getCountryList(lang);\n  const languages = [];\n\n  const usedLangCodes: string[] = [];\n  for (let i = 0; i < countries.length; i++) {\n    const countryCode = countries[i].code.toLowerCase();\n    const langCode = new Intl.Locale('und', {region: countryCode}).maximize()\n      .language;\n    try {\n      const langName = formatter.of(langCode);\n      if (\n        langName &&\n        !usedLangCodes.includes(langCode) &&\n        langCode !== langName\n      ) {\n        usedLangCodes.push(langCode);\n        languages.push({code: langCode, name: langName});\n      }\n    } catch (e) {}\n  }\n\n  return languages;\n});\n","import {commonAdminQueries} from '@common/admin/common-admin-queries';\nimport {useMutation, useQueryClient} from '@tanstack/react-query';\nimport {Localization} from '@ui/i18n/localization';\nimport {message} from '@ui/i18n/message';\nimport {toast} from '@ui/toast/toast';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '../../errors/on-form-query-error';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {apiClient} from '../../http/query-client';\n\ninterface Response extends BackendResponse {\n  localization: Localization;\n}\n\nexport interface CreateLocalizationPayload {\n  name: string;\n  language: string;\n}\n\nfunction createLocalization(\n  payload: CreateLocalizationPayload,\n): Promise<Response> {\n  return apiClient.post(`localizations`, payload).then(r => r.data);\n}\n\nexport function useCreateLocalization(\n  form: UseFormReturn<CreateLocalizationPayload>,\n) {\n  const queryClient = useQueryClient();\n  return useMutation({\n    mutationFn: (props: CreateLocalizationPayload) => createLocalization(props),\n    onSuccess: () => {\n      toast(message('Localization created'));\n      queryClient.invalidateQueries({\n        queryKey: commonAdminQueries.localizations.invalidateKey,\n      });\n    },\n    onError: r => onFormQueryError(r, form),\n  });\n}\n","import {Button} from '@ui/buttons/button';\nimport {Form} from '@ui/forms/form';\nimport {FormTextField} from '@ui/forms/input-field/text-field/text-field';\nimport {FormSelect, Option} from '@ui/forms/select/select';\nimport {message} from '@ui/i18n/message';\nimport {Trans} from '@ui/i18n/trans';\nimport {useTrans} from '@ui/i18n/use-trans';\nimport {Dialog} from '@ui/overlays/dialog/dialog';\nimport {DialogBody} from '@ui/overlays/dialog/dialog-body';\nimport {useDialogContext} from '@ui/overlays/dialog/dialog-context';\nimport {DialogFooter} from '@ui/overlays/dialog/dialog-footer';\nimport {DialogHeader} from '@ui/overlays/dialog/dialog-header';\nimport {getLanguageList} from '@ui/utils/intl/languages';\nimport {useForm} from 'react-hook-form';\nimport {\n  CreateLocalizationPayload,\n  useCreateLocalization,\n} from './create-localization';\n\nexport function CreateLocationDialog() {\n  const {trans} = useTrans();\n  const {formId, close} = useDialogContext();\n  const form = useForm<CreateLocalizationPayload>({\n    defaultValues: {\n      language: 'en',\n    },\n  });\n\n  const languages = getLanguageList();\n  const createLocalization = useCreateLocalization(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Create localization\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={values => {\n            createLocalization.mutate(values, {onSuccess: close});\n          }}\n        >\n          <FormTextField\n            autoFocus\n            name=\"name\"\n            label={<Trans message=\"Name\" />}\n            className=\"mb-30\"\n            required\n          />\n          <FormSelect\n            required\n            name=\"language\"\n            label={<Trans message=\"Language\" />}\n            selectionMode=\"single\"\n            showSearchField\n            searchPlaceholder={trans(message('Search languages'))}\n          >\n            {languages.map(language => (\n              <Option value={language.code} key={language.code}>\n                {language.name}\n              </Option>\n            ))}\n          </FormSelect>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={close}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={createLocalization.isPending}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {Button} from '@ui/buttons/button';\nimport {Form} from '@ui/forms/form';\nimport {FormTextField} from '@ui/forms/input-field/text-field/text-field';\nimport {FormSelect, Option} from '@ui/forms/select/select';\nimport {Localization} from '@ui/i18n/localization';\nimport {message} from '@ui/i18n/message';\nimport {Trans} from '@ui/i18n/trans';\nimport {useTrans} from '@ui/i18n/use-trans';\nimport {Dialog} from '@ui/overlays/dialog/dialog';\nimport {DialogBody} from '@ui/overlays/dialog/dialog-body';\nimport {useDialogContext} from '@ui/overlays/dialog/dialog-context';\nimport {DialogFooter} from '@ui/overlays/dialog/dialog-footer';\nimport {DialogHeader} from '@ui/overlays/dialog/dialog-header';\nimport {getLanguageList} from '@ui/utils/intl/languages';\nimport {useForm} from 'react-hook-form';\nimport {useUpdateLocalization} from './update-localization';\n\ninterface UpdateLocalizationDialogProps {\n  localization: Localization;\n}\nexport function UpdateLocalizationDialog({\n  localization,\n}: UpdateLocalizationDialogProps) {\n  const {trans} = useTrans();\n  const {formId, close} = useDialogContext();\n  const form = useForm<Partial<Localization>>({\n    defaultValues: {\n      id: localization.id,\n      name: localization.name,\n      language: localization.language,\n    },\n  });\n\n  const languages = getLanguageList();\n  const updateLocalization = useUpdateLocalization(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Update localization\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={values => {\n            updateLocalization.mutate(values, {onSuccess: close});\n          }}\n        >\n          <FormTextField\n            name=\"name\"\n            label={<Trans message=\"Name\" />}\n            className=\"mb-30\"\n            required\n          />\n          <FormSelect\n            required\n            name=\"language\"\n            label={<Trans message=\"Language\" />}\n            selectionMode=\"single\"\n            showSearchField\n            searchPlaceholder={trans(message('Search languages'))}\n          >\n            {languages.map(language => (\n              <Option value={language.code} key={language.code}>\n                {language.name}\n              </Option>\n            ))}\n          </FormSelect>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button onClick={close}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updateLocalization.isPending}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {AdminDocsUrls} from '@app/admin/admin-config';\nimport {commonAdminQueries} from '@common/admin/common-admin-queries';\nimport {DocsLink} from '@common/admin/settings/layout/settings-links';\nimport {useUploadTranslationFile} from '@common/admin/translations/use-upload-translation-file';\nimport {GlobalLoadingProgress} from '@common/core/global-loading-progress';\nimport {DataTableHeader} from '@common/datatable/data-table-header';\nimport {DataTablePaginationFooter} from '@common/datatable/data-table-pagination-footer';\nimport {useDatatableSearchParams} from '@common/datatable/filters/utils/use-datatable-search-params';\nimport {validateDatatableSearch} from '@common/datatable/filters/utils/validate-datatable-search';\nimport {\n  DatatablePageHeaderBar,\n  DatatablePageScrollContainer,\n  DatatablePageWithHeaderBody,\n  DatatablePageWithHeaderLayout,\n} from '@common/datatable/page/datatable-page-with-header-layout';\nimport {useDatatableQuery} from '@common/datatable/requests/use-datatable-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {showHttpErrorToast} from '@common/http/show-http-error-toast';\nimport {Table} from '@common/ui/tables/table';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {useMutation} from '@tanstack/react-query';\nimport {Button} from '@ui/buttons/button';\nimport {IconButton} from '@ui/buttons/icon-button';\nimport {FormattedDate} from '@ui/i18n/formatted-date';\nimport {Localization} from '@ui/i18n/localization';\nimport {message} from '@ui/i18n/message';\nimport {Trans} from '@ui/i18n/trans';\nimport {MoreVertIcon} from '@ui/icons/material/MoreVert';\nimport {TranslateIcon} from '@ui/icons/material/Translate';\nimport {Menu, MenuItem, MenuTrigger} from '@ui/menu/menu-trigger';\nimport {ConfirmationDialog} from '@ui/overlays/dialog/confirmation-dialog';\nimport {useDialogContext} from '@ui/overlays/dialog/dialog-context';\nimport {DialogTrigger} from '@ui/overlays/dialog/dialog-trigger';\nimport {openDialog} from '@ui/overlays/store/dialog-store';\nimport {toast} from '@ui/toast/toast';\nimport {Tooltip} from '@ui/tooltip/tooltip';\nimport {downloadFileFromUrl} from '@ui/utils/files/download-file-from-url';\nimport {FileInputType} from '@ui/utils/files/file-input-config';\nimport {openUploadWindow} from '@ui/utils/files/open-upload-window';\nimport {useState} from 'react';\nimport {Link} from 'react-router';\nimport {ColumnConfig} from '../../datatable/column-config';\nimport {DataTableAddItemButton} from '../../datatable/data-table-add-item-button';\nimport {DataTableEmptyStateMessage} from '../../datatable/page/data-table-emty-state-message';\nimport aroundTheWorldSvg from './around-the-world.svg';\nimport {CreateLocationDialog} from './create-localization-dialog';\nimport {UpdateLocalizationDialog} from './update-localization-dialog';\n\nconst columnConfig: ColumnConfig<Localization>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    sortingKey: 'name',\n    visibleInMode: 'all',\n    width: 'flex-3 min-w-200',\n    header: () => <Trans message=\"Name\" />,\n    body: locale => locale.name,\n  },\n  {\n    key: 'language',\n    allowsSorting: true,\n    sortingKey: 'language',\n    header: () => <Trans message=\"Language code\" />,\n    body: locale => locale.language,\n  },\n  {\n    key: 'updatedAt',\n    allowsSorting: true,\n    width: 'w-100',\n    header: () => <Trans message=\"Last updated\" />,\n    body: locale => <FormattedDate date={locale.updated_at} />,\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    width: 'w-84 flex-shrink-0',\n    visibleInMode: 'all',\n    body: locale => {\n      return (\n        <div className=\"text-muted\">\n          <Tooltip label={<Trans message=\"Translate\" />}>\n            <IconButton\n              size=\"md\"\n              elementType={Link}\n              to={`${locale.id}/translate`}\n            >\n              <TranslateIcon />\n            </IconButton>\n          </Tooltip>\n\n          <FileUploadProvider>\n            <RowActionsMenuTrigger locale={locale} />\n          </FileUploadProvider>\n        </div>\n      );\n    },\n  },\n];\n\nexport function Component() {\n  const [selectedIds, setSelectedIds] = useState<(number | string)[]>([]);\n  const {\n    searchParams,\n    sortDescriptor,\n    mergeIntoSearchParams,\n    setSearchQuery,\n    isFiltering,\n  } = useDatatableSearchParams(validateDatatableSearch);\n\n  const query = useDatatableQuery(\n    commonAdminQueries.localizations.index(searchParams),\n  );\n\n  const selectedActions = (\n    <DialogTrigger type=\"modal\">\n      <Button variant=\"flat\" color=\"danger\">\n        <Trans message=\"Delete\" />\n      </Button>\n      <DeleteLocalizationsDialog\n        selectedIds={selectedIds}\n        onDelete={() => setSelectedIds([])}\n      />\n    </DialogTrigger>\n  );\n\n  const actions = (\n    <DialogTrigger type=\"modal\">\n      <DataTableAddItemButton>\n        <Trans message=\"Add new localization\" />\n      </DataTableAddItemButton>\n      <CreateLocationDialog />\n    </DialogTrigger>\n  );\n\n  return (\n    <DatatablePageWithHeaderLayout>\n      <GlobalLoadingProgress query={query} />\n      <DatatablePageHeaderBar\n        title={<Trans message=\"Localizations\" />}\n        showSidebarToggleButton\n        rightContent={\n          <DocsLink\n            variant=\"button\"\n            link={AdminDocsUrls.pages.translations}\n            size=\"xs\"\n          />\n        }\n      />\n      <DatatablePageWithHeaderBody>\n        <DataTableHeader\n          searchValue={searchParams.query}\n          onSearchChange={setSearchQuery}\n          actions={actions}\n          selectedItems={selectedIds}\n          selectedActions={selectedActions}\n        />\n        <DatatablePageScrollContainer>\n          <Table\n            columns={columnConfig}\n            data={query.items}\n            sortDescriptor={sortDescriptor}\n            onSortChange={mergeIntoSearchParams}\n            enableSelection\n            selectedRows={selectedIds}\n            onSelectionChange={setSelectedIds}\n            cellHeight=\"h-60\"\n          />\n          {query.isEmpty && (\n            <DataTableEmptyStateMessage\n              isFiltering={isFiltering}\n              image={aroundTheWorldSvg}\n              title={<Trans message=\"No localizations have been created yet\" />}\n              filteringTitle={<Trans message=\"No matching localizations\" />}\n            />\n          )}\n          <DataTablePaginationFooter\n            query={query}\n            onPageChange={page => mergeIntoSearchParams({page})}\n            onPerPageChange={perPage => mergeIntoSearchParams({perPage})}\n          />\n        </DatatablePageScrollContainer>\n      </DatatablePageWithHeaderBody>\n    </DatatablePageWithHeaderLayout>\n  );\n}\n\ninterface RowActionsMenuTriggerProps {\n  locale: Localization;\n}\nfunction RowActionsMenuTrigger({locale}: RowActionsMenuTriggerProps) {\n  const uploadFile = useUploadTranslationFile();\n  return (\n    <MenuTrigger>\n      <IconButton disabled={uploadFile.isPending}>\n        <MoreVertIcon />\n      </IconButton>\n      <Menu>\n        <MenuItem\n          value=\"translate\"\n          elementType={Link}\n          to={`${locale.id}/translate`}\n        >\n          <Trans message=\"Translate\" />\n        </MenuItem>\n        <MenuItem\n          value=\"rename\"\n          onSelected={() =>\n            openDialog(UpdateLocalizationDialog, {localization: locale})\n          }\n        >\n          <Trans message=\"Rename\" />\n        </MenuItem>\n        <MenuItem\n          value=\"download\"\n          onSelected={() =>\n            downloadFileFromUrl(`api/v1/localizations/${locale.id}/download`)\n          }\n        >\n          <Trans message=\"Download\" />\n        </MenuItem>\n        <MenuItem\n          value=\"upload\"\n          onSelected={async () => {\n            const files = await openUploadWindow({\n              types: [FileInputType.json],\n            });\n            if (files.length == 1) {\n              uploadFile.mutate({localeId: locale.id, file: files[0]});\n            }\n          }}\n        >\n          <Trans message=\"Upload\" />\n        </MenuItem>\n      </Menu>\n    </MenuTrigger>\n  );\n}\n\ninterface DeleteLocalizationsDialogProps {\n  selectedIds: (number | string)[];\n  onDelete: () => void;\n}\nexport function DeleteLocalizationsDialog({\n  selectedIds,\n  onDelete,\n}: DeleteLocalizationsDialogProps) {\n  const {close} = useDialogContext();\n  const deleteSelectedLocalizations = useMutation({\n    mutationFn: () =>\n      apiClient.delete(`localizations/${selectedIds.join(',')}`),\n    onSuccess: async () => {\n      await queryClient.invalidateQueries({\n        queryKey: commonAdminQueries.localizations.invalidateKey,\n      });\n      toast(message('Localizations deleted'));\n      onDelete();\n      close();\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n  return (\n    <ConfirmationDialog\n      isDanger\n      isLoading={deleteSelectedLocalizations.isPending}\n      title={<Trans message=\"Delete localizations\" />}\n      body={\n        <Trans\n          message=\"Are you sure you want to delete selected localizations?\"\n          values={{count: selectedIds.length}}\n        />\n      }\n      confirm={<Trans message=\"Delete\" />}\n      onConfirm={() => deleteSelectedLocalizations.mutate()}\n    />\n  );\n}\n"],"names":["aroundTheWorldSvg","getLanguageList","memoize","lang","formatter","countries","getCountryList","languages","usedLangCodes","i","countryCode","langCode","langName","createLocalization","payload","apiClient","r","useCreateLocalization","form","queryClient","useQueryClient","useMutation","props","toast","message","commonAdminQueries","onFormQueryError","CreateLocationDialog","trans","useTrans","formId","close","useDialogContext","useForm","Dialog","jsx","DialogHeader","Trans","DialogBody","jsxs","Form","values","FormTextField","FormSelect","language","Option","DialogFooter","Button","UpdateLocalizationDialog","localization","updateLocalization","useUpdateLocalization","columnConfig","locale","FormattedDate","Tooltip","IconButton","Link","TranslateIcon","FileUploadProvider","RowActionsMenuTrigger","Component","selectedIds","setSelectedIds","useState","searchParams","sortDescriptor","mergeIntoSearchParams","setSearchQuery","isFiltering","useDatatableSearchParams","validateDatatableSearch","query","useDatatableQuery","selectedActions","DialogTrigger","DeleteLocalizationsDialog","actions","DataTableAddItemButton","DatatablePageWithHeaderLayout","GlobalLoadingProgress","DatatablePageHeaderBar","DocsLink","AdminDocsUrls","DatatablePageWithHeaderBody","DataTableHeader","DatatablePageScrollContainer","Table","DataTableEmptyStateMessage","DataTablePaginationFooter","page","perPage","uploadFile","useUploadTranslationFile","MenuTrigger","MoreVertIcon","Menu","MenuItem","openDialog","downloadFileFromUrl","files","openUploadWindow","FileInputType","onDelete","deleteSelectedLocalizations","err","showHttpErrorToast","ConfirmationDialog"],"mappings":"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"}