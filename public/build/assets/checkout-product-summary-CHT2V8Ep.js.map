{"version":3,"file":"checkout-product-summary-CHT2V8Ep.js","sources":["../../../common/foundation/resources/client/billing/checkout/checkout-layout.tsx","../../../common/foundation/resources/client/billing/checkout/checkout-product-summary.tsx"],"sourcesContent":["import {LocaleSwitcher} from '@common/locale-switcher/locale-switcher';\nimport {Trans} from '@ui/i18n/trans';\nimport {removeFromLocalStorage} from '@ui/utils/hooks/local-storage';\nimport {Fragment, ReactElement, useEffect} from 'react';\nimport {CustomMenu} from '../../menus/custom-menu';\nimport {StaticPageTitle} from '../../seo/static-page-title';\nimport {Navbar} from '../../ui/navigation/navbar/navbar';\n\ninterface CheckoutLayoutProps {\n  children: [ReactElement, ReactElement];\n}\nexport function CheckoutLayout({children}: CheckoutLayoutProps) {\n  const [left, right] = children;\n\n  useEffect(() => {\n    removeFromLocalStorage('be.onboarding.selected');\n  }, []);\n\n  return (\n    <Fragment>\n      <StaticPageTitle>\n        <Trans message=\"Checkout\" />\n      </StaticPageTitle>\n      <Navbar\n        color=\"transparent\"\n        className=\"z-10 mb-20 md:mb-0\"\n        textColor=\"text-main\"\n        logoColor=\"dark\"\n        darkModeColor=\"transparent\"\n        menuPosition=\"checkout-page-navbar\"\n      />\n      <div className=\"mx-auto w-full justify-between px-20 md:flex md:max-w-950 md:px-0 md:pt-128\">\n        <div className=\"fixed right-0 top-0 hidden h-full w-1/2 bg-alt shadow-[15px_0_30px_0_rgb(0_0_0_/_18%)] md:block\" />\n        <div className=\"overflow-hidden md:w-400\">\n          {left}\n          <CustomMenu\n            menu=\"checkout-page-footer\"\n            className=\"mt-50 overflow-x-auto text-xs text-muted\"\n          />\n          <div className=\"mt-40\">\n            <LocaleSwitcher />\n          </div>\n        </div>\n        <div className=\"hidden w-384 md:block\">\n          <div className=\"relative z-10\">{right}</div>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n","import {billingQueries} from '@common/billing/billing-queries';\nimport {FormattedPrice} from '@common/billing/formatted-price';\nimport {Price} from '@common/billing/price';\nimport {Product} from '@common/billing/product';\nimport {keepPreviousData, useQuery} from '@tanstack/react-query';\nimport {opacityAnimation} from '@ui/animation/opacity-animation';\nimport {FormattedCurrency} from '@ui/i18n/formatted-currency';\nimport {Trans} from '@ui/i18n/trans';\nimport {Skeleton} from '@ui/skeleton/skeleton';\nimport {m} from 'framer-motion';\nimport {useParams} from 'react-router';\nimport {ProductFeatureList} from '../pricing-table/product-feature-list';\n\ninterface CheckoutProductSummaryProps {\n  showBillingLine?: boolean;\n}\nexport function CheckoutProductSummary({\n  showBillingLine = true,\n}: CheckoutProductSummaryProps) {\n  const {productId, priceId} = useParams();\n  const query = useQuery({\n    ...billingQueries.products.get(productId!),\n    placeholderData: keepPreviousData,\n    enabled: productId != null && priceId != null,\n  });\n\n  const product = query.data?.product;\n  const price =\n    product?.prices.find(p => p.id === parseInt(priceId!)) ||\n    product?.prices[0];\n\n  if (\n    query.status === 'error' ||\n    (query.status !== 'pending' && (!product || !price))\n  ) {\n    return null;\n  }\n\n  return (\n    <div>\n      <h2 className=\"mb-30 text-2xl\">\n        <Trans message=\"Summary\" />\n      </h2>\n      {query.status === 'pending' ? (\n        <LoadingSkeleton key=\"loading-skeleton\" />\n      ) : (\n        <ProductSummary\n          product={product!}\n          price={price!}\n          showBillingLine={showBillingLine}\n        />\n      )}\n    </div>\n  );\n}\n\ninterface ProductSummaryProps {\n  product: Product;\n  price: Price;\n  showBillingLine: boolean;\n}\nfunction ProductSummary({\n  product,\n  price,\n  showBillingLine,\n}: ProductSummaryProps) {\n  return (\n    <m.div>\n      <div className=\"mb-6 text-xl font-semibold\">{product.name}</div>\n      {product.description && (\n        <div className=\"text-sm text-muted\">{product.description}</div>\n      )}\n      <FormattedPrice\n        priceClassName=\"font-bold text-4xl\"\n        periodClassName=\"text-muted text-xs\"\n        variant=\"separateLine\"\n        price={price}\n        className=\"mt-32\"\n      />\n      <ProductFeatureList product={product} />\n      {showBillingLine && (\n        <div className=\"mt-32 flex items-center justify-between gap-24 border-t pt-24 font-medium\">\n          <div>\n            <Trans message=\"Billed today\" />\n          </div>\n          <div>\n            <FormattedCurrency value={price.amount} currency={price.currency} />\n          </div>\n        </div>\n      )}\n    </m.div>\n  );\n}\n\nfunction LoadingSkeleton() {\n  return (\n    <m.div {...opacityAnimation} className=\"max-w-180\">\n      <Skeleton className=\"mb-6 text-xl\" />\n      <Skeleton className=\"text-sm\" />\n      <Skeleton className=\"mt-32 text-4xl\" />\n    </m.div>\n  );\n}\n"],"names":["CheckoutLayout","children","left","right","useEffect","removeFromLocalStorage","Fragment","jsx","StaticPageTitle","Trans","Navbar","jsxs","CustomMenu","LocaleSwitcher","CheckoutProductSummary","showBillingLine","productId","priceId","useParams","query","useQuery","billingQueries","keepPreviousData","product","_a","price","p","LoadingSkeleton","ProductSummary","m","FormattedPrice","ProductFeatureList","FormattedCurrency","opacityAnimation","Skeleton"],"mappings":"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"}