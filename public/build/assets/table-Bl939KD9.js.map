{"version":3,"file":"table-Bl939KD9.js","sources":["../../../node_modules/@react-aria/interactions/dist/useInteractOutside.mjs","../../../common/foundation/resources/client/ui/tables/table-context.ts","../../../common/foundation/resources/client/ui/tables/checkbox-column-config.tsx","../../../common/foundation/resources/client/ui/tables/style/use-table-cell-style.ts","../../../common/foundation/resources/client/ui/tables/header-cell.tsx","../../../common/foundation/resources/client/ui/tables/table-header-row.tsx","../../../common/foundation/resources/client/ui/library/utils/keybinds/is-ctrl-key-pressed.ts","../../../common/foundation/resources/client/ui/tables/navigate-grid.ts","../../../common/foundation/resources/client/ui/tables/style/use-table-row-style.ts","../../../common/foundation/resources/client/ui/tables/table-cell.tsx","../../../common/foundation/resources/client/ui/library/utils/keybinds/is-ctrl-or-shift-pressed.ts","../../../common/foundation/resources/client/ui/tables/table-row.tsx","../../../common/foundation/resources/client/ui/tables/table.tsx"],"sourcesContent":["import {useEffectEvent as $ispOf$useEffectEvent, getOwnerDocument as $ispOf$getOwnerDocument} from \"@react-aria/utils\";\nimport {useRef as $ispOf$useRef, useEffect as $ispOf$useEffect} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\nfunction $e0b6e0b68ec7f50f$export$872b660ac5a1ff98(props) {\n    let { ref: ref, onInteractOutside: onInteractOutside, isDisabled: isDisabled, onInteractOutsideStart: onInteractOutsideStart } = props;\n    let stateRef = (0, $ispOf$useRef)({\n        isPointerDown: false,\n        ignoreEmulatedMouseEvents: false\n    });\n    let onPointerDown = (0, $ispOf$useEffectEvent)((e)=>{\n        if (onInteractOutside && $e0b6e0b68ec7f50f$var$isValidEvent(e, ref)) {\n            if (onInteractOutsideStart) onInteractOutsideStart(e);\n            stateRef.current.isPointerDown = true;\n        }\n    });\n    let triggerInteractOutside = (0, $ispOf$useEffectEvent)((e)=>{\n        if (onInteractOutside) onInteractOutside(e);\n    });\n    (0, $ispOf$useEffect)(()=>{\n        let state = stateRef.current;\n        if (isDisabled) return;\n        const element = ref.current;\n        const documentObject = (0, $ispOf$getOwnerDocument)(element);\n        // Use pointer events if available. Otherwise, fall back to mouse and touch events.\n        if (typeof PointerEvent !== 'undefined') {\n            let onClick = (e)=>{\n                if (state.isPointerDown && $e0b6e0b68ec7f50f$var$isValidEvent(e, ref)) triggerInteractOutside(e);\n                state.isPointerDown = false;\n            };\n            // changing these to capture phase fixed combobox\n            // Use click instead of pointerup to avoid Android Chrome issue\n            // https://issues.chromium.org/issues/40732224\n            documentObject.addEventListener('pointerdown', onPointerDown, true);\n            documentObject.addEventListener('click', onClick, true);\n            return ()=>{\n                documentObject.removeEventListener('pointerdown', onPointerDown, true);\n                documentObject.removeEventListener('click', onClick, true);\n            };\n        } else if (process.env.NODE_ENV === 'test') {\n            let onMouseUp = (e)=>{\n                if (state.ignoreEmulatedMouseEvents) state.ignoreEmulatedMouseEvents = false;\n                else if (state.isPointerDown && $e0b6e0b68ec7f50f$var$isValidEvent(e, ref)) triggerInteractOutside(e);\n                state.isPointerDown = false;\n            };\n            let onTouchEnd = (e)=>{\n                state.ignoreEmulatedMouseEvents = true;\n                if (state.isPointerDown && $e0b6e0b68ec7f50f$var$isValidEvent(e, ref)) triggerInteractOutside(e);\n                state.isPointerDown = false;\n            };\n            documentObject.addEventListener('mousedown', onPointerDown, true);\n            documentObject.addEventListener('mouseup', onMouseUp, true);\n            documentObject.addEventListener('touchstart', onPointerDown, true);\n            documentObject.addEventListener('touchend', onTouchEnd, true);\n            return ()=>{\n                documentObject.removeEventListener('mousedown', onPointerDown, true);\n                documentObject.removeEventListener('mouseup', onMouseUp, true);\n                documentObject.removeEventListener('touchstart', onPointerDown, true);\n                documentObject.removeEventListener('touchend', onTouchEnd, true);\n            };\n        }\n    }, [\n        ref,\n        isDisabled,\n        onPointerDown,\n        triggerInteractOutside\n    ]);\n}\nfunction $e0b6e0b68ec7f50f$var$isValidEvent(event, ref) {\n    if (event.button > 0) return false;\n    if (event.target) {\n        // if the event target is no longer in the document, ignore\n        const ownerDocument = event.target.ownerDocument;\n        if (!ownerDocument || !ownerDocument.documentElement.contains(event.target)) return false;\n        // If the target is within a top layer element (e.g. toasts), ignore.\n        if (event.target.closest('[data-react-aria-top-layer]')) return false;\n    }\n    if (!ref.current) return false;\n    // When the event source is inside a Shadow DOM, event.target is just the shadow root.\n    // Using event.composedPath instead means we can get the actual element inside the shadow root.\n    // This only works if the shadow root is open, there is no way to detect if it is closed.\n    // If the event composed path contains the ref, interaction is inside.\n    return !event.composedPath().includes(ref.current);\n}\n\n\nexport {$e0b6e0b68ec7f50f$export$872b660ac5a1ff98 as useInteractOutside};\n//# sourceMappingURL=useInteractOutside.module.js.map\n","import {createContext} from 'react';\nimport type {ColumnConfig} from '../../datatable/column-config';\nimport type {TableProps} from './table';\nimport type {SortDescriptor} from './types/sort-descriptor';\nimport type {TableDataItem} from './types/table-data-item';\n\nexport type TableSelectionStyle = 'checkbox' | 'highlight';\n\nexport interface TableContextValue<T extends TableDataItem = TableDataItem> {\n  isCollapsedMode: boolean;\n  selectedRows: (string | number)[];\n  onSelectionChange: (keys: (string | number)[]) => void;\n  sortDescriptor?: SortDescriptor;\n  onSortChange?: (descriptor: SortDescriptor) => any;\n  enableSelection?: boolean;\n  enableSorting?: boolean;\n  selectionStyle: TableSelectionStyle;\n  data: T[];\n  meta?: any;\n  columns: ColumnConfig<T>[];\n  toggleRow: (item: T) => void;\n  selectRow: (item: T | null, merge?: boolean) => void;\n  hideBorder: boolean;\n  hideHeaderRow: boolean;\n  headerRowBg?: string;\n  collapseOnMobile: boolean;\n  onAction: TableProps<T>['onAction'];\n  selectRowOnContextMenu: TableProps<T>['selectRowOnContextMenu'];\n  cellHeight: string | undefined;\n  headerCellHeight: string | undefined;\n  tableStyle: 'flex' | 'html';\n}\nexport const TableContext = createContext<TableContextValue>(null!);\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {TableContext} from '@common/ui/tables/table-context';\nimport {TableDataItem} from '@common/ui/tables/types/table-data-item';\nimport {Checkbox} from '@ui/forms/toggle/checkbox';\nimport {useTrans} from '@ui/i18n/use-trans';\nimport {Skeleton} from '@ui/skeleton/skeleton';\nimport {useContext} from 'react';\n\nexport const CheckboxColumnConfig: ColumnConfig<TableDataItem> = {\n  key: 'checkbox',\n  header: () => <SelectAllCheckbox />,\n  align: 'center',\n  width: 'w-24 flex-shrink-0',\n  body: (item, row) => {\n    if (row.isPlaceholder) {\n      return <Skeleton size=\"w-24 h-24\" variant=\"rect\" />;\n    }\n    return <SelectRowCheckbox item={item} />;\n  },\n};\n\ninterface SelectRowCheckboxProps {\n  item: TableDataItem;\n}\nfunction SelectRowCheckbox({item}: SelectRowCheckboxProps) {\n  const {selectedRows, toggleRow} = useContext(TableContext);\n  return (\n    <Checkbox\n      checked={selectedRows.includes(item.id)}\n      onChange={() => toggleRow(item)}\n    />\n  );\n}\n\nfunction SelectAllCheckbox() {\n  const {trans} = useTrans();\n\n  const {data, selectedRows, onSelectionChange} = useContext(TableContext);\n  const allRowsSelected = !!data.length && data.length === selectedRows.length;\n  const someRowsSelected = !allRowsSelected && !!selectedRows.length;\n\n  return (\n    <Checkbox\n      aria-label={trans({message: 'Select all'})}\n      isIndeterminate={someRowsSelected}\n      checked={allRowsSelected}\n      onChange={() => {\n        if (allRowsSelected) {\n          onSelectionChange([]);\n        } else {\n          onSelectionChange(data.map(d => d.id));\n        }\n      }}\n    />\n  );\n}\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {TableContext} from '@common/ui/tables/table-context';\nimport clsx from 'clsx';\nimport {useContext} from 'react';\n\ninterface Props {\n  index: number;\n  isHeader: boolean;\n}\nexport function useTableCellStyle({index, isHeader}: Props) {\n  const {\n    columns,\n    cellHeight = 'h-50',\n    headerCellHeight = 'h-46',\n    tableStyle,\n  } = useContext(TableContext);\n  const isFirst = index === 0;\n  const isLast = columns.length - 1 === index;\n  const column = columns[index];\n  const height = isHeader ? headerCellHeight : cellHeight;\n\n  if (tableStyle === 'flex') {\n    return getFlexStyle(column, height);\n  }\n\n  return getHtmlStyle(column, isFirst, isLast, height);\n}\n\nfunction getHtmlStyle(\n  col: ColumnConfig<any>,\n  isFirst: boolean,\n  isLast: boolean,\n  height: string,\n): string {\n  let padding = col?.padding;\n\n  if (!padding) {\n    if (isFirst) {\n      padding = 'pl-16 pr-12';\n    } else if (isLast) {\n      padding = 'pr-16 pl-12';\n    } else {\n      padding = 'px-12';\n    }\n  }\n\n  return clsx(\n    'overflow-hidden whitespace-nowrap outline-none focus-visible:outline focus-visible:outline-offset-2 text-left',\n    height,\n    col?.maxWidth,\n    col?.width,\n    padding,\n    col?.className,\n  );\n}\n\nfunction getFlexStyle(col: ColumnConfig<any>, height: string) {\n  let justify = 'justify-start';\n  if (col?.align === 'center') {\n    justify = 'justify-center';\n  } else if (col?.align === 'end') {\n    justify = 'justify-end';\n  }\n\n  const userPadding = col?.padding;\n\n  return clsx(\n    'flex items-center overflow-hidden whitespace-nowrap overflow-ellipsis outline-none focus-visible:outline focus-visible:outline-offset-2',\n    height,\n    col?.width ?? 'flex-1',\n    col?.maxWidth,\n    col?.minWidth,\n    justify,\n    userPadding,\n    col?.className,\n  );\n}\n","import {useTableCellStyle} from '@common/ui/tables/style/use-table-cell-style';\nimport {ArrowDownwardIcon} from '@ui/icons/material/ArrowDownward';\nimport clsx from 'clsx';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {useContext, useState} from 'react';\nimport {TableContext} from './table-context';\nimport {SortDescriptor} from './types/sort-descriptor';\n\ninterface HeaderCellProps {\n  index: number;\n}\nexport function HeaderCell({index}: HeaderCellProps) {\n  const {columns, sortDescriptor, onSortChange, enableSorting, tableStyle} =\n    useContext(TableContext);\n  const column = columns[index];\n\n  const style = useTableCellStyle({\n    index: index,\n    isHeader: true,\n  });\n\n  const [isHovered, setIsHovered] = useState(false);\n\n  const sortingKey = column.sortingKey || column.key;\n  const allowSorting = column.allowsSorting && enableSorting;\n  const {orderBy, orderDir} = sortDescriptor || {};\n\n  const sortActive = allowSorting && orderBy === sortingKey;\n\n  let ariaSort: 'ascending' | 'descending' | 'none' | undefined;\n  if (sortActive && orderDir === 'asc') {\n    ariaSort = 'ascending';\n  } else if (sortActive && orderDir === 'desc') {\n    ariaSort = 'descending';\n  } else if (allowSorting) {\n    ariaSort = 'none';\n  }\n\n  const toggleSorting = () => {\n    if (!allowSorting) return;\n\n    let newSort: SortDescriptor;\n\n    // if this col was sorted desc, go to asc\n    if (sortActive && orderDir === 'desc') {\n      newSort = {orderDir: 'asc', orderBy: sortingKey};\n\n      // if this col was sorted asc, clear sort\n    } else if (sortActive && orderDir === 'asc') {\n      newSort = {orderBy: undefined, orderDir: undefined};\n\n      // if sort was on another col, or no sort was applied yet, start from desc\n    } else {\n      newSort = {orderDir: 'desc', orderBy: sortingKey};\n    }\n\n    onSortChange?.(newSort);\n  };\n\n  const sortVisible = sortActive || isHovered;\n  const sortVariants = {\n    visible: {opacity: 1, y: 0},\n    hidden: {opacity: 0, y: '-25%'},\n  };\n\n  const CellEl = tableStyle === 'html' ? 'th' : 'div';\n\n  return (\n    <CellEl\n      role=\"columnheader\"\n      tabIndex={-1}\n      aria-colindex={index + 1}\n      aria-sort={ariaSort}\n      className={clsx(\n        style,\n        'text-xs font-medium text-muted',\n        allowSorting && 'cursor-pointer',\n      )}\n      onMouseEnter={() => {\n        setIsHovered(true);\n      }}\n      onMouseLeave={() => {\n        setIsHovered(false);\n      }}\n      onKeyDown={e => {\n        if (e.key === ' ' || e.key === 'Enter') {\n          e.preventDefault();\n          toggleSorting();\n        }\n      }}\n      onClick={toggleSorting}\n    >\n      {column.hideHeader ? (\n        <div className=\"opacity-0\">{column.header()}</div>\n      ) : (\n        column.header()\n      )}\n      <AnimatePresence>\n        {allowSorting && (\n          <m.span\n            variants={sortVariants}\n            animate={sortVisible ? 'visible' : 'hidden'}\n            initial={false}\n            transition={{type: 'tween'}}\n            key=\"sort-icon\"\n            className=\"-mt-2 ml-6 inline-block\"\n            data-testid=\"table-sort-button\"\n            aria-hidden={!sortVisible}\n          >\n            <ArrowDownwardIcon\n              size=\"xs\"\n              className={clsx(\n                'text-muted',\n                orderDir === 'asc' &&\n                  orderBy === sortingKey &&\n                  'rotate-180 transition-transform',\n              )}\n            />\n          </m.span>\n        )}\n      </AnimatePresence>\n    </CellEl>\n  );\n}\n","import {HeaderCell} from '@common/ui/tables/header-cell';\nimport {TableContext} from '@common/ui/tables/table-context';\nimport clsx from 'clsx';\nimport {Fragment, useContext} from 'react';\n\nexport function TableHeaderRow() {\n  const {columns, tableStyle, headerRowBg} = useContext(TableContext);\n  const WrapperEl = tableStyle === 'html' ? 'thead' : Fragment;\n  const RowEl = tableStyle === 'html' ? 'tr' : 'div';\n  return (\n    <WrapperEl>\n      <RowEl\n        role=\"row\"\n        aria-rowindex={1}\n        tabIndex={-1}\n        className={clsx(\n          tableStyle === 'flex' && 'flex gap-x-16 px-16',\n          headerRowBg,\n        )}\n      >\n        {columns.map((column, columnIndex) => (\n          <HeaderCell index={columnIndex} key={column.key} />\n        ))}\n      </RowEl>\n    </WrapperEl>\n  );\n}\n","import {isMac} from '@react-aria/utils';\n\ninterface Event {\n  altKey: boolean;\n  ctrlKey: boolean;\n  metaKey: boolean;\n}\n\nexport function isCtrlKeyPressed(e: Event) {\n  if (isMac()) {\n    return e.metaKey;\n  }\n\n  return e.ctrlKey;\n}\n","import React, {KeyboardEventHandler} from 'react';\nimport {getFocusableTreeWalker} from '@react-aria/focus';\nimport {focusWithoutScrolling} from '@react-aria/utils';\nimport {isCtrlKeyPressed} from '@ui/utils/keybinds/is-ctrl-key-pressed';\n\ninterface Props {\n  cellCount: number;\n  rowCount: number;\n}\nexport function useGridNavigation(props: Props) {\n  const {cellCount, rowCount} = props;\n  const onKeyDown: KeyboardEventHandler<HTMLElement> = e => {\n    switch (e.key) {\n      case 'ArrowLeft':\n        focusSiblingCell(e, {cell: {op: 'decrement'}}, props);\n        break;\n      case 'ArrowRight':\n        focusSiblingCell(e, {cell: {op: 'increment'}}, props);\n        break;\n      case 'ArrowUp':\n        focusSiblingCell(e, {row: {op: 'decrement'}}, props);\n        break;\n      case 'ArrowDown':\n        focusSiblingCell(e, {row: {op: 'increment'}}, props);\n        break;\n      case 'PageUp':\n        focusSiblingCell(e, {row: {op: 'decrement', count: 5}}, props);\n        break;\n      case 'PageDown':\n        focusSiblingCell(e, {row: {op: 'increment', count: 5}}, props);\n        break;\n      case 'Tab':\n        focusFirstElementAfterGrid(e);\n        break;\n      case 'Home':\n        if (isCtrlKeyPressed(e)) {\n          // move to first cell in first row\n          focusSiblingCell(\n            e,\n            {\n              row: {op: 'decrement', count: rowCount},\n              cell: {op: 'decrement', count: cellCount},\n            },\n            props,\n          );\n        } else {\n          // move to first cell in current row\n          focusSiblingCell(\n            e,\n            {cell: {op: 'decrement', count: cellCount}},\n            props,\n          );\n        }\n        break;\n      case 'End':\n        if (isCtrlKeyPressed(e)) {\n          // move to last cell in last row\n          focusSiblingCell(\n            e,\n            {\n              row: {op: 'increment', count: rowCount},\n              cell: {op: 'increment', count: cellCount},\n            },\n            props,\n          );\n        } else {\n          // move to last cell in current row\n          focusSiblingCell(\n            e,\n            {cell: {op: 'increment', count: cellCount}},\n            props,\n          );\n        }\n        break;\n    }\n  };\n\n  return {onKeyDown};\n}\n\ninterface Operations {\n  cell?: {\n    op: 'increment' | 'decrement';\n    count?: number;\n  };\n  row?: {\n    op: 'increment' | 'decrement';\n    count?: number;\n  };\n}\nfunction focusSiblingCell(\n  e: React.KeyboardEvent,\n  operations: Operations,\n  {cellCount, rowCount}: Props,\n) {\n  if (document.activeElement?.tagName === 'input') return;\n  e.preventDefault();\n  const grid = e.currentTarget as HTMLElement;\n\n  // focused element might be inside the cell and not the cell itself\n  const currentCell = (e.target as HTMLElement).closest('[aria-colindex]');\n  if (!currentCell || !grid) return;\n\n  const row = currentCell.closest('[aria-rowindex]');\n  if (!row) return;\n\n  // grab row and cell index from aria attributes\n  let rowIndex = parseInt(row.getAttribute('aria-rowindex') as string);\n  let cellIndex = parseInt(currentCell.getAttribute('aria-colindex') as string);\n  if (Number.isNaN(rowIndex) || Number.isNaN(cellIndex)) return;\n\n  // adjust row index for next cell selector\n  const rowOpCount = operations.row?.count ?? 1;\n  if (operations.row?.op === 'increment') {\n    rowIndex = Math.min(rowCount, rowIndex + rowOpCount);\n  } else if (operations.row?.op === 'decrement') {\n    rowIndex = Math.max(1, rowIndex - rowOpCount);\n  }\n\n  // adjust cell index for next cell selector\n  const cellOpCount = operations.cell?.count ?? 1;\n  if (operations.cell?.op === 'increment') {\n    cellIndex = Math.min(cellCount, cellIndex + cellOpCount);\n  } else if (operations.cell?.op === 'decrement') {\n    cellIndex = Math.max(1, cellIndex - cellOpCount);\n  }\n\n  // find the next cell that should be focused\n  const nextCell = grid.querySelector(\n    `[aria-rowindex=\"${rowIndex}\"] [aria-colindex=\"${cellIndex}\"]`,\n  ) as HTMLElement | undefined;\n  if (!nextCell) return;\n\n  // find any focusable elements inside the cell\n  const walker = getFocusableTreeWalker(nextCell);\n  const nextFocusableElement = (walker.nextNode() || nextCell) as HTMLElement;\n\n  // adjust tab index on current and next cells and focus either next cell or first focusable element inside that cell\n  currentCell.setAttribute('tabindex', '-1');\n  nextFocusableElement.setAttribute('tabindex', '0');\n  nextFocusableElement.focus();\n}\n\n// grid is treated as a single tab stop, focus first element after grid, instead of moving focus withing grid on tab press\nfunction focusFirstElementAfterGrid(e: React.KeyboardEvent) {\n  const grid = e.currentTarget as HTMLElement;\n  if (e.shiftKey) {\n    grid.focus();\n  } else {\n    const walker = getFocusableTreeWalker(grid, {tabbable: true});\n    let next: HTMLElement;\n    let last: HTMLElement;\n    do {\n      last = walker.lastChild() as HTMLElement;\n      if (last) {\n        next = last;\n      }\n    } while (last);\n\n    // @ts-ignore\n    if (next && !next.contains(document.activeElement)) {\n      focusWithoutScrolling(next);\n    }\n  }\n}\n","import {TableContext} from '@common/ui/tables/table-context';\nimport {useIsDarkMode} from '@ui/themes/use-is-dark-mode';\nimport {useIsMobileMediaQuery} from '@ui/utils/hooks/is-mobile-media-query';\nimport clsx from 'clsx';\nimport {useContext} from 'react';\n\ninterface Props {\n  index: number;\n  isSelected: boolean;\n  isHeader?: boolean;\n}\nexport function useTableRowStyle({index, isSelected, isHeader}: Props) {\n  const isDarkMode = useIsDarkMode();\n  const isMobile = useIsMobileMediaQuery();\n  const {\n    hideBorder,\n    enableSelection,\n    collapseOnMobile,\n    onAction,\n    isCollapsedMode,\n    tableStyle,\n  } = useContext(TableContext);\n  const isFirst = index === 0;\n\n  return clsx(\n    tableStyle === 'flex' && 'flex gap-x-16',\n    'break-inside-avoid outline-none border border-transparent',\n    isCollapsedMode && 'rounded-panel',\n    onAction && 'cursor-pointer',\n    isMobile && collapseOnMobile && hideBorder\n      ? 'mb-8 pl-8 pr-0 rounded'\n      : 'px-16',\n    !hideBorder && 'border-b-divider',\n    !hideBorder && isFirst && 'border-t-divider',\n    isSelected &&\n      !isDarkMode &&\n      'bg-primary/selected hover:bg-primary/focus focus-visible:bg-primary/focus',\n    isSelected &&\n      isDarkMode &&\n      'bg-selected hover:bg-focus focus-visible:bg-focus',\n    !isSelected &&\n      !isHeader &&\n      (enableSelection || onAction) &&\n      'focus-visible:bg-focus hover:bg-hover',\n  );\n}\n","import {RowContext} from '@common/datatable/column-config';\nimport {useTableCellStyle} from '@common/ui/tables/style/use-table-cell-style';\nimport {useContext, useMemo} from 'react';\nimport {TableContext} from './table-context';\nimport {TableDataItem} from './types/table-data-item';\n\ninterface TableCellProps {\n  rowIsHovered: boolean;\n  rowIndex: number;\n  index: number;\n  item: TableDataItem;\n  id?: string;\n}\nexport function TableCell({\n  rowIndex,\n  rowIsHovered,\n  index,\n  item,\n  id,\n}: TableCellProps) {\n  const {columns, tableStyle} = useContext(TableContext);\n  const column = columns[index];\n\n  const rowContext: RowContext = useMemo(() => {\n    return {\n      index: rowIndex,\n      isHovered: rowIsHovered,\n      isPlaceholder: item.isPlaceholder,\n    };\n  }, [rowIndex, rowIsHovered, item.isPlaceholder]);\n\n  const style = useTableCellStyle({\n    index: index,\n    isHeader: false,\n  });\n\n  const CellEl = tableStyle === 'html' ? 'td' : 'div';\n\n  let body = column.body(item, rowContext);\n\n  // wrap with extra element to support overflow ellipsis, not needed for placeholders\n  if (!rowContext.isPlaceholder) {\n    body = (\n      <div className=\"min-w-0 overflow-hidden overflow-ellipsis\">{body}</div>\n    );\n  }\n\n  return (\n    <CellEl\n      tabIndex={-1}\n      role=\"gridcell\"\n      aria-colindex={index + 1}\n      id={id}\n      className={style}\n    >\n      {body}\n    </CellEl>\n  );\n}\n","import {isCtrlKeyPressed} from '@ui/utils/keybinds/is-ctrl-key-pressed';\n\ninterface Event {\n  altKey: boolean;\n  ctrlKey: boolean;\n  metaKey: boolean;\n  shiftKey: boolean;\n}\n\nexport function isCtrlOrShiftPressed(e: Event) {\n  return e.shiftKey || isCtrlKeyPressed(e);\n}\n","import {useTableRowStyle} from '@common/ui/tables/style/use-table-row-style';\nimport {TableCell} from '@common/ui/tables/table-cell';\nimport {TableContext} from '@common/ui/tables/table-context';\nimport {TableDataItem} from '@common/ui/tables/types/table-data-item';\nimport {usePointerEvents} from '@ui/interactions/use-pointer-events';\nimport {createEventHandler} from '@ui/utils/dom/create-event-handler';\nimport {isCtrlOrShiftPressed} from '@ui/utils/keybinds/is-ctrl-or-shift-pressed';\nimport clsx from 'clsx';\nimport React, {\n  ComponentPropsWithoutRef,\n  JSXElementConstructor,\n  KeyboardEventHandler,\n  MouseEventHandler,\n  useContext,\n  useRef,\n  useState,\n} from 'react';\n\nconst interactableElements = ['button', 'a', 'input', 'select', 'textarea'];\n\nexport interface RowElementProps<T = TableDataItem>\n  extends ComponentPropsWithoutRef<'tr'> {\n  item: T & {isPlaceholder?: boolean};\n}\n\ninterface TableRowProps {\n  item: TableDataItem;\n  index: number;\n  renderAs?: JSXElementConstructor<RowElementProps>;\n  className?: string;\n  style?: React.CSSProperties;\n}\nexport function TableRow({\n  item,\n  index,\n  renderAs,\n  className,\n  style,\n}: TableRowProps) {\n  const {\n    selectedRows,\n    columns,\n    toggleRow,\n    selectRow,\n    onAction,\n    selectRowOnContextMenu,\n    enableSelection,\n    selectionStyle,\n    hideHeaderRow,\n    tableStyle,\n  } = useContext(TableContext);\n\n  const isTouchDevice = useRef(false);\n  const isSelected = selectedRows.includes(item.id);\n  const [isHovered, setIsHovered] = useState(false);\n\n  const clickedOnInteractable = (e: React.MouseEvent | PointerEvent) => {\n    return (e.target as HTMLElement).closest(interactableElements.join(','));\n  };\n\n  const doubleClickHandler: MouseEventHandler<HTMLDivElement> = e => {\n    if (\n      selectionStyle === 'highlight' &&\n      onAction &&\n      !isTouchDevice.current &&\n      !clickedOnInteractable(e)\n    ) {\n      e.preventDefault();\n      e.stopPropagation();\n      onAction(item, index);\n    }\n  };\n\n  const anyRowsSelected = !!selectedRows.length;\n\n  const handleRowTap = (e: PointerEvent) => {\n    if (clickedOnInteractable(e)) return;\n    if (selectionStyle === 'checkbox') {\n      if (enableSelection && (anyRowsSelected || !onAction)) {\n        toggleRow(item);\n      } else if (onAction) {\n        onAction(item, index);\n      }\n    } else if (selectionStyle === 'highlight') {\n      if (isTouchDevice.current) {\n        if (enableSelection && anyRowsSelected) {\n          toggleRow(item);\n        } else {\n          onAction?.(item, index);\n        }\n      } else if (enableSelection) {\n        selectRow(item, isCtrlOrShiftPressed(e));\n      }\n    }\n  };\n\n  const {domProps} = usePointerEvents({\n    onPointerDown: e => {\n      isTouchDevice.current = e.pointerType === 'touch';\n    },\n    onPress: handleRowTap,\n    onLongPress: enableSelection\n      ? () => {\n          if (isTouchDevice.current) {\n            toggleRow(item);\n          }\n        }\n      : undefined,\n  });\n\n  const keyboardHandler: KeyboardEventHandler = e => {\n    if (enableSelection && e.key === ' ') {\n      e.preventDefault();\n      e.stopPropagation();\n      if (selectionStyle === 'checkbox') {\n        toggleRow(item);\n      } else {\n        selectRow(item);\n      }\n    } else if (e.key === 'Enter' && !selectedRows.length && onAction) {\n      e.preventDefault();\n      e.stopPropagation();\n      onAction(item, index);\n    }\n  };\n\n  const contextMenuHandler: MouseEventHandler = e => {\n    if (selectRowOnContextMenu && enableSelection) {\n      if (!selectedRows.includes(item.id)) {\n        selectRow(item);\n      }\n    }\n    // prevent context menu on mobile\n    if (isTouchDevice.current) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  const styleClassName = useTableRowStyle({index, isSelected});\n\n  const RowElement = renderAs || (tableStyle === 'html' ? 'tr' : 'div');\n  return (\n    <RowElement\n      role=\"row\"\n      aria-rowindex={index + 1 + (hideHeaderRow ? 0 : 1)}\n      aria-selected={isSelected}\n      tabIndex={-1}\n      className={clsx(className, styleClassName)}\n      item={typeof RowElement === 'string' ? (undefined as any) : item}\n      onDoubleClick={createEventHandler(doubleClickHandler)}\n      onKeyDown={createEventHandler(keyboardHandler)}\n      onContextMenu={createEventHandler(contextMenuHandler)}\n      onPointerEnter={createEventHandler(() => setIsHovered(true))}\n      onPointerLeave={createEventHandler(() => setIsHovered(false))}\n      style={style}\n      {...domProps}\n    >\n      {columns.map((column, cellIndex) => (\n        <TableCell\n          rowIndex={index}\n          rowIsHovered={isHovered}\n          index={cellIndex}\n          item={item}\n          key={`${item.id}-${column.key}`}\n        />\n      ))}\n    </RowElement>\n  );\n}\n","import {CheckboxColumnConfig} from '@common/ui/tables/checkbox-column-config';\nimport {TableHeaderRow} from '@common/ui/tables/table-header-row';\nimport {useInteractOutside} from '@react-aria/interactions';\nimport {mergeProps, useObjectRef} from '@react-aria/utils';\nimport {useControlledState} from '@react-stately/utils';\nimport {useIsMobileMediaQuery} from '@ui/utils/hooks/is-mobile-media-query';\nimport {isCtrlKeyPressed} from '@ui/utils/keybinds/is-ctrl-key-pressed';\nimport clsx from 'clsx';\nimport {\n  cloneElement,\n  ComponentPropsWithoutRef,\n  Fragment,\n  JSXElementConstructor,\n  ReactElement,\n  RefObject,\n  useCallback,\n  useContext,\n  useMemo,\n} from 'react';\nimport {ColumnConfig} from '../../datatable/column-config';\nimport {useGridNavigation} from './navigate-grid';\nimport {\n  TableContext,\n  TableContextValue,\n  TableSelectionStyle,\n} from './table-context';\nimport {RowElementProps, TableRow} from './table-row';\nimport {SortDescriptor} from './types/sort-descriptor';\nimport {TableDataItem} from './types/table-data-item';\n\nexport interface TableProps<T extends TableDataItem>\n  extends ComponentPropsWithoutRef<'table'> {\n  className?: string;\n  columns: ColumnConfig<T>[];\n  activeColumns?: string[];\n  hideHeaderRow?: boolean;\n  data: T[];\n  meta?: any;\n  tableRef?: RefObject<HTMLTableElement>;\n  selectedRows?: (number | string)[];\n  defaultSelectedRows?: (number | string)[];\n  onSelectionChange?: (keys: (number | string)[]) => void;\n  sortDescriptor?: SortDescriptor;\n  onSortChange?: (descriptor: SortDescriptor) => any;\n  enableSorting?: boolean;\n  onDelete?: (items: T[]) => void;\n  enableSelection?: boolean;\n  selectionStyle?: TableSelectionStyle;\n  ariaLabelledBy?: string;\n  onAction?: (item: T, index: number) => void;\n  selectRowOnContextMenu?: boolean;\n  renderRowAs?: JSXElementConstructor<RowElementProps<T>>;\n  tableBody?: ReactElement<TableBodyProps>;\n  hideBorder?: boolean;\n  closeOnInteractOutside?: boolean;\n  collapseOnMobile?: boolean;\n  cellHeight?: string;\n  headerCellHeight?: string;\n  headerRowBg?: string;\n  tableStyle?: 'flex' | 'html';\n}\nexport function Table<T extends TableDataItem>({\n  className,\n  columns: userColumns,\n  activeColumns,\n  collapseOnMobile = true,\n  hideHeaderRow = false,\n  headerRowBg,\n  hideBorder = false,\n  data,\n  selectedRows: propsSelectedRows,\n  defaultSelectedRows: propsDefaultSelectedRows,\n  onSelectionChange: propsOnSelectionChange,\n  sortDescriptor: propsSortDescriptor,\n  onSortChange: propsOnSortChange,\n  enableSorting = true,\n  onDelete,\n  enableSelection = true,\n  selectionStyle = 'checkbox',\n  ariaLabelledBy,\n  selectRowOnContextMenu,\n  onAction,\n  renderRowAs,\n  tableBody,\n  meta,\n  tableRef: propsTableRef,\n  closeOnInteractOutside = false,\n  cellHeight,\n  headerCellHeight,\n  tableStyle = 'flex',\n  ...domProps\n}: TableProps<T>) {\n  const isMobile = useIsMobileMediaQuery();\n  const isCollapsedMode = !!isMobile && collapseOnMobile;\n  if (isCollapsedMode) {\n    hideHeaderRow = true;\n    hideBorder = true;\n  }\n\n  const [selectedRows, onSelectionChange] = useControlledState(\n    propsSelectedRows,\n    propsDefaultSelectedRows || [],\n    propsOnSelectionChange,\n  );\n\n  const [sortDescriptor, onSortChange] = useControlledState(\n    propsSortDescriptor,\n    undefined,\n    propsOnSortChange,\n  );\n\n  const toggleRow = useCallback(\n    (item: TableDataItem) => {\n      const newValues = [...selectedRows];\n      if (!newValues.includes(item.id)) {\n        newValues.push(item.id);\n      } else {\n        const index = newValues.indexOf(item.id);\n        newValues.splice(index, 1);\n      }\n      onSelectionChange(newValues);\n    },\n    [selectedRows, onSelectionChange],\n  );\n\n  const selectRow = useCallback(\n    // allow deselecting all rows by passing in null\n    (item: TableDataItem | null, merge?: boolean) => {\n      let newValues: (string | number)[] = [];\n      if (item) {\n        newValues = merge\n          ? [...selectedRows?.filter(id => id !== item.id), item.id]\n          : [item.id];\n      }\n      onSelectionChange(newValues);\n    },\n    [selectedRows, onSelectionChange],\n  );\n\n  // add checkbox columns to config, if selection is enabled\n  const columns = useMemo(() => {\n    const filteredColumns = userColumns.filter(c => {\n      if (activeColumns && !activeColumns.includes(c.key)) {\n        return false;\n      }\n\n      const visibleInMode = c.visibleInMode || 'regular';\n      if (visibleInMode === 'all') {\n        return true;\n      }\n      if (visibleInMode === 'compact' && isCollapsedMode) {\n        return true;\n      }\n      if (visibleInMode === 'regular' && !isCollapsedMode) {\n        return true;\n      }\n    });\n\n    // sort columns by Columns\n    if (activeColumns) {\n      filteredColumns.sort((a, b) => {\n        const aIndex = activeColumns.indexOf(a.key);\n        const bIndex = activeColumns.indexOf(b.key);\n        return aIndex - bIndex;\n      });\n    }\n\n    const showCheckboxCell =\n      enableSelection && selectionStyle !== 'highlight' && !isMobile;\n    if (showCheckboxCell) {\n      filteredColumns.unshift(CheckboxColumnConfig);\n    }\n    return filteredColumns;\n  }, [\n    isMobile,\n    userColumns,\n    enableSelection,\n    selectionStyle,\n    isCollapsedMode,\n    activeColumns,\n  ]);\n\n  const contextValue: TableContextValue<T> = {\n    isCollapsedMode,\n    cellHeight,\n    headerCellHeight,\n    headerRowBg,\n    hideBorder,\n    hideHeaderRow,\n    selectedRows,\n    onSelectionChange,\n    enableSorting,\n    enableSelection,\n    selectionStyle,\n    data,\n    columns,\n    sortDescriptor,\n    onSortChange,\n    toggleRow,\n    selectRow,\n    onAction,\n    selectRowOnContextMenu,\n    meta,\n    collapseOnMobile,\n    tableStyle,\n  };\n\n  const navProps = useGridNavigation({\n    cellCount: enableSelection ? columns.length + 1 : columns.length,\n    rowCount: data.length + 1,\n  });\n\n  const tableBodyProps: TableBodyProps = {\n    renderRowAs: renderRowAs as any,\n  };\n\n  if (!tableBody) {\n    tableBody = <BasicTableBody {...tableBodyProps} />;\n  } else {\n    tableBody = cloneElement(tableBody, tableBodyProps);\n  }\n\n  // deselect rows when clicking outside the table\n  const tableRef = useObjectRef(propsTableRef);\n  useInteractOutside({\n    ref: tableRef,\n    onInteractOutside: e => {\n      if (\n        closeOnInteractOutside &&\n        enableSelection &&\n        selectedRows?.length &&\n        // don't deselect if clicking on a dialog (for example is table row has a context menu)\n        !(e.target as HTMLElement).closest('[role=\"dialog\"]')\n      ) {\n        onSelectionChange([]);\n      }\n    },\n  });\n\n  const TableEl = tableStyle === 'html' ? 'table' : 'div';\n\n  return (\n    <TableContext.Provider value={contextValue as any}>\n      <TableEl\n        {...mergeProps(domProps, navProps, {\n          onKeyDown: (e: KeyboardEvent) => {\n            if (e.key === 'Escape') {\n              e.preventDefault();\n              e.stopPropagation();\n              if (selectedRows?.length) {\n                onSelectionChange([]);\n              }\n            } else if (e.key === 'Delete') {\n              e.preventDefault();\n              e.stopPropagation();\n              if (selectedRows?.length) {\n                onDelete?.(\n                  data.filter(item => selectedRows?.includes(item.id)),\n                );\n              }\n            } else if (isCtrlKeyPressed(e) && e.key === 'a') {\n              e.preventDefault();\n              e.stopPropagation();\n              if (enableSelection) {\n                onSelectionChange(data.map(item => item.id));\n              }\n            }\n          },\n        })}\n        tabIndex={0}\n        role=\"grid\"\n        aria-rowcount={data.length + 1}\n        aria-colcount={columns.length + 1}\n        ref={tableRef}\n        aria-multiselectable={enableSelection ? true : undefined}\n        aria-labelledby={ariaLabelledBy}\n        className={clsx(\n          className,\n          'isolate w-full select-none text-sm outline-none focus-visible:ring-2',\n        )}\n      >\n        {!hideHeaderRow && <TableHeaderRow />}\n        {tableBody}\n      </TableEl>\n    </TableContext.Provider>\n  );\n}\n\nexport interface TableBodyProps {\n  renderRowAs?: TableProps<TableDataItem>['renderRowAs'];\n}\nfunction BasicTableBody({renderRowAs}: TableBodyProps) {\n  const {data, tableStyle} = useContext(TableContext);\n  const BodyEl = tableStyle === 'html' ? 'tbody' : Fragment;\n  return (\n    <BodyEl>\n      {data.map((item, rowIndex) => (\n        <TableRow\n          item={item}\n          index={rowIndex}\n          key={item.id}\n          renderAs={renderRowAs}\n        />\n      ))}\n    </BodyEl>\n  );\n}\n"],"names":["$e0b6e0b68ec7f50f$export$872b660ac5a1ff98","props","ref","onInteractOutside","isDisabled","onInteractOutsideStart","stateRef","$ispOf$useRef","onPointerDown","$ispOf$useEffectEvent","e","$e0b6e0b68ec7f50f$var$isValidEvent","triggerInteractOutside","$ispOf$useEffect","state","element","documentObject","$ispOf$getOwnerDocument","onClick","event","ownerDocument","TableContext","createContext","CheckboxColumnConfig","jsx","SelectAllCheckbox","item","row","Skeleton","SelectRowCheckbox","selectedRows","toggleRow","useContext","Checkbox","trans","useTrans","data","onSelectionChange","allRowsSelected","someRowsSelected","d","useTableCellStyle","index","isHeader","columns","cellHeight","headerCellHeight","tableStyle","isFirst","isLast","column","height","getFlexStyle","getHtmlStyle","col","padding","clsx","justify","userPadding","HeaderCell","sortDescriptor","onSortChange","enableSorting","style","isHovered","setIsHovered","useState","sortingKey","allowSorting","orderBy","orderDir","sortActive","ariaSort","toggleSorting","newSort","sortVisible","sortVariants","CellEl","jsxs","AnimatePresence","m","ArrowDownwardIcon","TableHeaderRow","headerRowBg","WrapperEl","Fragment","RowEl","columnIndex","isCtrlKeyPressed","isMac","useGridNavigation","cellCount","rowCount","focusSiblingCell","focusFirstElementAfterGrid","operations","_a","grid","currentCell","rowIndex","cellIndex","rowOpCount","_b","_c","_d","cellOpCount","_e","_f","_g","nextCell","nextFocusableElement","getFocusableTreeWalker","walker","next","last","focusWithoutScrolling","useTableRowStyle","isSelected","isDarkMode","useIsDarkMode","isMobile","useIsMobileMediaQuery","hideBorder","enableSelection","collapseOnMobile","onAction","isCollapsedMode","TableCell","rowIsHovered","id","rowContext","useMemo","body","isCtrlOrShiftPressed","interactableElements","TableRow","renderAs","className","selectRow","selectRowOnContextMenu","selectionStyle","hideHeaderRow","isTouchDevice","useRef","clickedOnInteractable","doubleClickHandler","anyRowsSelected","handleRowTap","domProps","usePointerEvents","keyboardHandler","contextMenuHandler","styleClassName","RowElement","createEventHandler","Table","userColumns","activeColumns","propsSelectedRows","propsDefaultSelectedRows","propsOnSelectionChange","propsSortDescriptor","propsOnSortChange","onDelete","ariaLabelledBy","renderRowAs","tableBody","meta","propsTableRef","closeOnInteractOutside","useControlledState","useCallback","newValues","merge","filteredColumns","c","visibleInMode","a","b","aIndex","bIndex","contextValue","navProps","tableBodyProps","cloneElement","BasicTableBody","tableRef","useObjectRef","useInteractOutside","TableEl","mergeProps","BodyEl"],"mappings":"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","x_google_ignoreList":[0]}