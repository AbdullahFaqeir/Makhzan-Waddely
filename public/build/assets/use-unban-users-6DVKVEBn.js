import{ap as d,ar as f,k as x,aJ as p,x as i,ax as j,w as F,a8 as b,a3 as y,j as e,M as U,Q as D,T as r,R as v,ao as B,a4 as E,B as c,aq as T}from"./main-BdzhGpqn.js";import{F as w}from"./date-picker-BiDllGjz.js";import{F as C}from"./switch-DFT-JawA.js";import{D as q}from"./dialog-footer-DL2JkwrZ.js";function P(n,s){return d({mutationFn:a=>x.post(`users/ban/${s.join(",")}`,a).then(t=>t.data),onSuccess:async()=>{p(i("[one User|other :count Users] suspended",{values:{count:s.length}})),await j.invalidateQueries({queryKey:["users"]})},onError:a=>f(a,n)})}function R({userIds:n,description:s,onSuccess:a}){const{trans:t}=F(),{close:m,formId:u}=b(),o=y({defaultValues:{permanent:!0}}),h=o.watch("permanent"),l=P(o,n);return e.jsxs(U,{children:[e.jsx(D,{children:e.jsx(r,{message:"Suspend users"})}),e.jsxs(v,{children:[e.jsxs(B,{id:u,form:o,onSubmit:g=>l.mutate(g,{onSuccess:()=>{m(!0),a==null||a()}}),children:[e.jsx(w,{name:"ban_until",label:e.jsx(r,{message:"Suspend until"}),disabled:h}),e.jsx(C,{name:"permanent",className:"mt-12",children:e.jsx(r,{message:"Permanent"})}),e.jsx(E,{className:"mt-24",name:"comment",inputElementType:"textarea",maxLength:250,label:e.jsx(r,{message:"Reason"}),placeholder:t(i("Optional"))})]}),s&&e.jsx("div",{className:"mt-16",children:s})]}),e.jsxs(q,{children:[e.jsx(c,{onClick:()=>m(),children:e.jsx(r,{message:"Cancel"})}),e.jsx(c,{form:u,variant:"flat",color:"primary",type:"submit",disabled:l.isPending,children:e.jsx(r,{message:"Suspend"})})]})]})}function H(n){return d({mutationFn:()=>x.delete(`users/unban/${n.join(",")}`).then(s=>s.data),onSuccess:()=>{p(i("[one User|other :count Users] unsuspended",{values:{count:n.length}})),j.invalidateQueries({queryKey:["users"]})},onError:s=>T(s)})}export{R as B,H as u};
