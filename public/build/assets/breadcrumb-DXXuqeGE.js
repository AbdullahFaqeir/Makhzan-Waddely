import{r as h,cs as N,j as u,c as j,L as H,w as T,au as V,ak as O,J as _,al as A,a6 as D}from"./main-BdzhGpqn.js";import{$ as L}from"./useEffectEvent-D8HiMrwe.js";import{C as q}from"./ChevronRight-C9FQjnQQ.js";import{M as J}from"./MoreHoriz-uyJcPOJk.js";function K(r){let[n,s]=h.useState(r),e=h.useRef(null),o=L(()=>{if(!e.current)return;let l=e.current.next();if(l.done){e.current=null;return}n===l.value?o():s(l.value)});N(()=>{e.current&&o()});let i=L(l=>{e.current=l(n),o()});return[n,i]}function P(){return typeof window.ResizeObserver<"u"}function X(r){const{ref:n,box:s,onResize:e}=r;h.useEffect(()=>{let o=n==null?void 0:n.current;if(o)if(P()){const i=new window.ResizeObserver(l=>{l.length&&e()});return i.observe(o,{box:s}),()=>{o&&i.unobserve(o)}}else return window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}},[e,n,s])}function F(r){const{isCurrent:n,sizeStyle:s,isMenuTrigger:e,isClickable:o,isDisabled:i,inactiveMuted:l,onSelected:I,className:z,isMenuItem:v,isLink:t,to:g,relative:w}=r,p=typeof r.children=="function"?r.children({isMenuItem:v}):r.children;if(v)return p;const k=e?{}:{tabIndex:t&&!i?0:void 0,role:t?"link":void 0,"aria-disabled":t?i:void 0,"aria-current":n&&t?"page":void 0,onClick:()=>I==null?void 0:I(),to:g,relative:w},E=g?H:"div";return u.jsxs("li",{className:j(`relative inline-flex min-w-0 flex-shrink-0 items-center justify-start transition-button ${s==null?void 0:s.font}`,(!o||i)&&"pointer-events-none",!n&&i&&"text-disabled",!n&&!i&&l&&"text-muted"),children:[u.jsx(E,{...k,className:j(z,"cursor-pointer overflow-hidden whitespace-nowrap rounded-button px-6",!e&&"py-2 hover:bg-hover",!e&&(t||g)&&"outline-none focus-visible:ring"),children:p}),n===!1&&u.jsx(q,{size:s==null?void 0:s.icon,className:j(i&&"text-disabled")})]})}const G=1,Q=10;function ne(r){const{size:n="md",children:s,isDisabled:e,className:o,currentIsClickable:i,isNavigation:l,inactiveMuted:I=!0}=r,{trans:z}=T(),v=U(n),t=[];V.Children.forEach(s,a=>{V.isValidElement(a)&&t.push(a)});const g=h.useRef(null),w=h.useRef(null),[p,k]=K(t.length),E=h.useCallback(()=>{const a=f=>{var C;const d=w.current;if(!d)return;const c=Array.from(d.children);if(!c.length)return;const x=d.offsetWidth,y=t.length>f;let m=0,b=0,$=Q;if(m+=c.shift().offsetWidth,b++,y&&(m+=((C=c.shift())==null?void 0:C.offsetWidth)??0,$--),m>=x&&b--,c.length>0){const R=c.pop();R.style.overflow="visible",m+=R.offsetWidth,m<x&&b++,R.style.overflow=""}for(const R of c.reverse())m+=R.offsetWidth,m<x&&b++;return Math.max(G,Math.min($,b))};k(function*(){yield t.length;const f=a(t.length);yield f,f<t.length&&f>1&&(yield a(f))})},[w,s,k]);X({ref:g,onResize:E}),N(E,[s]);let M=t;if(t.length>p){const a=t.length-1;M=[u.jsx(F,{sizeStyle:v,isMenuTrigger:!0,children:u.jsxs(O,{selectionMode:"single",selectedValue:a,children:[u.jsx(_,{"aria-label":"â€¦",disabled:e,size:v.btn,children:u.jsx(J,{})}),u.jsx(A,{children:t.map((x,y)=>{const m=a===y;return u.jsx(D,{to:x.props.to,value:y,onSelected:()=>{var b,$;m||($=(b=x.props).onSelected)==null||$.call(b)},children:h.cloneElement(x,{isMenuItem:!0})},y)})})]})},"menu")];const d=[...t];let c=p;p>1&&(M.unshift(d.shift()),c--),M.push(...d.slice(-c))}const B=M.length-1,S=M.map((a,f)=>{const d=f===B,c=!d||i;return h.cloneElement(a,{key:a.key||f,isCurrent:d,sizeStyle:v,isClickable:c,isDisabled:e,inactiveMuted:I,isLink:l&&a.key!=="menu"})}),W=l?"nav":"div";return u.jsx(W,{className:j(o,"breadcrumb-root w-full min-w-0"),"aria-label":z({message:"Breadcrumbs"}),ref:g,children:u.jsx("ol",{ref:w,className:j("flex flex-nowrap justify-start",v.minHeight),children:S})})}function U(r){switch(r){case"sm":return{font:"text-sm",icon:"sm",btn:"sm",minHeight:"min-h-36"};case"lg":return{font:"text-lg",icon:"sm",btn:"md",minHeight:"min-h-42"};case"xl":return{font:"text-xl",icon:"sm",btn:"md",minHeight:"min-h-42"};default:return{font:"text-base",icon:"sm",btn:"md",minHeight:"min-h-42"}}}export{ne as B,F as a};
