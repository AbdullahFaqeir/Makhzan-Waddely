const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ace-editor-D8VrjvFr.js","./main-TIUJvpaR.js","./main-B0TyoWRZ.css"])))=>i.map(i=>d[i]);
import{aA as p,x as l,j as s,T as d,a2 as h,a8 as x,r as u,as as f,P as b,_ as j}from"./main-TIUJvpaR.js";import{a as _}from"./admin-config-DnlTcyOh.js";import{A as g}from"./settings-layout-3TYj2S4c.js";import{u as C}from"./use-admin-settings-BMDiXI8M.js";import{T,a as E,b as L}from"./tabs-CZm6G2eA.js";import"./settings-links-DfKKjWK1.js";import"./external-link-DvqU4uvd.js";import"./use-admin-settings-page-nav-config-_cTFr_To.js";import"./datatable-page-with-header-layout-Bbr3vl7W.js";import"./dashboard-layout-context-DA6Q35rI.js";import"./use-toggle-dashboard-left-sidebar-BuzWlDo2.js";import"./file-upload-provider-B_bRCnuD.js";import"./uploaded-file-CLeM2EFo.js";import"./pretty-bytes-bO14ePu9.js";import"./confirmation-dialog-Ds1Wl8FN.js";import"./dialog-footer-yCpPZGPO.js";import"./useSuspenseQuery-Bu7JdXWw.js";const P=f.lazy(()=>j(()=>import("./ace-editor-D8VrjvFr.js"),__vite__mapDeps([0,1,2]),import.meta.url)),i=[{name:"html",label:l("Custom HTML & JavaScript")},{name:"css",label:l("Custom CSS")}];function B(){const[a,m]=p(),o=a.get("tab")||"html";let e=i.findIndex(t=>t.name===o);e=e===-1?0:e;const r=o==="html"?"html":"css",n=s.jsx(T,{selectedTab:e,onTabChange:t=>m({tab:i[t].name}),children:s.jsx(E,{className:"px-8",children:i.map(t=>s.jsx(L,{children:s.jsx(d,{...t.label})},t.name))})});return s.jsx(S,{mode:r,tabList:n},r)}function S({mode:a,tabList:m}){const{data:o}=C(),e=a==="css"?{custom_code:{css:o.custom_code.css}}:{custom_code:{html:o.custom_code.html}},r=h({defaultValues:e});return s.jsx(g,{form:r,title:s.jsx(d,{message:"Custom code"}),tabs:m,docsLink:_.settings.customCode,children:s.jsx("div",{className:"relative h-580 overflow-hidden rounded-panel border",children:s.jsx(A,{mode:a})})})}function A({mode:a}){const{setValue:m,getValues:o,setError:e,clearErrors:r}=x(),n=u.useRef(!0),t=a==="html"?"custom_code.html":"custom_code.css";return s.jsx(u.Suspense,{fallback:s.jsx(b,{isIndeterminate:!0}),children:s.jsx(P,{mode:a,onLoad:()=>{setTimeout(()=>n.current=!1,10)},onChange:c=>{if(!n.current)return m(t,c,{shouldDirty:!0})},defaultValue:o(t)||"",onIsValidChange:c=>{c?r(t):e(t,{type:"manual"})}})})}export{B as Component};
