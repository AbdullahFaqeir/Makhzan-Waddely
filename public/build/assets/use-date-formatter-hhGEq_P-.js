import{r as l,Z as i,H as m}from"./main-TIUJvpaR.js";let n=new Map;class d{format(e){return this.formatter.format(e)}formatToParts(e){return this.formatter.formatToParts(e)}formatRange(e,r){if(typeof this.formatter.formatRange=="function")return this.formatter.formatRange(e,r);if(r<e)throw new RangeError("End date must be >= start date");return`${this.formatter.format(e)} – ${this.formatter.format(r)}`}formatRangeToParts(e,r){if(typeof this.formatter.formatRangeToParts=="function")return this.formatter.formatRangeToParts(e,r);if(r<e)throw new RangeError("End date must be >= start date");let u=this.formatter.formatToParts(e),a=this.formatter.formatToParts(r);return[...u.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...a.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.formatter.resolvedOptions();return v()&&(this.resolvedHourCycle||(this.resolvedHourCycle=y(e.locale,this.options)),e.hourCycle=this.resolvedHourCycle,e.hour12=this.resolvedHourCycle==="h11"||this.resolvedHourCycle==="h12"),e.calendar==="ethiopic-amete-alem"&&(e.calendar="ethioaa"),e}constructor(e,r={}){this.formatter=h(e,r),this.options=r}}const c={true:{ja:"h11"},false:{}};function h(t,e={}){if(typeof e.hour12=="boolean"&&$()){e={...e};let a=c[String(e.hour12)][t.split("-")[0]],o=e.hour12?"h12":"h23";e.hourCycle=a??o,delete e.hour12}let r=t+(e?Object.entries(e).sort((a,o)=>a[0]<o[0]?-1:1).join():"");if(n.has(r))return n.get(r);let u=new Intl.DateTimeFormat(t,e);return n.set(r,u),u}let f=null;function $(){return f==null&&(f=new Intl.DateTimeFormat("en-US",{hour:"numeric",hour12:!1}).format(new Date(2020,2,3,0))==="24"),f}let s=null;function v(){return s==null&&(s=new Intl.DateTimeFormat("fr",{hour:"numeric",hour12:!1}).resolvedOptions().hourCycle==="h12"),s}function y(t,e){if(!e.timeStyle&&!e.hour)return;t=t.replace(/(-u-)?-nu-[a-zA-Z0-9]+/,""),t+=(t.includes("-u-")?"":"-u")+"-nu-latn";let r=h(t,{...e,timeZone:void 0}),u=parseInt(r.formatToParts(new Date(2020,2,3,0)).find(o=>o.type==="hour").value,10),a=parseInt(r.formatToParts(new Date(2020,2,3,23)).find(o=>o.type==="hour").value,10);if(u===0&&a===23)return"h23";if(u===24&&a===23)return"h24";if(u===0&&a===11)return"h11";if(u===12&&a===11)return"h12";throw new Error("Unexpected hour cycle result")}function b(t){const e=l.useRef(null);t&&e.current&&i(t,e.current)&&(t=e.current),e.current=t;const{localeCode:r}=m();return l.useMemo(()=>new d(r,t),[r,t])}export{d as $,b as u};
