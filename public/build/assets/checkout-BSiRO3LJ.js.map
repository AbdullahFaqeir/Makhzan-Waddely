{"version":3,"file":"checkout-BSiRO3LJ.js","sources":["../../../node_modules/@paypal/paypal-js/dist/esm/paypal-js.js","../../../common/foundation/resources/client/billing/checkout/paypal/use-paypal.ts","../../../common/foundation/resources/client/billing/checkout/checkout.tsx"],"sourcesContent":["/*!\n * paypal-js v8.4.2 (2025-09-04T17:21:30.135Z)\n * Copyright 2020-present, PayPal, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nfunction findScript(url, attributes) {\n    var currentScript = document.querySelector(\"script[src=\\\"\".concat(url, \"\\\"]\"));\n    if (currentScript === null)\n        return null;\n    var nextScript = createScriptElement(url, attributes);\n    // ignore the data-uid-auto attribute that gets auto-assigned to every script tag\n    var currentScriptClone = currentScript.cloneNode();\n    delete currentScriptClone.dataset.uidAuto;\n    // check if the new script has the same number of data attributes\n    if (Object.keys(currentScriptClone.dataset).length !==\n        Object.keys(nextScript.dataset).length) {\n        return null;\n    }\n    var isExactMatch = true;\n    // check if the data attribute values are the same\n    Object.keys(currentScriptClone.dataset).forEach(function (key) {\n        if (currentScriptClone.dataset[key] !== nextScript.dataset[key]) {\n            isExactMatch = false;\n        }\n    });\n    return isExactMatch ? currentScript : null;\n}\nfunction insertScriptElement(_a) {\n    var url = _a.url, attributes = _a.attributes, onSuccess = _a.onSuccess, onError = _a.onError;\n    var newScript = createScriptElement(url, attributes);\n    newScript.onerror = onError;\n    newScript.onload = onSuccess;\n    document.head.insertBefore(newScript, document.head.firstElementChild);\n}\nfunction processOptions(_a) {\n    var customSdkBaseUrl = _a.sdkBaseUrl, environment = _a.environment, options = __rest(_a, [\"sdkBaseUrl\", \"environment\"]);\n    var sdkBaseUrl = customSdkBaseUrl || processSdkBaseUrl(environment);\n    var optionsWithStringIndex = options;\n    var _b = Object.keys(optionsWithStringIndex)\n        .filter(function (key) {\n        return (typeof optionsWithStringIndex[key] !== \"undefined\" &&\n            optionsWithStringIndex[key] !== null &&\n            optionsWithStringIndex[key] !== \"\");\n    })\n        .reduce(function (accumulator, key) {\n        var value = optionsWithStringIndex[key].toString();\n        key = camelCaseToKebabCase(key);\n        if (key.substring(0, 4) === \"data\" || key === \"crossorigin\") {\n            accumulator.attributes[key] = value;\n        }\n        else {\n            accumulator.queryParams[key] = value;\n        }\n        return accumulator;\n    }, {\n        queryParams: {},\n        attributes: {},\n    }), queryParams = _b.queryParams, attributes = _b.attributes;\n    if (queryParams[\"merchant-id\"] &&\n        queryParams[\"merchant-id\"].indexOf(\",\") !== -1) {\n        attributes[\"data-merchant-id\"] = queryParams[\"merchant-id\"];\n        queryParams[\"merchant-id\"] = \"*\";\n    }\n    return {\n        url: \"\".concat(sdkBaseUrl, \"?\").concat(objectToQueryString(queryParams)),\n        attributes: attributes,\n    };\n}\nfunction camelCaseToKebabCase(str) {\n    var replacer = function (match, indexOfMatch) {\n        return (indexOfMatch ? \"-\" : \"\") + match.toLowerCase();\n    };\n    return str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, replacer);\n}\nfunction objectToQueryString(params) {\n    var queryString = \"\";\n    Object.keys(params).forEach(function (key) {\n        if (queryString.length !== 0)\n            queryString += \"&\";\n        queryString += key + \"=\" + params[key];\n    });\n    return queryString;\n}\nfunction processSdkBaseUrl(environment) {\n    // Keeping production as default to maintain backward compatibility.\n    // In the future this logic needs to be changed to use sandbox domain as default instead of production.\n    return environment === \"sandbox\"\n        ? \"https://www.sandbox.paypal.com/sdk/js\"\n        : \"https://www.paypal.com/sdk/js\";\n}\nfunction createScriptElement(url, attributes) {\n    if (attributes === void 0) { attributes = {}; }\n    var newScript = document.createElement(\"script\");\n    newScript.src = url;\n    Object.keys(attributes).forEach(function (key) {\n        newScript.setAttribute(key, attributes[key]);\n        if (key === \"data-csp-nonce\") {\n            newScript.setAttribute(\"nonce\", attributes[\"data-csp-nonce\"]);\n        }\n    });\n    return newScript;\n}\n\n/**\n * Load the Paypal JS SDK script asynchronously.\n *\n * @param {Object} options - used to configure query parameters and data attributes for the JS SDK.\n * @param {PromiseConstructor} [PromisePonyfill=window.Promise] - optional Promise Constructor ponyfill.\n * @return {Promise<Object>} paypalObject - reference to the global window PayPal object.\n */\nfunction loadScript(options, PromisePonyfill) {\n    if (PromisePonyfill === void 0) { PromisePonyfill = Promise; }\n    validateArguments(options, PromisePonyfill);\n    // resolve with null when running in Node or Deno\n    if (typeof document === \"undefined\")\n        return PromisePonyfill.resolve(null);\n    var _a = processOptions(options), url = _a.url, attributes = _a.attributes;\n    var namespace = attributes[\"data-namespace\"] || \"paypal\";\n    var existingWindowNamespace = getPayPalWindowNamespace(namespace);\n    if (!attributes[\"data-js-sdk-library\"]) {\n        attributes[\"data-js-sdk-library\"] = \"paypal-js\";\n    }\n    // resolve with the existing global paypal namespace when a script with the same params already exists\n    if (findScript(url, attributes) && existingWindowNamespace) {\n        return PromisePonyfill.resolve(existingWindowNamespace);\n    }\n    return loadCustomScript({\n        url: url,\n        attributes: attributes,\n    }, PromisePonyfill).then(function () {\n        var newWindowNamespace = getPayPalWindowNamespace(namespace);\n        if (newWindowNamespace) {\n            return newWindowNamespace;\n        }\n        throw new Error(\"The window.\".concat(namespace, \" global variable is not available.\"));\n    });\n}\n/**\n * Load a custom script asynchronously.\n *\n * @param {Object} options - used to set the script url and attributes.\n * @param {PromiseConstructor} [PromisePonyfill=window.Promise] - optional Promise Constructor ponyfill.\n * @return {Promise<void>} returns a promise to indicate if the script was successfully loaded.\n */\nfunction loadCustomScript(options, PromisePonyfill) {\n    if (PromisePonyfill === void 0) { PromisePonyfill = Promise; }\n    validateArguments(options, PromisePonyfill);\n    var url = options.url, attributes = options.attributes;\n    if (typeof url !== \"string\" || url.length === 0) {\n        throw new Error(\"Invalid url.\");\n    }\n    if (typeof attributes !== \"undefined\" && typeof attributes !== \"object\") {\n        throw new Error(\"Expected attributes to be an object.\");\n    }\n    return new PromisePonyfill(function (resolve, reject) {\n        // resolve with undefined when running in Node or Deno\n        if (typeof document === \"undefined\")\n            return resolve();\n        insertScriptElement({\n            url: url,\n            attributes: attributes,\n            onSuccess: function () { return resolve(); },\n            onError: function () {\n                var defaultError = new Error(\"The script \\\"\".concat(url, \"\\\" failed to load. Check the HTTP status code and response body in DevTools to learn more.\"));\n                return reject(defaultError);\n            },\n        });\n    });\n}\nfunction getPayPalWindowNamespace(namespace) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return window[namespace];\n}\nfunction validateArguments(options, PromisePonyfill) {\n    if (typeof options !== \"object\" || options === null) {\n        throw new Error(\"Expected an options object.\");\n    }\n    var environment = options.environment;\n    if (environment &&\n        environment !== \"production\" &&\n        environment !== \"sandbox\") {\n        throw new Error('The `environment` option must be either \"production\" or \"sandbox\".');\n    }\n    if (typeof PromisePonyfill !== \"undefined\" &&\n        typeof PromisePonyfill !== \"function\") {\n        throw new Error(\"Expected PromisePonyfill to be a function.\");\n    }\n}\n\n// replaced with the package.json version at build time\nvar version = \"8.4.2\";\n\nexport { loadCustomScript, loadScript, version };\n","import {billingQueries} from '@common/billing/billing-queries';\nimport {loadScript} from '@paypal/paypal-js';\nimport {useQuery} from '@tanstack/react-query';\nimport {useSettings} from '@ui/settings/use-settings';\nimport {useEffect, useRef, useState} from 'react';\n\ninterface UsePaypalProps {\n  productId?: string;\n  priceId?: string;\n}\nexport function usePaypal({productId, priceId}: UsePaypalProps) {\n  const {data} = useQuery(billingQueries.products.index());\n  const paypalLoadStarted = useRef<boolean>(false);\n  const paypalButtonsRendered = useRef<boolean>(false);\n  const [paypalIsLoaded, setPaypalIsLoaded] = useState(false);\n  const paypalElementRef = useRef<HTMLDivElement>(null);\n  const {\n    base_url,\n    billing: {\n      stripe: {enable: stripeEnabled},\n      paypal: {enable: paypalEnabled, public_key},\n    },\n  } = useSettings();\n\n  useEffect(() => {\n    if (!paypalEnabled || !public_key || paypalLoadStarted.current) return;\n    loadScript({\n      clientId: public_key,\n      intent: 'subscription',\n      vault: true,\n      disableFunding: stripeEnabled ? 'card' : undefined,\n    }).then(() => {\n      setPaypalIsLoaded(true);\n    });\n    paypalLoadStarted.current = true;\n  }, [public_key, paypalEnabled, stripeEnabled]);\n\n  useEffect(() => {\n    if (\n      !paypalIsLoaded ||\n      !window.paypal?.Buttons ||\n      !paypalElementRef.current ||\n      !data?.products.length ||\n      !productId ||\n      !priceId ||\n      paypalButtonsRendered.current\n    )\n      return;\n\n    const product = data.products.find(p => p.id === parseInt(productId));\n    const price = product?.prices.find(p => p.id === parseInt(priceId));\n\n    window.paypal\n      .Buttons({\n        style: {\n          label: 'pay',\n        },\n        createSubscription: (data, actions) => {\n          return actions.subscription.create({\n            application_context: {\n              shipping_preference: 'NO_SHIPPING',\n              return_url: `${base_url}/checkout/${productId}/${priceId}/paypal/done?subscriptionId=${data.subscriptionID}&status=success`,\n              cancel_url: `${base_url}/checkout/${productId}/${priceId}/paypal/done?status=error`,\n            },\n            plan_id: price?.paypal_id!,\n          });\n        },\n        onApprove: (data, actions) => {\n          actions.redirect(\n            `${base_url}/checkout/${productId}/${priceId}/paypal/done?subscriptionId=${data.subscriptionID}&status=success`,\n          );\n          return Promise.resolve();\n        },\n        onError: e => {\n          location.href = `${base_url}/checkout/${productId}/${priceId}/paypal/done?status=error`;\n        },\n      })\n      .render(paypalElementRef.current)\n      .then(() => {\n        paypalButtonsRendered.current = true;\n      });\n  }, [productId, priceId, data, paypalIsLoaded, base_url]);\n\n  return {\n    paypalElementRef,\n    stripeIsEnabled: public_key != null && paypalEnabled,\n  };\n}\n","import {billingQueries} from '@common/billing/billing-queries';\nimport {useQuery} from '@tanstack/react-query';\nimport {Trans} from '@ui/i18n/trans';\nimport {FullPageLoader} from '@ui/progress/full-page-loader';\nimport {useSettings} from '@ui/settings/use-settings';\nimport {Fragment} from 'react';\nimport {Navigate, useParams} from 'react-router';\nimport {CheckoutLayout} from './checkout-layout';\nimport {CheckoutProductSummary} from './checkout-product-summary';\nimport {usePaypal} from './paypal/use-paypal';\nimport {StripeElementsForm} from './stripe/stripe-elements-form';\n\nexport function Component() {\n  const {productId, priceId} = useParams();\n  const productQuery = useQuery(billingQueries.products.index());\n  const {paypalElementRef} = usePaypal({\n    productId,\n    priceId,\n  });\n  const {\n    base_url,\n    billing: {stripe},\n  } = useSettings();\n\n  if (productQuery.isLoading) {\n    return <FullPageLoader screen />;\n  }\n\n  const product = productQuery.data?.products.find(\n    p => p.id === parseInt(productId!),\n  );\n  const price = product?.prices.find(p => p.id === parseInt(priceId!));\n\n  // make sure product and price exists in backend\n  if (!product || !price || productQuery.status === 'error') {\n    return <Navigate to=\"/pricing\" replace />;\n  }\n\n  return (\n    <CheckoutLayout>\n      <Fragment>\n        <h1 className=\"mb-40 text-4xl\">\n          <Trans message=\"Checkout\" />\n        </h1>\n        {stripe.enable ? (\n          <Fragment>\n            <StripeElementsForm\n              productId={productId}\n              priceId={priceId}\n              submitLabel={<Trans message=\"Upgrade\" />}\n              type=\"subscription\"\n              returnUrl={`${base_url}/checkout/${productId}/${priceId}/stripe/done`}\n            />\n            <Separator />\n          </Fragment>\n        ) : null}\n        <div ref={paypalElementRef} />\n        <div className=\"mt-30 text-xs text-muted\">\n          <Trans message=\"You’ll be charged until you cancel your subscription. Previous charges won’t be refunded when you cancel unless it’s legally required. Your payment data is encrypted and secure. By subscribing your agree to our terms of service and privacy policy.\" />\n        </div>\n      </Fragment>\n      <CheckoutProductSummary />\n    </CheckoutLayout>\n  );\n}\n\nfunction Separator() {\n  return (\n    <div className=\"relative my-20 text-center before:absolute before:left-0 before:top-1/2 before:h-1 before:w-full before:-translate-y-1/2 before:bg-divider\">\n      <span className=\"relative z-10 bg px-10 text-sm text-muted\">\n        <Trans message=\"or\" />\n      </span>\n    </div>\n  );\n}\n"],"names":["__rest","s","e","t","p","i","findScript","url","attributes","currentScript","nextScript","createScriptElement","currentScriptClone","isExactMatch","key","insertScriptElement","_a","onSuccess","onError","newScript","processOptions","customSdkBaseUrl","environment","options","sdkBaseUrl","processSdkBaseUrl","optionsWithStringIndex","_b","accumulator","value","camelCaseToKebabCase","queryParams","objectToQueryString","str","replacer","match","indexOfMatch","params","queryString","loadScript","PromisePonyfill","validateArguments","namespace","existingWindowNamespace","getPayPalWindowNamespace","loadCustomScript","newWindowNamespace","resolve","reject","defaultError","usePaypal","productId","priceId","data","useQuery","billingQueries","paypalLoadStarted","useRef","paypalButtonsRendered","paypalIsLoaded","setPaypalIsLoaded","useState","paypalElementRef","base_url","stripeEnabled","paypalEnabled","public_key","useSettings","useEffect","product","price","actions","Component","useParams","productQuery","stripe","jsx","FullPageLoader","Navigate","CheckoutLayout","jsxs","Fragment","Trans","StripeElementsForm","Separator","CheckoutProductSummary"],"mappings":"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","x_google_ignoreList":[0]}