{"version":3,"file":"use-current-date-time-lVcX-4fw.js","sources":["../../../common/foundation/resources/client/ui/library/i18n/get-user-timezone.ts","../../../common/foundation/resources/client/ui/library/i18n/use-current-date-time.ts"],"sourcesContent":["import {getLocalTimeZone} from '@internationalized/date';\nimport {getBootstrapData} from '@ui/bootstrap-data/bootstrap-data-store';\n\nexport function getUserTimezone(): string {\n  const defaultTimezone = getBootstrapData()?.settings.dates?.default_timezone;\n  const preferredTimezone =\n    getBootstrapData()?.user?.timezone || defaultTimezone || 'auto';\n\n  if (!preferredTimezone || preferredTimezone === 'auto') {\n    return getLocalTimeZone();\n  }\n  return preferredTimezone;\n}\n","import {useMemo} from 'react';\nimport {now} from '@internationalized/date';\nimport {useUserTimezone} from '@ui/i18n/use-user-timezone';\nimport {getUserTimezone} from '@ui/i18n/get-user-timezone';\n\nexport function useCurrentDateTime() {\n  const timezone = useUserTimezone();\n  return useMemo(() => {\n    try {\n      return now(timezone);\n    } catch (e) {\n      return now('UTC');\n    }\n  }, [timezone]);\n}\n\nexport function getCurrentDateTime() {\n  const timezone = getUserTimezone();\n  try {\n    return now(timezone);\n  } catch (e) {\n    return now('UTC');\n  }\n}\n"],"names":["getUserTimezone","defaultTimezone","_b","_a","getBootstrapData","preferredTimezone","_d","_c","getLocalTimeZone","useCurrentDateTime","timezone","useUserTimezone","useMemo","now","getCurrentDateTime"],"mappings":"sEAGO,SAASA,GAA0B,aACxC,MAAMC,GAAkBC,GAAAC,EAAAC,EAAA,IAAA,YAAAD,EAAoB,SAAS,QAA7B,YAAAD,EAAoC,iBACtDG,IACJC,GAAAC,EAAAH,EAAA,IAAA,YAAAG,EAAoB,OAApB,YAAAD,EAA0B,WAAYL,GAAmB,OAE3D,OAA0BI,IAAsB,OACvCG,EAAA,EAEFH,CACT,CCPO,SAASI,GAAqB,CACnC,MAAMC,EAAWC,EAAA,EACjB,OAAOC,EAAAA,QAAQ,IAAM,CACnB,GAAI,CACF,OAAOC,EAAIH,CAAQ,CACrB,MAAY,CACV,OAAOG,EAAI,KAAK,CAClB,CACF,EAAG,CAACH,CAAQ,CAAC,CACf,CAEO,SAASI,GAAqB,CACnC,MAAMJ,EAAWV,EAAA,EACjB,GAAI,CACF,OAAOa,EAAIH,CAAQ,CACrB,MAAY,CACV,OAAOG,EAAI,KAAK,CAClB,CACF"}