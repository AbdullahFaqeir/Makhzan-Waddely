{"version":3,"file":"use-admin-settings-F6YAcx26.js","sources":["../../../common/foundation/resources/client/admin/settings/requests/use-admin-settings.ts"],"sourcesContent":["import {commonAdminQueries} from '@common/admin/common-admin-queries';\nimport {useSuspenseQuery} from '@tanstack/react-query';\nimport {AdminSettings} from '../admin-settings';\n\nexport interface FetchAdminSettingsResponse extends AdminSettings {}\n\nexport function useAdminSettings() {\n  return useSuspenseQuery({\n    ...commonAdminQueries.settings.index,\n    select: prepareSettingsForHookForm,\n  });\n}\n\n// need to cast all numbers to strings and null/undefined to empty string recursively, otherwise hook form isDirty functionality will not work properly when binding numbers to text fields due to string/number type mismatch\nexport function prepareSettingsForHookForm(\n  obj: any,\n): FetchAdminSettingsResponse {\n  for (const key in obj) {\n    if (key === 'themes' || key === 'defaults') {\n      continue;\n    } else if (Array.isArray(obj[key])) {\n      obj[key] = obj[key].map(prepareSettingsForHookForm);\n    } else if (typeof obj[key] === 'object') {\n      obj[key] = prepareSettingsForHookForm(obj[key]);\n    } else if (typeof obj[key] === 'number') {\n      obj[key] = obj[key].toString();\n    } else if (obj[key] == null) {\n      obj[key] = '';\n    }\n  }\n  return obj;\n}\n"],"names":["useAdminSettings","useSuspenseQuery","commonAdminQueries","prepareSettingsForHookForm","obj","key"],"mappings":"2FAMO,SAASA,GAAmB,CACjC,OAAOC,EAAiB,CACtB,GAAGC,EAAmB,SAAS,MAC/B,OAAQC,CAAA,CACT,CACH,CAGO,SAASA,EACdC,EAC4B,CAC5B,UAAWC,KAAOD,EACZC,IAAQ,UAAYA,IAAQ,aAErB,MAAM,QAAQD,EAAIC,CAAG,CAAC,EAC/BD,EAAIC,CAAG,EAAID,EAAIC,CAAG,EAAE,IAAIF,CAA0B,EACzC,OAAOC,EAAIC,CAAG,GAAM,SAC7BD,EAAIC,CAAG,EAAIF,EAA2BC,EAAIC,CAAG,CAAC,EACrC,OAAOD,EAAIC,CAAG,GAAM,SAC7BD,EAAIC,CAAG,EAAID,EAAIC,CAAG,EAAE,SAAA,EACXD,EAAIC,CAAG,GAAK,OACrBD,EAAIC,CAAG,EAAI,KAGf,OAAOD,CACT"}