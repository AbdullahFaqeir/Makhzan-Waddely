import{ap as d,aq as c,k as p,a8 as u,j as e,M as m,Q as x,T as a,R as g,B as h,r as l,J as f,D as j}from"./main-BdzhGpqn.js";import{F as D}from"./FileDownload-CzvSUcXm.js";import{d as C}from"./download-file-from-url-BVaKcxRP.js";import{D as v}from"./dialog-footer-DL2JkwrZ.js";function w(o){return d({mutationFn:s=>y(o,s),onError:s=>c(s)})}function y(o,s){return p.post(o,s).then(t=>t.data)}function E(){const{close:o}=u();return e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(a,{message:"Csv export"})}),e.jsx(g,{children:e.jsx(a,{message:`Your request is being processed. We'll email you when the report is ready to download. In
            certain cases, it might take a little longer, depending on the number of items beings
            exported and the volume of activity.`})}),e.jsx(v,{children:e.jsx(h,{variant:"flat",color:"primary",onClick:o,children:e.jsx(a,{message:"Got it"})})})]})}function B({endpoint:o,payload:s}){const[t,n]=l.useState(!1),r=w(o);return e.jsxs(l.Fragment,{children:[e.jsx(f,{variant:"outline",color:"primary",size:"sm",className:"flex-shrink-0",disabled:r.isPending,onClick:()=>{r.mutate(s,{onSuccess:i=>{i.downloadPath?C(i.downloadPath):n(!0)}})},children:e.jsx(D,{})}),e.jsx(j,{type:"modal",isOpen:t,onOpenChange:n,children:e.jsx(E,{})})]})}export{B as D};
