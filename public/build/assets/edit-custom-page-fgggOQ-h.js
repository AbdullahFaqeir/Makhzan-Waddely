import{b3 as y,an as x,ao as f,av as n,cc as u,aH as h,x as j,k as v,aD as P,a2 as b,j as t,B as C,T as i,cH as B,a9 as E}from"./main-owSUWNVS.js";import{D as T}from"./paginated-resources-SauKRGLr.js";import{A as q}from"./article-editor-page-BW75xeDT.js";import{P as D}from"./page-meta-tags-DkLRMTvM.js";import{u as I}from"./use-required-params-BWJ6Ts-l.js";import{u as Q}from"./useSuspenseQuery-BjTtEPeK.js";import{B as S,a as p}from"./breadcrumb-Bnfa8bCQ.js";import"./Undo-Dyw_GQSR.js";import"./Code-CnSZ3Kbp.js";import"./color-picker-dialog-BB3IKiHM.js";import"./Color-CFDth4Wh.js";import"./dialog-footer-D_t7V-bM.js";import"./file-upload-provider-B2470Xt4.js";import"./uploaded-file-0zTC6Yq4.js";import"./pretty-bytes-bO14ePu9.js";import"./get-image-size-iUxUXrDd.js";import"./use-active-upload-D5c4dCmN.js";import"./open-upload-window-Ckg_K7W2.js";import"./shallow-2-UK8gGu.js";import"./MoreVert-Btfc9NhN.js";import"./select-Bv69-mBO.js";import"./Link-DhzV3yro.js";import"./datatable-page-with-header-layout-68nRfBM1.js";import"./dashboard-layout-context-Cg5RoSzJ.js";import"./use-toggle-dashboard-left-sidebar-B95u609v.js";import"./ArrowBack-CnqzuiOP.js";import"./core-DkUQD7oa.js";import"./Edit-D8nu-GLe.js";import"./dashboard-sidenav-CVQlOh-3.js";import"./default-meta-tags-DEZ5kteD.js";import"./useEffectEvent-BzNFWHXk.js";import"./ChevronRight-C9FzEt6s.js";import"./MoreHoriz-DuK_U7d6.js";function F(o){const{pageId:e}=y(),a=`custom-pages/${e}`;return x({mutationFn:s=>K(s,a),onError:s=>f(s),onSuccess:async()=>{await n.invalidateQueries({queryKey:u.customPages.invalidateKey}),await n.invalidateQueries({queryKey:T(a)}),h(j("Page updated"))}})}function K(o,e){return v.put(`${e}`,o).then(a=>a.data)}function lt(){const{pageId:o}=I(["pageId"]),e=Q(u.customPages.get(o)),a=e.data.page,s=P(),m=F(),r=b({defaultValues:{title:a.title,slug:a.slug,body:a.body}}),d=()=>{m.mutate(r.getValues(),{onSuccess:()=>s("../..",{relative:"path"})})},c=t.jsx(C,{variant:"flat",color:"primary",size:"xs",onClick:()=>d(),disabled:m.isPending,children:t.jsx(i,{message:"Save"})}),l=t.jsxs(S,{size:"xl",children:[t.jsx(p,{to:"../..",relative:"path",children:t.jsx(i,{message:"Custom pages"})}),t.jsx(p,{children:t.jsx(i,{message:"Edit"})})]});return t.jsxs(t.Fragment,{children:[t.jsx(D,{query:e}),t.jsx(B,{...r,children:t.jsx(q,{title:l,saveButton:c,imageUploadType:E.articleImages,initialContent:a.body,onChange:g=>{r.setValue("body",g,{shouldDirty:!0})}})})]})}export{lt as Component};
//# sourceMappingURL=edit-custom-page-fgggOQ-h.js.map
