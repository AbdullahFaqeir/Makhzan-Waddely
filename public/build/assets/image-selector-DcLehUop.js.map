{"version":3,"file":"image-selector-DcLehUop.js","sources":["../../../common/foundation/resources/client/ui/library/progress/progress-bar.tsx","../../../common/foundation/resources/client/uploads/components/image-selector.tsx"],"sourcesContent":["import React from 'react';\nimport {\n  ProgressBarBase,\n  ProgressBarBaseProps\n} from '@ui/progress/progress-bar-base';\n\ninterface Props extends ProgressBarBaseProps {\n  isIndeterminate?: boolean;\n}\n\nexport function ProgressBar(props: Props) {\n  return <ProgressBarBase {...props} />;\n}\n","import {UploadType} from '@app/site-config';\nimport {FileEntry} from '@common/uploads/file-entry';\nimport {restrictionsFromConfig} from '@common/uploads/uploader/create-file-upload';\nimport {UploadStrategyConfig} from '@common/uploads/uploader/strategy/upload-strategy';\nimport {useActiveUpload} from '@common/uploads/uploader/use-active-upload';\nimport {mergeProps} from '@react-aria/utils';\nimport {AvatarPlaceholderIcon} from '@ui/avatar/avatar-placeholder-icon';\nimport {Button} from '@ui/buttons/button';\nimport {ButtonBaseProps} from '@ui/buttons/button-base';\nimport {IconButton} from '@ui/buttons/icon-button';\nimport {useAutoFocus} from '@ui/focus/use-auto-focus';\nimport {Field} from '@ui/forms/input-field/field';\nimport {\n  getInputFieldClassNames,\n  InputFieldStyle,\n} from '@ui/forms/input-field/get-input-field-class-names';\nimport {Trans} from '@ui/i18n/trans';\nimport {AddAPhotoIcon} from '@ui/icons/material/AddAPhoto';\nimport {SvgIconProps} from '@ui/icons/svg-icon';\nimport {ProgressBar} from '@ui/progress/progress-bar';\nimport {toast} from '@ui/toast/toast';\nimport {FileInputType} from '@ui/utils/files/file-input-config';\nimport clsx from 'clsx';\nimport {\n  cloneElement,\n  ComponentPropsWithRef,\n  Fragment,\n  JSXElementConstructor,\n  ReactElement,\n  ReactNode,\n  useCallback,\n  useId,\n  useRef,\n} from 'react';\nimport {useController} from 'react-hook-form';\n\ninterface ImageSelectorProps {\n  className?: string;\n  label?: ReactNode;\n  description?: ReactNode;\n  descriptionPosition?: 'top' | 'bottom';\n  invalid?: boolean;\n  errorMessage?: ReactNode;\n  required?: boolean;\n  disabled?: boolean;\n  value?: string | null;\n  onChange?: (newValue: string, entry?: FileEntry) => void;\n  defaultValue?: string;\n  uploadType: keyof typeof UploadType;\n  uploadMetadata?: Record<string, string>;\n  showRemoveButton?: boolean;\n  showEditButtonOnHover?: boolean;\n  autoFocus?: boolean;\n  variant?: 'input' | 'square' | 'avatar';\n  placeholderIcon?: ReactElement<SvgIconProps>;\n  previewSize?: string;\n  previewRadius?: string;\n  stretchPreview?: boolean;\n  onFileSelected?: (file: File) => void;\n}\nexport function ImageSelector({\n  className,\n  label,\n  description,\n  descriptionPosition = 'top',\n  value,\n  onChange,\n  defaultValue,\n  uploadMetadata,\n  showRemoveButton,\n  showEditButtonOnHover = false,\n  invalid,\n  errorMessage,\n  required,\n  autoFocus,\n  variant = 'input',\n  previewSize = 'h-80',\n  placeholderIcon,\n  stretchPreview = false,\n  previewRadius,\n  disabled,\n  uploadType,\n  onFileSelected,\n}: ImageSelectorProps) {\n  const {\n    uploadFile,\n    entry,\n    uploadStatus,\n    deleteEntry,\n    isDeletingEntry,\n    percentage,\n  } = useActiveUpload();\n\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useAutoFocus({autoFocus}, inputRef);\n\n  const fieldId = useId();\n  const labelId = label ? `${fieldId}-label` : undefined;\n  const descriptionId = description ? `${fieldId}-description` : undefined;\n\n  const imageUrl = value || entry?.url;\n\n  const uploadOptions: UploadStrategyConfig = {\n    uploadType,\n    showToastOnRestrictionFail: true,\n    restrictions: restrictionsFromConfig({uploadType}),\n    metadata: {\n      ...uploadMetadata,\n    },\n    onSuccess: (entry: FileEntry) => {\n      onChange?.(entry.url, entry);\n    },\n    onError: message => {\n      if (message) {\n        toast.danger(message);\n      }\n    },\n  };\n\n  const inputFieldClassNames = getInputFieldClassNames({\n    description,\n    descriptionPosition,\n    invalid,\n  });\n\n  let VariantElement: JSXElementConstructor<VariantProps>;\n  if (variant === 'avatar') {\n    VariantElement = AvatarVariant;\n  } else if (variant === 'square') {\n    VariantElement = SquareVariant;\n  } else {\n    VariantElement = InputVariant;\n  }\n\n  const removeButton = showRemoveButton ? (\n    <Button\n      variant=\"link\"\n      color=\"danger\"\n      size=\"xs\"\n      disabled={isDeletingEntry || !imageUrl || disabled}\n      onClick={() => {\n        deleteEntry({\n          onSuccess: () => onChange?.(''),\n        });\n      }}\n    >\n      <Trans message=\"Remove image\" />\n    </Button>\n  ) : null;\n\n  const useDefaultButton =\n    defaultValue != null && value !== defaultValue ? (\n      <Button\n        variant=\"outline\"\n        color=\"primary\"\n        size=\"xs\"\n        disabled={disabled}\n        onClick={() => {\n          onChange?.(defaultValue);\n        }}\n      >\n        <Trans message=\"Use default\" />\n      </Button>\n    ) : null;\n\n  const handleUpload = useCallback(() => {\n    inputRef.current?.click();\n  }, []);\n\n  const descriptionElement = description ? (\n    <div className={inputFieldClassNames.description}>{description}</div>\n  ) : null;\n\n  return (\n    <div className={clsx('text-sm', className)}>\n      {label && (\n        <div id={labelId} className={inputFieldClassNames.label}>\n          {label}\n        </div>\n      )}\n      {descriptionPosition === 'top' && descriptionElement}\n      <div aria-labelledby={labelId} aria-describedby={descriptionId}>\n        <Field\n          fieldClassNames={inputFieldClassNames}\n          errorMessage={errorMessage}\n          invalid={invalid}\n        >\n          <VariantElement\n            inputFieldClassNames={inputFieldClassNames}\n            placeholderIcon={placeholderIcon}\n            previewSize={previewSize}\n            isLoading={uploadStatus === 'inProgress'}\n            imageUrl={imageUrl}\n            removeButton={removeButton}\n            useDefaultButton={useDefaultButton}\n            showEditButtonOnHover={showEditButtonOnHover}\n            stretchPreview={stretchPreview}\n            previewRadius={previewRadius}\n            handleUpload={handleUpload}\n            disabled={disabled}\n          >\n            <input\n              ref={inputRef}\n              aria-labelledby={labelId}\n              aria-describedby={descriptionId}\n              // if file is already uploaded (from form or via props) set\n              // required to false, otherwise farm validation will always fail\n              required={imageUrl ? false : required}\n              accept={FileInputType.image}\n              type=\"file\"\n              disabled={uploadStatus === 'inProgress'}\n              className=\"sr-only\"\n              onChange={e => {\n                if (e.target.files?.length) {\n                  uploadFile(e.target.files[0], uploadOptions);\n                  onFileSelected?.(e.target.files[0]);\n                }\n              }}\n            />\n          </VariantElement>\n          {uploadStatus === 'inProgress' && (\n            <ProgressBar\n              className=\"absolute left-0 right-0 top-0\"\n              size=\"xs\"\n              value={percentage}\n            />\n          )}\n        </Field>\n      </div>\n      {descriptionPosition === 'bottom' && descriptionElement}\n    </div>\n  );\n}\n\ninterface VariantProps {\n  children: ReactElement<ComponentPropsWithRef<'input'>>;\n  inputFieldClassNames: InputFieldStyle;\n  previewSize?: ImageSelectorProps['previewSize'];\n  placeholderIcon?: ImageSelectorProps['placeholderIcon'];\n  isLoading?: boolean;\n  imageUrl?: string;\n  removeButton?: ReactElement<ButtonBaseProps> | null;\n  useDefaultButton?: ReactElement<ButtonBaseProps> | null;\n  showEditButtonOnHover?: boolean;\n  stretchPreview?: boolean;\n  previewRadius?: string;\n  handleUpload: () => void;\n  disabled?: boolean;\n}\nfunction InputVariant({\n  children,\n  inputFieldClassNames,\n  imageUrl,\n  previewSize,\n  stretchPreview,\n  isLoading,\n  handleUpload,\n  removeButton,\n  useDefaultButton,\n  disabled,\n}: VariantProps) {\n  if (imageUrl) {\n    return (\n      <Fragment>\n        <div\n          className={`${previewSize} relative mb-10 overflow-hidden rounded border bg-fg-base/8 p-6`}\n        >\n          <img\n            className={clsx(\n              'mx-auto h-full rounded',\n              stretchPreview ? 'object-cover' : 'object-contain',\n            )}\n            onClick={() => handleUpload()}\n            src={imageUrl}\n            alt=\"\"\n          />\n          {children}\n        </div>\n        <Button\n          onClick={() => handleUpload()}\n          disabled={isLoading || disabled}\n          className=\"mr-10\"\n          variant=\"outline\"\n          color=\"primary\"\n          size=\"xs\"\n        >\n          <Trans message=\"Replace\" />\n        </Button>\n        {removeButton && cloneElement(removeButton, {variant: 'outline'})}\n        {useDefaultButton &&\n          cloneElement(useDefaultButton, {variant: 'outline'})}\n      </Fragment>\n    );\n  }\n  return cloneElement(children, {\n    className: clsx(\n      inputFieldClassNames.input,\n      'py-8',\n      'file:bg-primary file:text-on-primary file:border-none file:rounded file:text-sm file:font-semibold file:px-10 file:h-24 file:mr-10',\n    ),\n  });\n}\n\nfunction SquareVariant({\n  children,\n  placeholderIcon,\n  previewSize,\n  imageUrl,\n  stretchPreview,\n  handleUpload,\n  removeButton,\n  useDefaultButton,\n  previewRadius = 'rounded',\n  showEditButtonOnHover = false,\n  disabled,\n}: VariantProps) {\n  return (\n    <div>\n      <div\n        className={clsx(\n          previewSize,\n          previewRadius,\n          !imageUrl && 'border',\n          'group z-20 flex flex-col items-center justify-center gap-14 bg-fg-base/8 bg-center bg-no-repeat',\n          stretchPreview ? 'bg-cover' : 'bg-contain p-6',\n        )}\n        style={imageUrl ? {backgroundImage: `url(${imageUrl})`} : undefined}\n        onClick={() => handleUpload()}\n      >\n        {placeholderIcon &&\n          !imageUrl &&\n          cloneElement(placeholderIcon, {size: 'lg'})}\n        <Button\n          variant=\"raised\"\n          color=\"white\"\n          size=\"xs\"\n          className={clsx(\n            showEditButtonOnHover && 'invisible group-hover:visible',\n          )}\n          disabled={disabled}\n        >\n          {imageUrl ? (\n            <Trans message=\"Replace image\" />\n          ) : (\n            <Trans message=\"Upload image\" />\n          )}\n        </Button>\n      </div>\n      {children}\n      {(removeButton || useDefaultButton) && (\n        <div className=\"mt-8\">\n          {removeButton && cloneElement(removeButton, {variant: 'link'})}\n          {useDefaultButton &&\n            cloneElement(useDefaultButton, {variant: 'link'})}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction AvatarVariant({\n  children,\n  placeholderIcon,\n  previewSize,\n  isLoading,\n  imageUrl,\n  removeButton,\n  useDefaultButton,\n  handleUpload,\n  previewRadius = 'rounded-full',\n  disabled,\n}: VariantProps) {\n  if (!placeholderIcon) {\n    placeholderIcon = (\n      <AvatarPlaceholderIcon\n        viewBox=\"0 0 48 48\"\n        className={clsx(\n          'h-full w-full bg-primary-light/40 text-primary/40',\n          previewRadius,\n        )}\n      />\n    );\n  }\n  return (\n    <div>\n      <div\n        className={clsx('relative', previewSize)}\n        onClick={() => handleUpload()}\n      >\n        {imageUrl ? (\n          <img\n            src={imageUrl}\n            className={clsx('h-full w-full object-cover', previewRadius)}\n            alt=\"\"\n          />\n        ) : (\n          placeholderIcon\n        )}\n        <div className=\"absolute -bottom-6 -right-6 rounded-full bg-elevated shadow-xl\">\n          <IconButton\n            disabled={isLoading || disabled}\n            type=\"button\"\n            variant=\"outline\"\n            size=\"sm\"\n            iconSize=\"xs\"\n            color=\"primary\"\n            radius=\"rounded-full\"\n          >\n            <AddAPhotoIcon />\n          </IconButton>\n        </div>\n      </div>\n      {children}\n      {(removeButton || useDefaultButton) && (\n        <div className=\"mt-14\">\n          {removeButton && cloneElement(removeButton, {variant: 'link'})}\n          {useDefaultButton &&\n            cloneElement(useDefaultButton, {variant: 'link'})}\n        </div>\n      )}\n    </div>\n  );\n}\n\ninterface FormImageSelectorProps extends ImageSelectorProps {\n  name: string;\n}\nexport function FormImageSelector(props: FormImageSelectorProps) {\n  const {\n    field: {onChange, value = null},\n    fieldState: {error},\n  } = useController({\n    name: props.name,\n  });\n\n  const formProps: Partial<ImageSelectorProps> = {\n    onChange,\n    value,\n    invalid: error != null,\n    errorMessage: error ? <Trans message=\"Please select an image.\" /> : null,\n  };\n\n  return <ImageSelector {...mergeProps(formProps, props)} />;\n}\n"],"names":["ProgressBar","props","jsx","ProgressBarBase","ImageSelector","className","label","description","descriptionPosition","value","onChange","defaultValue","uploadMetadata","showRemoveButton","showEditButtonOnHover","invalid","errorMessage","required","autoFocus","variant","previewSize","placeholderIcon","stretchPreview","previewRadius","disabled","uploadType","onFileSelected","uploadFile","entry","uploadStatus","deleteEntry","isDeletingEntry","percentage","useActiveUpload","inputRef","useRef","useAutoFocus","fieldId","useId","labelId","descriptionId","imageUrl","uploadOptions","restrictionsFromConfig","message","toast","inputFieldClassNames","getInputFieldClassNames","VariantElement","AvatarVariant","SquareVariant","InputVariant","removeButton","Button","Trans","useDefaultButton","handleUpload","useCallback","_a","descriptionElement","clsx","jsxs","Field","FileInputType","e","children","isLoading","Fragment","cloneElement","AvatarPlaceholderIcon","IconButton","AddAPhotoIcon","FormImageSelector","error","useController","formProps","mergeProps"],"mappings":"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"}