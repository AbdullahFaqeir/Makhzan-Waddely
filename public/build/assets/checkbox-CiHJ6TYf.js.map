{"version":3,"file":"checkbox-CiHJ6TYf.js","sources":["../../../common/foundation/resources/client/ui/library/forms/toggle/checkbox-filled-icon.tsx","../../../common/foundation/resources/client/ui/library/forms/toggle/indeterminate-checkbox-filled-icon.tsx","../../../common/foundation/resources/client/ui/library/forms/toggle/checkbox.tsx"],"sourcesContent":["import {createSvgIcon} from '@ui/icons/create-svg-icon';\n\nexport const CheckboxFilledIcon = createSvgIcon(\n  <path d=\"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\" />,\n  'CheckBox',\n);\n","import {createSvgIcon} from '@ui/icons/create-svg-icon';\n\nexport const IndeterminateCheckboxFilledIcon = createSvgIcon(\n  <path d=\"M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M17,13H7v-2h10V13z\" />,\n  'CheckBox',\n);\n","import {mergeProps, useObjectRef} from '@react-aria/utils';\nimport {useControlledState} from '@react-stately/utils';\nimport {AutoFocusProps, useAutoFocus} from '@ui/focus/use-auto-focus';\nimport {CheckBoxOutlineBlankIcon} from '@ui/icons/material/CheckBoxOutlineBlank';\nimport {SvgIconProps} from '@ui/icons/svg-icon';\nimport clsx from 'clsx';\nimport React, {\n  ChangeEventHandler,\n  ComponentPropsWithoutRef,\n  ComponentType,\n  forwardRef,\n  useCallback,\n  useEffect,\n} from 'react';\nimport {useController} from 'react-hook-form';\nimport {getInputFieldClassNames} from '../input-field/get-input-field-class-names';\nimport {InputSize} from '../input-field/input-size';\nimport {Orientation} from '../orientation';\nimport {CheckboxFilledIcon} from './checkbox-filled-icon';\nimport {IndeterminateCheckboxFilledIcon} from './indeterminate-checkbox-filled-icon';\n\nexport interface CheckboxProps\n  extends AutoFocusProps,\n    Omit<ComponentPropsWithoutRef<'input'>, 'size'> {\n  size?: InputSize;\n  className?: string;\n  icon?: React.ComponentType;\n  checkedIcon?: React.ComponentType;\n  orientation?: Orientation;\n  errorMessage?: string;\n  isIndeterminate?: boolean;\n  invalid?: boolean;\n  inputTestId?: string;\n}\nexport const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(\n  (props, ref) => {\n    const {\n      size = 'md',\n      children,\n      className,\n      icon,\n      checkedIcon,\n      disabled,\n      isIndeterminate,\n      errorMessage,\n      invalid,\n      orientation = 'horizontal',\n      onChange,\n      autoFocus,\n      required,\n      value,\n      name,\n      inputTestId,\n    } = props;\n\n    const style = getInputFieldClassNames({...props, label: children});\n    const Icon = icon || CheckBoxOutlineBlankIcon;\n    const CheckedIcon =\n      checkedIcon ||\n      (isIndeterminate ? IndeterminateCheckboxFilledIcon : CheckboxFilledIcon);\n\n    const inputObjRef = useObjectRef(ref);\n    useAutoFocus({autoFocus}, inputObjRef);\n\n    useEffect(() => {\n      // indeterminate is a property, but it can only be set via javascript\n      if (inputObjRef.current) {\n        inputObjRef.current.indeterminate = isIndeterminate || false;\n      }\n    });\n\n    const [isSelected, setSelected] = useControlledState(\n      props.checked,\n      props.defaultChecked || false,\n    );\n\n    const updateChecked: ChangeEventHandler<HTMLInputElement> = useCallback(\n      e => {\n        onChange?.(e);\n        setSelected(e.target.checked);\n      },\n      [onChange, setSelected],\n    );\n\n    const mergedClassName = clsx(\n      'select-none',\n      className,\n      invalid && 'text-danger',\n      !invalid && disabled && 'text-disabled',\n    );\n\n    let CheckboxIcon: ComponentType<SvgIconProps>;\n    let checkboxColor = invalid ? 'text-danger' : null;\n    if (isIndeterminate) {\n      CheckboxIcon = IndeterminateCheckboxFilledIcon;\n      checkboxColor = checkboxColor || 'text-primary';\n    } else if (isSelected) {\n      CheckboxIcon = CheckedIcon;\n      checkboxColor = checkboxColor || 'text-primary';\n    } else {\n      CheckboxIcon = Icon;\n      checkboxColor = checkboxColor || 'text-muted';\n    }\n\n    // input and icon sizes need to match, as checkbox input is being clicked and not the icon due to pointer-events-none\n    return (\n      <div>\n        <label className={mergedClassName}>\n          <div\n            className={clsx(\n              'relative flex items-center',\n              orientation === 'vertical' && 'flex-col flex-col-reverse',\n            )}\n          >\n            <input\n              className=\"absolute left-0 top-0 h-24 w-24 appearance-none overflow-hidden rounded outline-none ring-inset transition-shadow focus-visible:ring\"\n              type=\"checkbox\"\n              aria-checked={isIndeterminate ? 'mixed' : isSelected}\n              aria-invalid={invalid || undefined}\n              onChange={updateChecked}\n              ref={inputObjRef}\n              required={required}\n              disabled={disabled}\n              value={value}\n              name={name}\n              data-testid={inputTestId}\n            />\n            <CheckboxIcon\n              size={size}\n              className={clsx(\n                'pointer-events-none',\n                disabled ? 'text-disabled' : checkboxColor,\n              )}\n            />\n            {children && (\n              <div\n                className={clsx(\n                  'first-letter:capitalize',\n                  style.size.font,\n                  orientation === 'vertical' ? 'mb-6' : 'ml-6',\n                )}\n              >\n                {children}\n              </div>\n            )}\n          </div>\n        </label>\n        {errorMessage && <div className={style.error}>{errorMessage}</div>}\n      </div>\n    );\n  },\n);\n\ninterface FormCheckboxProps extends CheckboxProps {\n  name: string;\n}\nexport function FormCheckbox(props: FormCheckboxProps) {\n  const {\n    field: {onChange, onBlur, value = false, ref},\n    fieldState: {invalid, error},\n  } = useController({\n    name: props.name,\n  });\n\n  const formProps: Partial<CheckboxProps> = {\n    onChange,\n    onBlur,\n    checked: value,\n    invalid,\n    errorMessage: error?.message,\n    name: props.name,\n  };\n\n  return <Checkbox ref={ref} {...mergeProps(formProps, props)} />;\n}\n"],"names":["CheckboxFilledIcon","createSvgIcon","jsx","IndeterminateCheckboxFilledIcon","Checkbox","forwardRef","props","ref","size","children","className","icon","checkedIcon","disabled","isIndeterminate","errorMessage","invalid","orientation","onChange","autoFocus","required","value","name","inputTestId","style","getInputFieldClassNames","Icon","CheckBoxOutlineBlankIcon","CheckedIcon","inputObjRef","useObjectRef","useAutoFocus","useEffect","isSelected","setSelected","useControlledState","updateChecked","useCallback","e","mergedClassName","clsx","CheckboxIcon","checkboxColor","jsxs","FormCheckbox","onBlur","error","useController","formProps","mergeProps"],"mappings":"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"}