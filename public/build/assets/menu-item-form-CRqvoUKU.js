const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./icon-list-yi76ToZ0.js","./main-owSUWNVS.js","./main-B0TyoWRZ.css","./use-filter-2rON0JC0.js","./Add-BV-9IpU7.js","./AddAPhoto-DEBtVm9g.js","./AlternateEmail-Bh0FPFee.js","./PhonelinkLock-mWvIk7tX.js","./ArrowBack-CnqzuiOP.js","./ArrowDownward-BrhAHC5n.js","./ArrowRight-DEJeYp8D.js","./ArrowRightAlt-PxVB8wV6.js","./Backup-krKkZdmj.js","./BrowserUpdated-DN9Xr-co.js","./CalendarToday-l2VPsvNm.js","./CheckBoxOutlineBlank-6JQ3-TmB.js","./ChevronLeft-B3xE5I5-.js","./ChevronRight-C9FzEt6s.js","./admin-config-DsMNBUzM.js","./OpenInFull-WJJSnAKy.js","./Code-CnSZ3Kbp.js","./Tablet-CPmzcBq6.js","./Sort-D9ehvC2K.js","./VideoLibrary-Bd43vYYd.js","./DateRange-6Lw_fZZT.js","./Delete-D6PatUO1.js","./Download-BcSMPau1.js","./DragHandle-CxhOZ8jY.js","./DragIndicator-DDrTcvrL.js","./Edit-D8nu-GLe.js","./EventRepeat-Dbwjf0Wb.js","./FileDownload-bolxAr3M.js","./FileUpload-CZccU7nn.js","./FilterAlt-xRRmNiqG.js","./Undo-Dyw_GQSR.js","./Forum-CU5AV7Hk.js","./GridView-Evyl8cHR.js","./Groups-CkmI7Rn2.js","./Info-1gGGOggG.js","./KeyboardArrowRight-ChYgp5kQ.js","./KeyboardArrowUp--SNCvPB_.js","./Link-DhzV3yro.js","./Lock-B2H2OiWG.js","./Login-zwoNlBsN.js","./MoreHoriz-DuK_U7d6.js","./MoreVert-Btfc9NhN.js","./OpenInNew-CfDYDCt9.js","./PlayArrow-FQPt9dV5.js","./PersonOff-CWNTIUUR.js","./Tune-D45gn_gr.js","./Storage-zQug-MLm.js","./Sync-D5xF8gWw.js","./TaskAlt-CmZ6csMK.js","./TrendingFlat-CEELZYln.js","./Visibility-DGtvOyjm.js","./envato-I9acLV69.js","./permission-selector-OMlsip5c.js","./accordion-CpK0I08P.js","./switch-DbAW1G8x.js","./list-B5Ky1WKX.js","./uc-first-pSl3nM3z.js","./form-chip-field-CYaGs1JT.js","./input-4Oo6Fyef.js","./select-Bv69-mBO.js","./use-previous-CFk0zUUs.js","./skeleton-xT-yudp1.js"])))=>i.map(i=>d[i]);
import{w as g,as as f,j as e,aw as k,A as N,r as d,y as p,z as b,_ as A,M as D,Q as P,T as t,R as E,a7 as T,e as y,cc as v,a3 as S,x as h,a8 as w,a as C,D as M,J as z,aW as I,a5 as m,bj as L,g as O}from"./main-owSUWNVS.js";import{b as R,p as V}from"./permission-selector-OMlsip5c.js";import{F}from"./form-chip-field-CYaGs1JT.js";import{F as x}from"./select-Bv69-mBO.js";import{E as Q}from"./Edit-D8nu-GLe.js";import{u as q}from"./use-previous-CFk0zUUs.js";import{S as W}from"./skeleton-xT-yudp1.js";const j={grid:"flex flex-wrap gap-24",button:"flex flex-col items-center rounded hover:bg-hover h-90 aspect-square"},B=[...Array(60).keys()],K=f.lazy(()=>A(()=>import("./icon-list-yi76ToZ0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65]),import.meta.url));function $({onIconSelected:s}){const{trans:n}=g(),[r,l]=f.useState("");return e.jsxs("div",{className:"py-4",children:[e.jsx(k,{className:"mb-20",value:r,onChange:a=>{l(a.target.value)},placeholder:n({message:"Search icons..."})}),e.jsx(N,{mode:"wait",children:e.jsx(d.Suspense,{fallback:e.jsx(p.div,{...b,className:j.grid,children:B.map((a,i)=>e.jsx("div",{className:j.button,children:e.jsx(W,{variant:"rect"})},i))}),children:e.jsx(p.div,{...b,className:j.grid,children:e.jsx(K,{searchQuery:r,onIconSelected:s})})})})]})}function G(){return e.jsxs(D,{size:"w-850",className:"min-h-dialog",children:[e.jsx(P,{children:e.jsx(t,{message:"Select icon"})}),e.jsx(E,{children:e.jsx(H,{})})]})}function H(){const{close:s}=T();return e.jsx($,{onIconSelected:n=>{s(n)}})}function J(){const{data:s}=y(v.settings.menuEditorConfig());return s!=null&&s.config?s.config.available_routes.map(n=>({id:n,label:n,action:n,type:"route",target:"_self"})):[]}function ce({formPathPrefix:s,hideRoleAndPermissionFields:n,children:r}){const{trans:l}=g(),a=i=>s?`${s}.${i}`:i;return e.jsxs(d.Fragment,{children:[e.jsx(S,{className:"mb-20",name:a("label"),label:e.jsx(t,{message:"Label"}),placeholder:l(h("No label...")),startAppend:e.jsx(U,{prefixName:a})}),r,e.jsx(X,{prefixName:a}),e.jsx(se,{prefixName:a}),!n&&e.jsxs(d.Fragment,{children:[e.jsx(Y,{prefixName:a}),e.jsx(Z,{prefixName:a}),e.jsx(ee,{prefixName:a})]})]})}function U({prefixName:s,...n}){const{watch:r,setValue:l}=w(),a=s("icon"),i=r(a),u=i&&C(i);return e.jsxs(M,{type:"modal",onClose:o=>{(o||o===null)&&l(a,o,{shouldDirty:!0})},children:[e.jsx(z,{className:"text-muted icon-sm",variant:"outline",size:"md",...n,children:u?e.jsx(u,{}):e.jsx(Q,{})}),e.jsx(G,{})]})}function X({prefixName:s}){const n=w(),r=n.watch(s("type")),l=q(r),{data:a}=I(["menuItemCategories"]),i=(a==null?void 0:a.menuItemCategories)||[],u=i.find(c=>c.type===r),{trans:o}=g(),_=J();return d.useEffect(()=>{l&&l!==r&&n.getValues(s("type"))&&n.setValue(s("action"),"")},[r,l,n,s]),e.jsxs(d.Fragment,{children:[e.jsxs(x,{className:"mb-20",name:s("type"),selectionMode:"single",label:e.jsx(t,{message:"Link type"}),children:[e.jsx(m,{value:"link",children:e.jsx(t,{message:"External link"})}),e.jsx(m,{value:"route",children:e.jsx(t,{message:"Site page"})}),i.map(c=>e.jsx(m,{value:c.type,children:c.name},c.type))]}),r==="link"&&e.jsx(S,{className:"mb-20",required:!0,type:"url",name:s("action"),placeholder:o({message:"Enter a url..."}),label:e.jsx(t,{message:"Url"})}),r==="route"&&e.jsx(x,{className:"mb-20",required:!0,items:_,name:s("action"),label:e.jsx(t,{message:"Page"}),searchPlaceholder:o(h("Search pages")),showSearchField:!0,selectionMode:"single",children:c=>e.jsx(m,{value:c.id,children:c.label},c.id)}),u&&e.jsx(x,{className:"mb-20",required:!0,items:u.items,name:s("action"),showSearchField:!0,searchPlaceholder:o(h("Search...")),selectionMode:"single",label:e.jsx(t,{message:u.name}),children:c=>e.jsx(m,{value:c.action,children:e.jsx(t,{message:c.label})})})]})}function Y({prefixName:s}){const{data:n}=I(["roles"]),r=(n==null?void 0:n.roles)||[],{trans:l}=g();return e.jsx(F,{className:"my-20",placeholder:l({message:"Add role..."}),label:e.jsx(t,{message:"Only show if user has role"}),name:s("roles"),chipSize:"sm",suggestions:r,valueKey:"id",displayWith:a=>{var i;return(i=r.find(u=>u.id===a.id))==null?void 0:i.name},children:a=>e.jsx(m,{value:a.id,capitalizeFirst:!0,children:e.jsx(t,{message:a.name})},a.id)})}function Z({prefixName:s}){var a;const n=y(v.permissions.index()),{trans:r}=g(),l=d.useMemo(()=>{var i;return R(((i=n.data)==null?void 0:i.permissions)||[],[])},[(a=n.data)==null?void 0:a.permissions]);return e.jsx(F,{label:e.jsx(t,{message:"Only show if user has permissions"}),placeholder:r({message:"Add permission..."}),chipSize:"sm",suggestions:l,name:s("permissions"),valueKey:"name",children:({groupName:i,items:u})=>e.jsx(L,{label:V(i),children:u.map(o=>e.jsx(m,{value:o.name,description:e.jsx(t,{message:o.description}),children:e.jsx(t,{message:o.display_name||o.name})},o.name))},i)})}function ee({prefixName:s}){const{billing:n}=O();return n.enable?e.jsxs(x,{selectionMode:"single",className:"mt-20",label:e.jsx(t,{message:"Subscription status"}),name:s("subscriptionStatus"),children:[e.jsx(m,{value:"subscribed",children:e.jsx(t,{message:"Only show if user is subscribed"})}),e.jsx(m,{value:"unsubscribed",children:e.jsx(t,{message:"Only show if user is not subscribed"})}),e.jsx(m,{value:null,children:e.jsx(t,{message:"Always show"})})]}):null}function se({prefixName:s}){return e.jsxs(x,{className:"mt-20",selectionMode:"single",name:s("target"),label:e.jsx(t,{message:"Open link in"}),children:[e.jsx(m,{value:"_self",children:e.jsx(t,{message:"Same window"})}),e.jsx(m,{value:"_blank",children:e.jsx(t,{message:"New window"})})]})}export{G as I,ce as M,j as i,J as u};
//# sourceMappingURL=menu-item-form-CRqvoUKU.js.map
