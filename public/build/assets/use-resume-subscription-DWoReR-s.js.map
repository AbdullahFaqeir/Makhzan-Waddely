{"version":3,"file":"use-resume-subscription-DWoReR-s.js","sources":["../../../common/foundation/resources/client/billing/billing-page/requests/use-resume-subscription.ts"],"sourcesContent":["import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {useTrans} from '@ui/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {toast} from '@ui/toast/toast';\nimport {message} from '@ui/i18n/message';\nimport {User} from '@ui/types/user';\nimport {showHttpErrorToast} from '@common/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  user: User;\n}\n\ninterface Payload {\n  subscriptionId: number;\n}\n\nexport function useResumeSubscription() {\n  const {trans} = useTrans();\n  return useMutation({\n    mutationFn: (props: Payload) => resumeSubscription(props),\n    onSuccess: () => {\n      toast(trans(message('Subscription renewed.')));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction resumeSubscription({subscriptionId}: Payload): Promise<Response> {\n  return apiClient\n    .post(`billing/subscriptions/${subscriptionId}/resume`)\n    .then(r => r.data);\n}\n"],"names":["useResumeSubscription","trans","useTrans","useMutation","props","resumeSubscription","toast","message","err","showHttpErrorToast","subscriptionId","apiClient","r"],"mappings":"6EAiBO,SAASA,GAAwB,CACtC,KAAM,CAAC,MAAAC,CAAA,EAASC,EAAA,EAChB,OAAOC,EAAY,CACjB,WAAaC,GAAmBC,EAAmBD,CAAK,EACxD,UAAW,IAAM,CACfE,EAAML,EAAMM,EAAQ,uBAAuB,CAAC,CAAC,CAC/C,EACA,QAASC,GAAOC,EAAmBD,CAAG,CAAA,CACvC,CACH,CAEA,SAASH,EAAmB,CAAC,eAAAK,GAA6C,CACxE,OAAOC,EACJ,KAAK,yBAAyBD,CAAc,SAAS,EACrD,KAAKE,GAAKA,EAAE,IAAI,CACrB"}