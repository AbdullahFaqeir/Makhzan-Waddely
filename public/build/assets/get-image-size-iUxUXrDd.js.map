{"version":3,"file":"get-image-size-iUxUXrDd.js","sources":["../../../common/foundation/resources/client/ui/library/utils/files/get-image-size.ts"],"sourcesContent":["interface ImageDimensions {\n  width: number;\n  height: number;\n}\n\nexport async function getImageSize(file: File): Promise<ImageDimensions> {\n  if (!file.type.startsWith('image/')) {\n    throw new Error('File is not an image');\n  }\n\n  const dataUrl = await new Promise<string>((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result as string);\n    reader.onerror = () => reject(new Error('Failed to read file'));\n    reader.readAsDataURL(file);\n  });\n\n  const img = new Image();\n\n  await new Promise<void>((resolve, reject) => {\n    img.onload = () => resolve();\n    img.onerror = () => reject(new Error('Failed to load image'));\n    img.src = dataUrl;\n  });\n\n  return {\n    width: img.naturalWidth,\n    height: img.naturalHeight,\n  };\n}\n"],"names":["getImageSize","file","dataUrl","resolve","reject","reader","img"],"mappings":"AAKA,eAAsBA,EAAaC,EAAsC,CACvE,GAAI,CAACA,EAAK,KAAK,WAAW,QAAQ,EAChC,MAAM,IAAI,MAAM,sBAAsB,EAGxC,MAAMC,EAAU,MAAM,IAAI,QAAgB,CAACC,EAASC,IAAW,CAC7D,MAAMC,EAAS,IAAI,WACnBA,EAAO,OAAS,IAAMF,EAAQE,EAAO,MAAgB,EACrDA,EAAO,QAAU,IAAMD,EAAO,IAAI,MAAM,qBAAqB,CAAC,EAC9DC,EAAO,cAAcJ,CAAI,CAC3B,CAAC,EAEKK,EAAM,IAAI,MAEhB,aAAM,IAAI,QAAc,CAACH,EAASC,IAAW,CAC3CE,EAAI,OAAS,IAAMH,EAAA,EACnBG,EAAI,QAAU,IAAMF,EAAO,IAAI,MAAM,sBAAsB,CAAC,EAC5DE,EAAI,IAAMJ,CACZ,CAAC,EAEM,CACL,MAAOI,EAAI,aACX,OAAQA,EAAI,aAAA,CAEhB"}