import{a8 as d,e as g,ce as p,j as s,M as f,Q as y,R as A,T as t,a3 as v,as as b,ao as F,a4 as x,B as C,w as I,r as j,ay as N,x as L}from"./main-BdzhGpqn.js";import{u as D}from"./menu-item-form-CHyD-oV8.js";import{A as Q,a as c}from"./accordion-DxYXjiZR.js";import{u as R}from"./use-filter-nRzvrFAx.js";import{A as S}from"./Add-iOynMxF0.js";import{L as T,a as k}from"./list-DRfBegha.js";import{u as w}from"./uc-first-pSl3nM3z.js";function V({title:o=s.jsx(t,{message:"Add menu item"})}){const{type:r}=d(),{data:a}=g(p.settings.menuEditorConfig()),i=D(),m=(a==null?void 0:a.categories)||[],n=r==="drawer"?"max-h-auto":"max-h-240 overflow-y-auto";return s.jsxs(f,{size:r==="drawer"?"md":"sm",children:[s.jsx(y,{children:o}),s.jsx(A,{children:s.jsxs(Q,{variant:"outline",children:[s.jsx(c,{label:s.jsx(t,{message:"Link"}),bodyClassName:n,children:s.jsx(z,{})}),s.jsx(c,{label:s.jsx(t,{message:"Route"}),bodyClassName:n,children:s.jsx(h,{items:i})}),m.map(l=>s.jsx(c,{bodyClassName:n,label:s.jsx(t,{message:l.name}),children:s.jsx(h,{items:l.items})},l.name))]})})]})}function z(){const o=v({defaultValues:{id:b(6),type:"link",target:"_blank"}}),{close:r}=d();return s.jsxs(F,{form:o,onSubmit:a=>{r(a)},children:[s.jsx(x,{required:!0,name:"label",label:s.jsx(t,{message:"Label"}),className:"mb-20"}),s.jsx(x,{required:!0,type:"url",name:"action",placeholder:"https://",label:s.jsx(t,{message:"Url"}),className:"mb-20"}),s.jsx("div",{className:"text-right",children:s.jsx(C,{type:"submit",variant:"flat",color:"primary",size:"xs",children:s.jsx(t,{message:"Add to menu"})})})]})}function h({items:o}){const{trans:r}=I(),{close:a}=d(),[i,m]=j.useState(""),{contains:n}=R({sensitivity:"base"}),l=o.filter(e=>n(e.action??"",i));return s.jsxs(j.Fragment,{children:[s.jsx(N,{placeholder:r(L("Search...")),value:i,size:"sm",onChange:e=>m(e.target.value),className:"mb-12"}),s.jsx(T,{children:l.map(e=>s.jsx(k,{startIcon:s.jsx(S,{size:"sm"}),onSelected:()=>{if(e.label){const u=e.label.split("/").pop();e.label=u?w(u):e.label,e.id=b(6)}e.target||(e.target="_self"),a(e)},children:e.label},e.id))})]})}export{V as A};
