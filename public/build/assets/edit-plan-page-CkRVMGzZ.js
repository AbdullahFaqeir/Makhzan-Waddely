import{w as n,aD as m,an as p,ap as d,aH as c,x as l,av as f,cc as i,k as x,a2 as P,j as e,T as g}from"./main-owSUWNVS.js";import{u as j}from"./use-required-params-BWJ6Ts-l.js";import{u as y}from"./useSuspenseQuery-BjTtEPeK.js";import{B as v,a as u}from"./breadcrumb-Bnfa8bCQ.js";import{C}from"./crupdate-resource-layout-G1oL7yCW.js";import{C as b}from"./crupdate-plan-form-DQFy4zjk.js";import"./useEffectEvent-BzNFWHXk.js";import"./ChevronRight-C9FzEt6s.js";import"./MoreHoriz-DuK_U7d6.js";import"./datatable-page-with-header-layout-68nRfBM1.js";import"./dashboard-layout-context-Cg5RoSzJ.js";import"./use-toggle-dashboard-left-sidebar-B95u609v.js";import"./permission-selector-OMlsip5c.js";import"./accordion-CpK0I08P.js";import"./switch-DbAW1G8x.js";import"./list-B5Ky1WKX.js";import"./uc-first-pSl3nM3z.js";import"./formatted-price-BZx2tBTa.js";import"./select-Bv69-mBO.js";import"./Add-BV-9IpU7.js";function h(s){const{trans:a}=n(),r=m();return p({mutationFn:t=>q(t),onSuccess:()=>{c(a(l("Plan updated"))),f.invalidateQueries({queryKey:i.products.invalidateKey}),r("/admin/plans")},onError:t=>d(t,s)})}function q({id:s,...a}){const r={...a,feature_list:a.feature_list.map(t=>t.value)};return x.put(`billing/products/${s}`,r).then(t=>t.data)}function V(){const{productId:s}=j(["productId"]),a=y(i.products.get(s)),r=P({defaultValues:{...a.data.product,feature_list:a.data.product.feature_list.map(o=>({value:o}))}}),t=h(r);return e.jsx(C,{form:r,onSubmit:o=>{t.mutate(o)},title:e.jsxs(v,{size:"xl",children:[e.jsx(u,{to:"/admin/plans",children:e.jsx(g,{message:"Plans"})}),e.jsx(u,{children:a.data.product.name})]}),isLoading:t.isPending,children:e.jsx(b,{})})}export{V as Component};
//# sourceMappingURL=edit-plan-page-CkRVMGzZ.js.map
