const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ace-editor-DwVHY7_j.js","./main-BdzhGpqn.js","./main-BPqvtJUK.css"])))=>i.map(i=>d[i]);
import{aC as p,x as l,j as s,T as d,a3 as h,a9 as x,r as u,au as f,P as b,_ as j}from"./main-BdzhGpqn.js";import{a as C}from"./admin-config-DGty5VaU.js";import{A as _}from"./settings-layout-BMn_Y_PI.js";import{u as g}from"./use-admin-settings-BNntRzaQ.js";import{T,a as E,b as L}from"./tabs-CHbW58Gc.js";import"./settings-links-CqCp-cYt.js";import"./external-link-BX7ebgFF.js";import"./use-admin-settings-page-nav-config-C7ZI9Uzh.js";import"./datatable-page-with-header-layout-T5QYry_g.js";import"./dashboard-layout-context-DDiFtkN0.js";import"./use-toggle-dashboard-left-sidebar-Dzdho4R0.js";import"./file-upload-provider-Cq9bpz4o.js";import"./uploaded-file-BYIHeonQ.js";import"./pretty-bytes-bO14ePu9.js";import"./confirmation-dialog-DtIJ4lxn.js";import"./dialog-footer-DL2JkwrZ.js";import"./useSuspenseQuery-DRZs9XPp.js";const P=f.lazy(()=>j(()=>import("./ace-editor-DwVHY7_j.js"),__vite__mapDeps([0,1,2]),import.meta.url)),i=[{name:"html",label:l("Custom HTML & JavaScript")},{name:"css",label:l("Custom CSS")}];function B(){const[a,m]=p(),o=a.get("tab")||"html";let e=i.findIndex(t=>t.name===o);e=e===-1?0:e;const r=o==="html"?"html":"css",n=s.jsx(T,{selectedTab:e,onTabChange:t=>m({tab:i[t].name}),children:s.jsx(E,{className:"px-8",children:i.map(t=>s.jsx(L,{children:s.jsx(d,{...t.label})},t.name))})});return s.jsx(S,{mode:r,tabList:n},r)}function S({mode:a,tabList:m}){const{data:o}=g(),e=a==="css"?{custom_code:{css:o.custom_code.css}}:{custom_code:{html:o.custom_code.html}},r=h({defaultValues:e});return s.jsx(_,{form:r,title:s.jsx(d,{message:"Custom code"}),tabs:m,docsLink:C.settings.customCode,children:s.jsx("div",{className:"relative h-580 overflow-hidden rounded-panel border",children:s.jsx(v,{mode:a})})})}function v({mode:a}){const{setValue:m,getValues:o,setError:e,clearErrors:r}=x(),n=u.useRef(!0),t=a==="html"?"custom_code.html":"custom_code.css";return s.jsx(u.Suspense,{fallback:s.jsx(b,{isIndeterminate:!0}),children:s.jsx(P,{mode:a,onLoad:()=>{setTimeout(()=>n.current=!1,10)},onChange:c=>{if(!n.current)return m(t,c,{shouldDirty:!0})},defaultValue:o(t)||"",onIsValidChange:c=>{c?r(t):e(t,{type:"manual"})}})})}export{B as Component};
