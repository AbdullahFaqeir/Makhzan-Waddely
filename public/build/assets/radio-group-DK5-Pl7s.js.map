{"version":3,"file":"radio-group-DK5-Pl7s.js","sources":["../../../common/foundation/resources/client/ui/library/forms/radio-group/radio.tsx","../../../common/foundation/resources/client/ui/library/forms/radio-group/radio-group.tsx"],"sourcesContent":["import {mergeProps, useObjectRef} from '@react-aria/utils';\nimport {AutoFocusProps, useAutoFocus} from '@ui/focus/use-auto-focus';\nimport {InputSize} from '@ui/forms/input-field/input-size';\nimport clsx from 'clsx';\nimport {ComponentPropsWithoutRef, forwardRef, ReactNode} from 'react';\nimport {useController} from 'react-hook-form';\n\nexport interface RadioProps\n  extends AutoFocusProps,\n    Omit<ComponentPropsWithoutRef<'input'>, 'size'> {\n  display?: string;\n  size?: InputSize;\n  value: string;\n  invalid?: boolean;\n  isFirst?: boolean;\n  description?: ReactNode;\n}\nexport const Radio = forwardRef<HTMLInputElement, RadioProps>((props, ref) => {\n  const {\n    children,\n    autoFocus,\n    size,\n    invalid,\n    isFirst,\n    display = 'flex',\n    description,\n    ...domProps\n  } = props;\n\n  const inputRef = useObjectRef(ref);\n  useAutoFocus({autoFocus}, inputRef);\n\n  const sizeClassNames = getSizeClassNames(size);\n\n  return (\n    <div>\n      <label\n        className={clsx(\n          'select-none items-center gap-8 whitespace-nowrap align-middle',\n          display,\n          sizeClassNames.label,\n          props.disabled && 'pointer-events-none text-disabled',\n          props.invalid && 'text-danger',\n        )}\n      >\n        <input\n          type=\"radio\"\n          className={clsx(\n            'outline-none focus-visible:ring',\n            'appearance-none rounded-full border-2 transition-button',\n            'border-text-muted checked:border-primary checked:hover:border-primary-dark disabled:border-disabled-fg',\n            'before:bg-primary before:hover:bg-primary-dark disabled:before:bg-disabled-fg',\n            'before:block before:h-full before:w-full before:scale-10 before:rounded-full before:opacity-0 before:transition before:duration-200',\n            'checked:before:scale-[.65] checked:before:opacity-100',\n            sizeClassNames.circle,\n          )}\n          ref={inputRef}\n          {...domProps}\n        />\n        {children && <span>{children}</span>}\n      </label>\n      {description && (\n        <div className={clsx('mt-2 text-xs text-muted', sizeClassNames.offset)}>\n          {description}\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport function FormRadio(props: RadioProps) {\n  const {\n    field: {onChange, onBlur, value, ref},\n    fieldState: {invalid},\n  } = useController({\n    name: props.name!,\n  });\n\n  const formProps: Partial<RadioProps> = {\n    onChange,\n    onBlur,\n    checked: props.value === value,\n    invalid: props.invalid || invalid,\n  };\n\n  return <Radio ref={ref} {...mergeProps(props, formProps)} />;\n}\n\nfunction getSizeClassNames(size?: InputSize): {\n  circle: string;\n  label: string;\n  offset: string;\n} {\n  switch (size) {\n    case 'xs':\n      return {circle: 'h-12 w-12', label: 'text-xs', offset: 'pl-20'};\n    case 'sm':\n      return {circle: 'h-16 w-16', label: 'text-sm', offset: 'pl-24'};\n    case 'lg':\n      return {circle: 'h-24 w-24', label: 'text-lg', offset: 'pl-32'};\n    default:\n      return {circle: 'h-20 w-20', label: 'text-base', offset: 'pl-28'};\n  }\n}\n","import {InputSize} from '@ui/forms/input-field/input-size';\nimport clsx from 'clsx';\nimport {\n  Children,\n  cloneElement,\n  forwardRef,\n  isValidElement,\n  ReactNode,\n  useId,\n} from 'react';\nimport {useController} from 'react-hook-form';\nimport {getInputFieldClassNames} from '../input-field/get-input-field-class-names';\nimport {Orientation} from '../orientation';\nimport {RadioProps} from './radio';\n\nexport interface RadioGroupProps {\n  children: ReactNode;\n  orientation?: Orientation;\n  size?: InputSize;\n  className?: string;\n  label?: ReactNode;\n  wrapLabel?: boolean;\n  disabled?: boolean;\n  name?: string;\n  errorMessage?: ReactNode;\n  description?: ReactNode;\n  invalid?: boolean;\n  required?: boolean;\n  value?: string;\n  onChange?: (value: string) => void;\n}\nexport const RadioGroup = forwardRef<HTMLFieldSetElement, RadioGroupProps>(\n  (props, ref) => {\n    const style = getInputFieldClassNames(props);\n    const {\n      label,\n      children,\n      size,\n      className,\n      orientation = 'horizontal',\n      disabled,\n      required,\n      invalid,\n      errorMessage,\n      description,\n      value,\n      onChange: groupOnChange,\n    } = props;\n\n    const labelProps = {};\n    const id = useId();\n    const name = props.name || id;\n\n    return (\n      <fieldset\n        aria-describedby={description ? `${id}-description` : undefined}\n        ref={ref}\n        className={clsx('text-left', className)}\n      >\n        {label && (\n          <legend className={style.label} {...labelProps}>\n            {label}\n          </legend>\n        )}\n        <div\n          className={clsx(\n            'flex',\n            label ? 'mt-6' : 'mt-0',\n            orientation === 'vertical'\n              ? 'flex-col gap-8'\n              : 'flex-row flex-wrap gap-16',\n          )}\n        >\n          {Children.map(children, child => {\n            if (isValidElement<RadioProps>(child)) {\n              return cloneElement<RadioProps>(child, {\n                name,\n                size,\n                invalid: child.props.invalid || invalid || undefined,\n                disabled: child.props.disabled || disabled,\n                required: child.props.required || required,\n                checked:\n                  value !== undefined ? value === child.props.value : undefined,\n                onChange: child.props.onChange\n                  ? child.props.onChange\n                  : groupOnChange\n                    ? e => groupOnChange(e.target.value)\n                    : undefined,\n              });\n            }\n          })}\n        </div>\n        {description && !errorMessage && (\n          <div className={style.description} id={`${id}-description`}>\n            {description}\n          </div>\n        )}\n        {errorMessage && <div className={style.error}>{errorMessage}</div>}\n      </fieldset>\n    );\n  },\n);\n\ninterface FormRadioGroupProps extends RadioGroupProps {\n  name: string;\n}\nexport function FormRadioGroup({children, ...props}: FormRadioGroupProps) {\n  const {\n    fieldState: {error},\n  } = useController({\n    name: props.name!,\n  });\n  return (\n    <RadioGroup errorMessage={error?.message} {...props}>\n      {children}\n    </RadioGroup>\n  );\n}\n"],"names":["Radio","forwardRef","props","ref","children","autoFocus","size","invalid","isFirst","display","description","domProps","inputRef","useObjectRef","useAutoFocus","sizeClassNames","getSizeClassNames","jsxs","clsx","jsx","FormRadio","onChange","onBlur","value","useController","formProps","mergeProps","RadioGroup","style","getInputFieldClassNames","label","className","orientation","disabled","required","errorMessage","groupOnChange","labelProps","id","useId","name","Children","child","isValidElement","cloneElement","e","FormRadioGroup","error"],"mappings":"6FAiBO,MAAMA,EAAQC,EAAAA,WAAyC,CAACC,EAAOC,IAAQ,CAC5E,KAAM,CACJ,SAAAC,EACA,UAAAC,EACA,KAAAC,EACA,QAAAC,EACA,QAAAC,EACA,QAAAC,EAAU,OACV,YAAAC,EACA,GAAGC,CAAA,EACDT,EAEEU,EAAWC,EAAaV,CAAG,EACjCW,EAAa,CAAC,UAAAT,CAAA,EAAYO,CAAQ,EAElC,MAAMG,EAAiBC,EAAkBV,CAAI,EAE7C,cACG,MAAA,CACC,SAAA,CAAAW,EAAAA,KAAC,QAAA,CACC,UAAWC,EACT,gEACAT,EACAM,EAAe,MACfb,EAAM,UAAY,oCAClBA,EAAM,SAAW,aAAA,EAGnB,SAAA,CAAAiB,EAAAA,IAAC,QAAA,CACC,KAAK,QACL,UAAWD,EACT,kCACA,0DACA,yGACA,gFACA,sIACA,wDACAH,EAAe,MAAA,EAEjB,IAAKH,EACJ,GAAGD,CAAA,CAAA,EAELP,GAAYe,EAAAA,IAAC,OAAA,CAAM,SAAAf,CAAA,CAAS,CAAA,CAAA,CAAA,EAE9BM,SACE,MAAA,CAAI,UAAWQ,EAAK,0BAA2BH,EAAe,MAAM,EAClE,SAAAL,CAAA,CACH,CAAA,EAEJ,CAEJ,CAAC,EAEM,SAASU,EAAUlB,EAAmB,CAC3C,KAAM,CACJ,MAAO,CAAC,SAAAmB,EAAU,OAAAC,EAAQ,MAAAC,EAAO,IAAApB,CAAA,EACjC,WAAY,CAAC,QAAAI,CAAA,CAAO,EAClBiB,EAAc,CAChB,KAAMtB,EAAM,IAAA,CACb,EAEKuB,EAAiC,CACrC,SAAAJ,EACA,OAAAC,EACA,QAASpB,EAAM,QAAUqB,EACzB,QAASrB,EAAM,SAAWK,CAAA,EAG5B,aAAQP,EAAA,CAAM,IAAAG,EAAW,GAAGuB,EAAWxB,EAAOuB,CAAS,EAAG,CAC5D,CAEA,SAAST,EAAkBV,EAIzB,CACA,OAAQA,EAAA,CACN,IAAK,KACH,MAAO,CAAC,OAAQ,YAAa,MAAO,UAAW,OAAQ,OAAA,EACzD,IAAK,KACH,MAAO,CAAC,OAAQ,YAAa,MAAO,UAAW,OAAQ,OAAA,EACzD,IAAK,KACH,MAAO,CAAC,OAAQ,YAAa,MAAO,UAAW,OAAQ,OAAA,EACzD,QACE,MAAO,CAAC,OAAQ,YAAa,MAAO,YAAa,OAAQ,OAAA,CAAO,CAEtE,CCxEO,MAAMqB,EAAa1B,EAAAA,WACxB,CAACC,EAAOC,IAAQ,CACd,MAAMyB,EAAQC,EAAwB3B,CAAK,EACrC,CACJ,MAAA4B,EACA,SAAA1B,EACA,KAAAE,EACA,UAAAyB,EACA,YAAAC,EAAc,aACd,SAAAC,EACA,SAAAC,EACA,QAAA3B,EACA,aAAA4B,EACA,YAAAzB,EACA,MAAAa,EACA,SAAUa,CAAA,EACRlC,EAEEmC,EAAa,CAAA,EACbC,EAAKC,EAAAA,MAAA,EACLC,EAAOtC,EAAM,MAAQoC,EAE3B,OACErB,EAAAA,KAAC,WAAA,CACC,mBAAkBP,EAAc,GAAG4B,CAAE,eAAiB,OACtD,IAAAnC,EACA,UAAWe,EAAK,YAAaa,CAAS,EAErC,SAAA,CAAAD,SACE,SAAA,CAAO,UAAWF,EAAM,MAAQ,GAAGS,EACjC,SAAAP,EACH,EAEFX,EAAAA,IAAC,MAAA,CACC,UAAWD,EACT,OACAY,EAAQ,OAAS,OACjBE,IAAgB,WACZ,iBACA,2BAAA,EAGL,SAAAS,EAAAA,SAAS,IAAIrC,EAAUsC,GAAS,CAC/B,GAAIC,EAAAA,eAA2BD,CAAK,EAClC,OAAOE,EAAAA,aAAyBF,EAAO,CACrC,KAAAF,EACA,KAAAlC,EACA,QAASoC,EAAM,MAAM,SAAWnC,GAAW,OAC3C,SAAUmC,EAAM,MAAM,UAAYT,EAClC,SAAUS,EAAM,MAAM,UAAYR,EAClC,QACEX,IAAU,OAAYA,IAAUmB,EAAM,MAAM,MAAQ,OACtD,SAAUA,EAAM,MAAM,SAClBA,EAAM,MAAM,SACZN,EACES,GAAKT,EAAcS,EAAE,OAAO,KAAK,EACjC,MAAA,CACP,CAEL,CAAC,CAAA,CAAA,EAEFnC,GAAe,CAACyB,GACfhB,EAAAA,IAAC,MAAA,CAAI,UAAWS,EAAM,YAAa,GAAI,GAAGU,CAAE,eACzC,SAAA5B,EACH,EAEDyB,GAAgBhB,EAAAA,IAAC,MAAA,CAAI,UAAWS,EAAM,MAAQ,SAAAO,CAAA,CAAa,CAAA,CAAA,CAAA,CAGlE,CACF,EAKO,SAASW,EAAe,CAAC,SAAA1C,EAAU,GAAGF,GAA6B,CACxE,KAAM,CACJ,WAAY,CAAC,MAAA6C,CAAA,CAAK,EAChBvB,EAAc,CAChB,KAAMtB,EAAM,IAAA,CACb,EACD,aACGyB,EAAA,CAAW,aAAcoB,GAAA,YAAAA,EAAO,QAAU,GAAG7C,EAC3C,SAAAE,EACH,CAEJ"}